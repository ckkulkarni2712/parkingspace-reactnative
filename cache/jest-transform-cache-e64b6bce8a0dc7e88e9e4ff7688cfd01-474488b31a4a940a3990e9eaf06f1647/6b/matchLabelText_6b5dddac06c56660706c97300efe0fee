f7015532e2d36bee9265a3d62ff8b369
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.matchLabelText = matchLabelText;
var _matches = require("../../matches");
var _findAll = require("../findAll");
var _matchTextContent = require("./matchTextContent");
function matchLabelText(root, element, text) {
  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
  return matchAccessibilityLabel(element, text, options) || matchAccessibilityLabelledBy(root, element.props.accessibilityLabelledBy, text, options);
}
function matchAccessibilityLabel(element, text, options) {
  var exact = options.exact,
    normalizer = options.normalizer;
  return (0, _matches.matches)(text, element.props.accessibilityLabel, normalizer, exact);
}
function matchAccessibilityLabelledBy(root, nativeId, text, options) {
  if (!nativeId) {
    return false;
  }
  return (0, _findAll.findAll)(root, function (node) {
    return typeof node.type === 'string' && node.props.nativeID === nativeId && (0, _matchTextContent.matchTextContent)(node, text, options);
  }).length > 0;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBRU8sU0FBU0EsY0FBYyxDQUM1QkMsSUFBdUIsRUFDdkJDLE9BQTBCLEVBQzFCQyxJQUFlLEVBRWY7RUFBQSxJQURBQyxPQUF5Qix1RUFBRyxDQUFDLENBQUM7RUFFOUIsT0FDRUMsdUJBQXVCLENBQUNILE9BQU8sRUFBRUMsSUFBSSxFQUFFQyxPQUFPLENBQUMsSUFDL0NFLDRCQUE0QixDQUMxQkwsSUFBSSxFQUNKQyxPQUFPLENBQUNLLEtBQUssQ0FBQ0MsdUJBQXVCLEVBQ3JDTCxJQUFJLEVBQ0pDLE9BQU8sQ0FDUjtBQUVMO0FBRUEsU0FBU0MsdUJBQXVCLENBQzlCSCxPQUEwQixFQUMxQkMsSUFBZSxFQUNmQyxPQUF5QixFQUN6QjtFQUNBLElBQVFLLEtBQUssR0FBaUJMLE9BQU8sQ0FBN0JLLEtBQUs7SUFBRUMsYUFBZU4sT0FBTyxDQUF0Qk07RUFDZixPQUFPLG9CQUFPLEVBQUNQLElBQUksRUFBRUQsT0FBTyxDQUFDSyxLQUFLLENBQUNJLGtCQUFrQixFQUFFRCxVQUFVLEVBQUVELEtBQUssQ0FBQztBQUMzRTtBQUVBLFNBQVNILDRCQUE0QixDQUNuQ0wsSUFBdUIsRUFDdkJXLFFBQTRCLEVBQzVCVCxJQUFlLEVBQ2ZDLE9BQXlCLEVBQ3pCO0VBQ0EsSUFBSSxDQUFDUSxRQUFRLEVBQUU7SUFDYixPQUFPLEtBQUs7RUFDZDtFQUVBLE9BQ0Usb0JBQU8sRUFDTFgsSUFBSSxFQUNIWSxjQUFJO0lBQUEsT0FDSCxPQUFPQSxJQUFJLENBQUNDLElBQUksS0FBSyxRQUFRLElBQzdCRCxJQUFJLENBQUNOLEtBQUssQ0FBQ1EsUUFBUSxLQUFLSCxRQUFRLElBQ2hDLHNDQUFnQixFQUFDQyxJQUFJLEVBQUVWLElBQUksRUFBRUMsT0FBTyxDQUFDO0VBQUEsRUFDeEMsQ0FBQ1ksTUFBTSxHQUFHLENBQUM7QUFFaEIiLCJuYW1lcyI6WyJtYXRjaExhYmVsVGV4dCIsInJvb3QiLCJlbGVtZW50IiwidGV4dCIsIm9wdGlvbnMiLCJtYXRjaEFjY2Vzc2liaWxpdHlMYWJlbCIsIm1hdGNoQWNjZXNzaWJpbGl0eUxhYmVsbGVkQnkiLCJwcm9wcyIsImFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5IiwiZXhhY3QiLCJub3JtYWxpemVyIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwibmF0aXZlSWQiLCJub2RlIiwidHlwZSIsIm5hdGl2ZUlEIiwibGVuZ3RoIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2hlbHBlcnMvbWF0Y2hlcnMvbWF0Y2hMYWJlbFRleHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3RUZXN0SW5zdGFuY2UgfSBmcm9tICdyZWFjdC10ZXN0LXJlbmRlcmVyJztcbmltcG9ydCB7IG1hdGNoZXMsIFRleHRNYXRjaCwgVGV4dE1hdGNoT3B0aW9ucyB9IGZyb20gJy4uLy4uL21hdGNoZXMnO1xuaW1wb3J0IHsgZmluZEFsbCB9IGZyb20gJy4uL2ZpbmRBbGwnO1xuaW1wb3J0IHsgbWF0Y2hUZXh0Q29udGVudCB9IGZyb20gJy4vbWF0Y2hUZXh0Q29udGVudCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaExhYmVsVGV4dChcbiAgcm9vdDogUmVhY3RUZXN0SW5zdGFuY2UsXG4gIGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlLFxuICB0ZXh0OiBUZXh0TWF0Y2gsXG4gIG9wdGlvbnM6IFRleHRNYXRjaE9wdGlvbnMgPSB7fVxuKSB7XG4gIHJldHVybiAoXG4gICAgbWF0Y2hBY2Nlc3NpYmlsaXR5TGFiZWwoZWxlbWVudCwgdGV4dCwgb3B0aW9ucykgfHxcbiAgICBtYXRjaEFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5KFxuICAgICAgcm9vdCxcbiAgICAgIGVsZW1lbnQucHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsbGVkQnksXG4gICAgICB0ZXh0LFxuICAgICAgb3B0aW9uc1xuICAgIClcbiAgKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hBY2Nlc3NpYmlsaXR5TGFiZWwoXG4gIGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlLFxuICB0ZXh0OiBUZXh0TWF0Y2gsXG4gIG9wdGlvbnM6IFRleHRNYXRjaE9wdGlvbnNcbikge1xuICBjb25zdCB7IGV4YWN0LCBub3JtYWxpemVyIH0gPSBvcHRpb25zO1xuICByZXR1cm4gbWF0Y2hlcyh0ZXh0LCBlbGVtZW50LnByb3BzLmFjY2Vzc2liaWxpdHlMYWJlbCwgbm9ybWFsaXplciwgZXhhY3QpO1xufVxuXG5mdW5jdGlvbiBtYXRjaEFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5KFxuICByb290OiBSZWFjdFRlc3RJbnN0YW5jZSxcbiAgbmF0aXZlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgdGV4dDogVGV4dE1hdGNoLFxuICBvcHRpb25zOiBUZXh0TWF0Y2hPcHRpb25zXG4pIHtcbiAgaWYgKCFuYXRpdmVJZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgZmluZEFsbChcbiAgICAgIHJvb3QsXG4gICAgICAobm9kZSkgPT5cbiAgICAgICAgdHlwZW9mIG5vZGUudHlwZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgbm9kZS5wcm9wcy5uYXRpdmVJRCA9PT0gbmF0aXZlSWQgJiZcbiAgICAgICAgbWF0Y2hUZXh0Q29udGVudChub2RlLCB0ZXh0LCBvcHRpb25zKVxuICAgICkubGVuZ3RoID4gMFxuICApO1xufVxuIl19