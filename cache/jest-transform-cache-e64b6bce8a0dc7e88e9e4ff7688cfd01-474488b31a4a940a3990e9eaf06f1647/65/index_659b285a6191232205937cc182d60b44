a732b66c088d7507939ea8881453ab18
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = diffSequence;
var pkg = 'diff-sequences';
var NOT_YET_SET = 0;
var countCommonItemsF = function countCommonItemsF(aIndex, aEnd, bIndex, bEnd, isCommon) {
  var nCommon = 0;
  while (aIndex < aEnd && bIndex < bEnd && isCommon(aIndex, bIndex)) {
    aIndex += 1;
    bIndex += 1;
    nCommon += 1;
  }
  return nCommon;
};
var countCommonItemsR = function countCommonItemsR(aStart, aIndex, bStart, bIndex, isCommon) {
  var nCommon = 0;
  while (aStart <= aIndex && bStart <= bIndex && isCommon(aIndex, bIndex)) {
    aIndex -= 1;
    bIndex -= 1;
    nCommon += 1;
  }
  return nCommon;
};
var extendPathsF = function extendPathsF(d, aEnd, bEnd, bF, isCommon, aIndexesF, iMaxF) {
  var iF = 0;
  var kF = -d;
  var aFirst = aIndexesF[iF];
  var aIndexPrev1 = aFirst;
  aIndexesF[iF] += countCommonItemsF(aFirst + 1, aEnd, bF + aFirst - kF + 1, bEnd, isCommon);
  var nF = d < iMaxF ? d : iMaxF;
  for (iF += 1, kF += 2; iF <= nF; iF += 1, kF += 2) {
    if (iF !== d && aIndexPrev1 < aIndexesF[iF]) {
      aFirst = aIndexesF[iF];
    } else {
      aFirst = aIndexPrev1 + 1;
      if (aEnd <= aFirst) {
        return iF - 1;
      }
    }
    aIndexPrev1 = aIndexesF[iF];
    aIndexesF[iF] = aFirst + countCommonItemsF(aFirst + 1, aEnd, bF + aFirst - kF + 1, bEnd, isCommon);
  }
  return iMaxF;
};
var extendPathsR = function extendPathsR(d, aStart, bStart, bR, isCommon, aIndexesR, iMaxR) {
  var iR = 0;
  var kR = d;
  var aFirst = aIndexesR[iR];
  var aIndexPrev1 = aFirst;
  aIndexesR[iR] -= countCommonItemsR(aStart, aFirst - 1, bStart, bR + aFirst - kR - 1, isCommon);
  var nR = d < iMaxR ? d : iMaxR;
  for (iR += 1, kR -= 2; iR <= nR; iR += 1, kR -= 2) {
    if (iR !== d && aIndexesR[iR] < aIndexPrev1) {
      aFirst = aIndexesR[iR];
    } else {
      aFirst = aIndexPrev1 - 1;
      if (aFirst < aStart) {
        return iR - 1;
      }
    }
    aIndexPrev1 = aIndexesR[iR];
    aIndexesR[iR] = aFirst - countCommonItemsR(aStart, aFirst - 1, bStart, bR + aFirst - kR - 1, isCommon);
  }
  return iMaxR;
};
var extendOverlappablePathsF = function extendOverlappablePathsF(d, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, iMaxF, aIndexesR, iMaxR, division) {
  var bF = bStart - aStart;
  var aLength = aEnd - aStart;
  var bLength = bEnd - bStart;
  var baDeltaLength = bLength - aLength;
  var kMinOverlapF = -baDeltaLength - (d - 1);
  var kMaxOverlapF = -baDeltaLength + (d - 1);
  var aIndexPrev1 = NOT_YET_SET;
  var nF = d < iMaxF ? d : iMaxF;
  for (var iF = 0, kF = -d; iF <= nF; iF += 1, kF += 2) {
    var insert = iF === 0 || iF !== d && aIndexPrev1 < aIndexesF[iF];
    var aLastPrev = insert ? aIndexesF[iF] : aIndexPrev1;
    var aFirst = insert ? aLastPrev : aLastPrev + 1;
    var bFirst = bF + aFirst - kF;
    var nCommonF = countCommonItemsF(aFirst + 1, aEnd, bFirst + 1, bEnd, isCommon);
    var aLast = aFirst + nCommonF;
    aIndexPrev1 = aIndexesF[iF];
    aIndexesF[iF] = aLast;
    if (kMinOverlapF <= kF && kF <= kMaxOverlapF) {
      var iR = (d - 1 - (kF + baDeltaLength)) / 2;
      if (iR <= iMaxR && aIndexesR[iR] - 1 <= aLast) {
        var bLastPrev = bF + aLastPrev - (insert ? kF + 1 : kF - 1);
        var nCommonR = countCommonItemsR(aStart, aLastPrev, bStart, bLastPrev, isCommon);
        var aIndexPrevFirst = aLastPrev - nCommonR;
        var bIndexPrevFirst = bLastPrev - nCommonR;
        var aEndPreceding = aIndexPrevFirst + 1;
        var bEndPreceding = bIndexPrevFirst + 1;
        division.nChangePreceding = d - 1;
        if (d - 1 === aEndPreceding + bEndPreceding - aStart - bStart) {
          division.aEndPreceding = aStart;
          division.bEndPreceding = bStart;
        } else {
          division.aEndPreceding = aEndPreceding;
          division.bEndPreceding = bEndPreceding;
        }
        division.nCommonPreceding = nCommonR;
        if (nCommonR !== 0) {
          division.aCommonPreceding = aEndPreceding;
          division.bCommonPreceding = bEndPreceding;
        }
        division.nCommonFollowing = nCommonF;
        if (nCommonF !== 0) {
          division.aCommonFollowing = aFirst + 1;
          division.bCommonFollowing = bFirst + 1;
        }
        var aStartFollowing = aLast + 1;
        var bStartFollowing = bFirst + nCommonF + 1;
        division.nChangeFollowing = d - 1;
        if (d - 1 === aEnd + bEnd - aStartFollowing - bStartFollowing) {
          division.aStartFollowing = aEnd;
          division.bStartFollowing = bEnd;
        } else {
          division.aStartFollowing = aStartFollowing;
          division.bStartFollowing = bStartFollowing;
        }
        return true;
      }
    }
  }
  return false;
};
var extendOverlappablePathsR = function extendOverlappablePathsR(d, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, iMaxF, aIndexesR, iMaxR, division) {
  var bR = bEnd - aEnd;
  var aLength = aEnd - aStart;
  var bLength = bEnd - bStart;
  var baDeltaLength = bLength - aLength;
  var kMinOverlapR = baDeltaLength - d;
  var kMaxOverlapR = baDeltaLength + d;
  var aIndexPrev1 = NOT_YET_SET;
  var nR = d < iMaxR ? d : iMaxR;
  for (var iR = 0, kR = d; iR <= nR; iR += 1, kR -= 2) {
    var insert = iR === 0 || iR !== d && aIndexesR[iR] < aIndexPrev1;
    var aLastPrev = insert ? aIndexesR[iR] : aIndexPrev1;
    var aFirst = insert ? aLastPrev : aLastPrev - 1;
    var bFirst = bR + aFirst - kR;
    var nCommonR = countCommonItemsR(aStart, aFirst - 1, bStart, bFirst - 1, isCommon);
    var aLast = aFirst - nCommonR;
    aIndexPrev1 = aIndexesR[iR];
    aIndexesR[iR] = aLast;
    if (kMinOverlapR <= kR && kR <= kMaxOverlapR) {
      var iF = (d + (kR - baDeltaLength)) / 2;
      if (iF <= iMaxF && aLast - 1 <= aIndexesF[iF]) {
        var bLast = bFirst - nCommonR;
        division.nChangePreceding = d;
        if (d === aLast + bLast - aStart - bStart) {
          division.aEndPreceding = aStart;
          division.bEndPreceding = bStart;
        } else {
          division.aEndPreceding = aLast;
          division.bEndPreceding = bLast;
        }
        division.nCommonPreceding = nCommonR;
        if (nCommonR !== 0) {
          division.aCommonPreceding = aLast;
          division.bCommonPreceding = bLast;
        }
        division.nChangeFollowing = d - 1;
        if (d === 1) {
          division.nCommonFollowing = 0;
          division.aStartFollowing = aEnd;
          division.bStartFollowing = bEnd;
        } else {
          var bLastPrev = bR + aLastPrev - (insert ? kR - 1 : kR + 1);
          var nCommonF = countCommonItemsF(aLastPrev, aEnd, bLastPrev, bEnd, isCommon);
          division.nCommonFollowing = nCommonF;
          if (nCommonF !== 0) {
            division.aCommonFollowing = aLastPrev;
            division.bCommonFollowing = bLastPrev;
          }
          var aStartFollowing = aLastPrev + nCommonF;
          var bStartFollowing = bLastPrev + nCommonF;
          if (d - 1 === aEnd + bEnd - aStartFollowing - bStartFollowing) {
            division.aStartFollowing = aEnd;
            division.bStartFollowing = bEnd;
          } else {
            division.aStartFollowing = aStartFollowing;
            division.bStartFollowing = bStartFollowing;
          }
        }
        return true;
      }
    }
  }
  return false;
};
var divide = function divide(nChange, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, aIndexesR, division) {
  var bF = bStart - aStart;
  var bR = bEnd - aEnd;
  var aLength = aEnd - aStart;
  var bLength = bEnd - bStart;
  var baDeltaLength = bLength - aLength;
  var iMaxF = aLength;
  var iMaxR = aLength;
  aIndexesF[0] = aStart - 1;
  aIndexesR[0] = aEnd;
  if (baDeltaLength % 2 === 0) {
    var dMin = (nChange || baDeltaLength) / 2;
    var dMax = (aLength + bLength) / 2;
    for (var d = 1; d <= dMax; d += 1) {
      iMaxF = extendPathsF(d, aEnd, bEnd, bF, isCommon, aIndexesF, iMaxF);
      if (d < dMin) {
        iMaxR = extendPathsR(d, aStart, bStart, bR, isCommon, aIndexesR, iMaxR);
      } else if (extendOverlappablePathsR(d, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, iMaxF, aIndexesR, iMaxR, division)) {
        return;
      }
    }
  } else {
    var _dMin = ((nChange || baDeltaLength) + 1) / 2;
    var _dMax = (aLength + bLength + 1) / 2;
    var _d = 1;
    iMaxF = extendPathsF(_d, aEnd, bEnd, bF, isCommon, aIndexesF, iMaxF);
    for (_d += 1; _d <= _dMax; _d += 1) {
      iMaxR = extendPathsR(_d - 1, aStart, bStart, bR, isCommon, aIndexesR, iMaxR);
      if (_d < _dMin) {
        iMaxF = extendPathsF(_d, aEnd, bEnd, bF, isCommon, aIndexesF, iMaxF);
      } else if (extendOverlappablePathsF(_d, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, iMaxF, aIndexesR, iMaxR, division)) {
        return;
      }
    }
  }
  throw new Error(pkg + ": no overlap aStart=" + aStart + " aEnd=" + aEnd + " bStart=" + bStart + " bEnd=" + bEnd);
};
var findSubsequences = function findSubsequences(nChange, aStart, aEnd, bStart, bEnd, transposed, callbacks, aIndexesF, aIndexesR, division) {
  if (bEnd - bStart < aEnd - aStart) {
    transposed = !transposed;
    if (transposed && callbacks.length === 1) {
      var _callbacks$ = callbacks[0],
        _foundSubsequence = _callbacks$.foundSubsequence,
        _isCommon = _callbacks$.isCommon;
      callbacks[1] = {
        foundSubsequence: function foundSubsequence(nCommon, bCommon, aCommon) {
          _foundSubsequence(nCommon, aCommon, bCommon);
        },
        isCommon: function isCommon(bIndex, aIndex) {
          return _isCommon(aIndex, bIndex);
        }
      };
    }
    var tStart = aStart;
    var tEnd = aEnd;
    aStart = bStart;
    aEnd = bEnd;
    bStart = tStart;
    bEnd = tEnd;
  }
  var _callbacks = callbacks[transposed ? 1 : 0],
    foundSubsequence = _callbacks.foundSubsequence,
    isCommon = _callbacks.isCommon;
  divide(nChange, aStart, aEnd, bStart, bEnd, isCommon, aIndexesF, aIndexesR, division);
  var nChangePreceding = division.nChangePreceding,
    aEndPreceding = division.aEndPreceding,
    bEndPreceding = division.bEndPreceding,
    nCommonPreceding = division.nCommonPreceding,
    aCommonPreceding = division.aCommonPreceding,
    bCommonPreceding = division.bCommonPreceding,
    nCommonFollowing = division.nCommonFollowing,
    aCommonFollowing = division.aCommonFollowing,
    bCommonFollowing = division.bCommonFollowing,
    nChangeFollowing = division.nChangeFollowing,
    aStartFollowing = division.aStartFollowing,
    bStartFollowing = division.bStartFollowing;
  if (aStart < aEndPreceding && bStart < bEndPreceding) {
    findSubsequences(nChangePreceding, aStart, aEndPreceding, bStart, bEndPreceding, transposed, callbacks, aIndexesF, aIndexesR, division);
  }
  if (nCommonPreceding !== 0) {
    foundSubsequence(nCommonPreceding, aCommonPreceding, bCommonPreceding);
  }
  if (nCommonFollowing !== 0) {
    foundSubsequence(nCommonFollowing, aCommonFollowing, bCommonFollowing);
  }
  if (aStartFollowing < aEnd && bStartFollowing < bEnd) {
    findSubsequences(nChangeFollowing, aStartFollowing, aEnd, bStartFollowing, bEnd, transposed, callbacks, aIndexesF, aIndexesR, division);
  }
};
var validateLength = function validateLength(name, arg) {
  if (typeof arg !== 'number') {
    throw new TypeError(pkg + ": " + name + " typeof " + typeof arg + " is not a number");
  }
  if (!Number.isSafeInteger(arg)) {
    throw new RangeError(pkg + ": " + name + " value " + arg + " is not a safe integer");
  }
  if (arg < 0) {
    throw new RangeError(pkg + ": " + name + " value " + arg + " is a negative integer");
  }
};
var validateCallback = function validateCallback(name, arg) {
  var type = typeof arg;
  if (type !== 'function') {
    throw new TypeError(pkg + ": " + name + " typeof " + type + " is not a function");
  }
};
function diffSequence(aLength, bLength, isCommon, foundSubsequence) {
  validateLength('aLength', aLength);
  validateLength('bLength', bLength);
  validateCallback('isCommon', isCommon);
  validateCallback('foundSubsequence', foundSubsequence);
  var nCommonF = countCommonItemsF(0, aLength, 0, bLength, isCommon);
  if (nCommonF !== 0) {
    foundSubsequence(nCommonF, 0, 0);
  }
  if (aLength !== nCommonF || bLength !== nCommonF) {
    var aStart = nCommonF;
    var bStart = nCommonF;
    var nCommonR = countCommonItemsR(aStart, aLength - 1, bStart, bLength - 1, isCommon);
    var aEnd = aLength - nCommonR;
    var bEnd = bLength - nCommonR;
    var nCommonFR = nCommonF + nCommonR;
    if (aLength !== nCommonFR && bLength !== nCommonFR) {
      var nChange = 0;
      var transposed = false;
      var callbacks = [{
        foundSubsequence: foundSubsequence,
        isCommon: isCommon
      }];
      var aIndexesF = [NOT_YET_SET];
      var aIndexesR = [NOT_YET_SET];
      var division = {
        aCommonFollowing: NOT_YET_SET,
        aCommonPreceding: NOT_YET_SET,
        aEndPreceding: NOT_YET_SET,
        aStartFollowing: NOT_YET_SET,
        bCommonFollowing: NOT_YET_SET,
        bCommonPreceding: NOT_YET_SET,
        bEndPreceding: NOT_YET_SET,
        bStartFollowing: NOT_YET_SET,
        nChangeFollowing: NOT_YET_SET,
        nChangePreceding: NOT_YET_SET,
        nCommonFollowing: NOT_YET_SET,
        nCommonPreceding: NOT_YET_SET
      };
      findSubsequences(nChange, aStart, aEnd, bStart, bEnd, transposed, callbacks, aIndexesF, aIndexesR, division);
    }
    if (nCommonR !== 0) {
      foundSubsequence(nCommonR, aEnd, bEnd);
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJkaWZmU2VxdWVuY2UiLCJwa2ciLCJOT1RfWUVUX1NFVCIsImNvdW50Q29tbW9uSXRlbXNGIiwiYUluZGV4IiwiYUVuZCIsImJJbmRleCIsImJFbmQiLCJpc0NvbW1vbiIsIm5Db21tb24iLCJjb3VudENvbW1vbkl0ZW1zUiIsImFTdGFydCIsImJTdGFydCIsImV4dGVuZFBhdGhzRiIsImQiLCJiRiIsImFJbmRleGVzRiIsImlNYXhGIiwiaUYiLCJrRiIsImFGaXJzdCIsImFJbmRleFByZXYxIiwibkYiLCJleHRlbmRQYXRoc1IiLCJiUiIsImFJbmRleGVzUiIsImlNYXhSIiwiaVIiLCJrUiIsIm5SIiwiZXh0ZW5kT3ZlcmxhcHBhYmxlUGF0aHNGIiwiZGl2aXNpb24iLCJhTGVuZ3RoIiwiYkxlbmd0aCIsImJhRGVsdGFMZW5ndGgiLCJrTWluT3ZlcmxhcEYiLCJrTWF4T3ZlcmxhcEYiLCJpbnNlcnQiLCJhTGFzdFByZXYiLCJiRmlyc3QiLCJuQ29tbW9uRiIsImFMYXN0IiwiYkxhc3RQcmV2IiwibkNvbW1vblIiLCJhSW5kZXhQcmV2Rmlyc3QiLCJiSW5kZXhQcmV2Rmlyc3QiLCJhRW5kUHJlY2VkaW5nIiwiYkVuZFByZWNlZGluZyIsIm5DaGFuZ2VQcmVjZWRpbmciLCJuQ29tbW9uUHJlY2VkaW5nIiwiYUNvbW1vblByZWNlZGluZyIsImJDb21tb25QcmVjZWRpbmciLCJuQ29tbW9uRm9sbG93aW5nIiwiYUNvbW1vbkZvbGxvd2luZyIsImJDb21tb25Gb2xsb3dpbmciLCJhU3RhcnRGb2xsb3dpbmciLCJiU3RhcnRGb2xsb3dpbmciLCJuQ2hhbmdlRm9sbG93aW5nIiwiZXh0ZW5kT3ZlcmxhcHBhYmxlUGF0aHNSIiwia01pbk92ZXJsYXBSIiwia01heE92ZXJsYXBSIiwiYkxhc3QiLCJkaXZpZGUiLCJuQ2hhbmdlIiwiZE1pbiIsImRNYXgiLCJFcnJvciIsImZpbmRTdWJzZXF1ZW5jZXMiLCJ0cmFuc3Bvc2VkIiwiY2FsbGJhY2tzIiwibGVuZ3RoIiwiZm91bmRTdWJzZXF1ZW5jZSIsImJDb21tb24iLCJhQ29tbW9uIiwidFN0YXJ0IiwidEVuZCIsInZhbGlkYXRlTGVuZ3RoIiwibmFtZSIsImFyZyIsIlR5cGVFcnJvciIsIk51bWJlciIsImlzU2FmZUludGVnZXIiLCJSYW5nZUVycm9yIiwidmFsaWRhdGVDYWxsYmFjayIsInR5cGUiLCJuQ29tbW9uRlIiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGlmZlNlcXVlbmNlO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4vLyBUaGlzIGRpZmYtc2VxdWVuY2VzIHBhY2thZ2UgaW1wbGVtZW50cyB0aGUgbGluZWFyIHNwYWNlIHZhcmlhdGlvbiBpblxuLy8gQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIEl0cyBWYXJpYXRpb25zIGJ5IEV1Z2VuZSBXLiBNeWVyc1xuXG4vLyBSZWxhdGlvbnNoaXAgaW4gbm90YXRpb24gYmV0d2VlbiBNeWVycyBwYXBlciBhbmQgdGhpcyBwYWNrYWdlOlxuLy8gQSBpcyBhXG4vLyBOIGlzIGFMZW5ndGgsIGFFbmQgLSBhU3RhcnQsIGFuZCBzbyBvblxuLy8geCBpcyBhSW5kZXgsIGFGaXJzdCwgYUxhc3QsIGFuZCBzbyBvblxuLy8gQiBpcyBiXG4vLyBNIGlzIGJMZW5ndGgsIGJFbmQgLSBiU3RhcnQsIGFuZCBzbyBvblxuLy8geSBpcyBiSW5kZXgsIGJGaXJzdCwgYkxhc3QsIGFuZCBzbyBvblxuLy8gzpQgPSBOIC0gTSBpcyBuZWdhdGl2ZSBvZiBiYURlbHRhTGVuZ3RoID0gYkxlbmd0aCAtIGFMZW5ndGhcbi8vIEQgaXMgZFxuLy8gayBpcyBrRlxuLy8gayArIM6UIGlzIGtGID0ga1IgLSBiYURlbHRhTGVuZ3RoXG4vLyBWIGlzIGFJbmRleGVzRiBvciBhSW5kZXhlc1IgKHNlZSBjb21tZW50IGJlbG93IGFib3V0IEluZGV4ZXMgdHlwZSlcbi8vIGluZGV4IGludGVydmFscyBbMSwgTl0gYW5kIFsxLCBNXSBhcmUgWzAsIGFMZW5ndGgpIGFuZCBbMCwgYkxlbmd0aClcbi8vIHN0YXJ0aW5nIHBvaW50IGluIGZvcndhcmQgZGlyZWN0aW9uICgwLCAwKSBpcyAoLTEsIC0xKVxuLy8gc3RhcnRpbmcgcG9pbnQgaW4gcmV2ZXJzZSBkaXJlY3Rpb24gKE4gKyAxLCBNICsgMSkgaXMgKGFMZW5ndGgsIGJMZW5ndGgpXG5cbi8vIFRoZSDigJxlZGl0IGdyYXBo4oCdIGZvciBzZXF1ZW5jZXMgYSBhbmQgYiBjb3JyZXNwb25kcyB0byBpdGVtczpcbi8vIGluIGEgb24gdGhlIGhvcml6b250YWwgYXhpc1xuLy8gaW4gYiBvbiB0aGUgdmVydGljYWwgYXhpc1xuLy9cbi8vIEdpdmVuIGEtY29vcmRpbmF0ZSBvZiBhIHBvaW50IGluIGEgZGlhZ29uYWwsIHlvdSBjYW4gY29tcHV0ZSBiLWNvb3JkaW5hdGUuXG4vL1xuLy8gRm9yd2FyZCBkaWFnb25hbHMga0Y6XG4vLyB6ZXJvIGRpYWdvbmFsIGludGVyc2VjdHMgdG9wIGxlZnQgY29ybmVyXG4vLyBwb3NpdGl2ZSBkaWFnb25hbHMgaW50ZXJzZWN0IHRvcCBlZGdlXG4vLyBuZWdhdGl2ZSBkaWFnb25hbHMgaW5zZXJzZWN0IGxlZnQgZWRnZVxuLy9cbi8vIFJldmVyc2UgZGlhZ29uYWxzIGtSOlxuLy8gemVybyBkaWFnb25hbCBpbnRlcnNlY3RzIGJvdHRvbSByaWdodCBjb3JuZXJcbi8vIHBvc2l0aXZlIGRpYWdvbmFscyBpbnRlcnNlY3QgcmlnaHQgZWRnZVxuLy8gbmVnYXRpdmUgZGlhZ29uYWxzIGludGVyc2VjdCBib3R0b20gZWRnZVxuXG4vLyBUaGUgZ3JhcGggY29udGFpbnMgYSBkaXJlY3RlZCBhY3ljbGljIGdyYXBoIG9mIGVkZ2VzOlxuLy8gaG9yaXpvbnRhbDogZGVsZXRlIGFuIGl0ZW0gZnJvbSBhXG4vLyB2ZXJ0aWNhbDogaW5zZXJ0IGFuIGl0ZW0gZnJvbSBiXG4vLyBkaWFnb25hbDogY29tbW9uIGl0ZW0gaW4gYSBhbmQgYlxuLy9cbi8vIFRoZSBhbGdvcml0aG0gc29sdmVzIGR1YWwgcHJvYmxlbXMgaW4gdGhlIGdyYXBoIGFuYWxvZ3k6XG4vLyBGaW5kIGxvbmdlc3QgY29tbW9uIHN1YnNlcXVlbmNlOiBwYXRoIHdpdGggbWF4aW11bSBudW1iZXIgb2YgZGlhZ29uYWwgZWRnZXNcbi8vIEZpbmQgc2hvcnRlc3QgZWRpdCBzY3JpcHQ6IHBhdGggd2l0aCBtaW5pbXVtIG51bWJlciBvZiBub24tZGlhZ29uYWwgZWRnZXNcblxuLy8gSW5wdXQgY2FsbGJhY2sgZnVuY3Rpb24gY29tcGFyZXMgaXRlbXMgYXQgaW5kZXhlcyBpbiB0aGUgc2VxdWVuY2VzLlxuXG4vLyBPdXRwdXQgY2FsbGJhY2sgZnVuY3Rpb24gcmVjZWl2ZXMgdGhlIG51bWJlciBvZiBhZGphY2VudCBpdGVtc1xuLy8gYW5kIHN0YXJ0aW5nIGluZGV4ZXMgb2YgZWFjaCBjb21tb24gc3Vic2VxdWVuY2UuXG5cbi8vIEVpdGhlciBvcmlnaW5hbCBmdW5jdGlvbnMgb3Igd3JhcHBlZCB0byBzd2FwIGluZGV4ZXMgaWYgZ3JhcGggaXMgdHJhbnNwb3NlZC5cblxuLy8gSW5kZXhlcyBpbiBzZXF1ZW5jZSBhIG9mIGxhc3QgcG9pbnQgb2YgZm9yd2FyZCBvciByZXZlcnNlIHBhdGhzIGluIGdyYXBoLlxuLy8gTXllcnMgYWxnb3JpdGhtIGluZGV4ZXMgYnkgZGlhZ29uYWwgayB3aGljaCBmb3IgbmVnYXRpdmUgaXMgYmFkIGRlb3B0IGluIFY4LlxuLy8gVGhpcyBwYWNrYWdlIGluZGV4ZXMgYnkgaUYgYW5kIGlSIHdoaWNoIGFyZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gemVyby5cbi8vIGFuZCBhbHNvIHVwZGF0ZXMgdGhlIGluZGV4IGFycmF5cyBpbiBwbGFjZSB0byBjdXQgbWVtb3J5IGluIGhhbGYuXG4vLyBrRiA9IDIgKiBpRiAtIGRcbi8vIGtSID0gZCAtIDIgKiBpUlxuXG4vLyBEaXZpc2lvbiBvZiBpbmRleCBpbnRlcnZhbHMgaW4gc2VxdWVuY2VzIGEgYW5kIGIgYXQgdGhlIG1pZGRsZSBjaGFuZ2UuXG4vLyBJbnZhcmlhbnQ6IGludGVydmFscyBkbyBub3QgaGF2ZSBjb21tb24gaXRlbXMgYXQgdGhlIHN0YXJ0IG9yIGVuZC5cblxuY29uc3QgcGtnID0gJ2RpZmYtc2VxdWVuY2VzJzsgLy8gZm9yIGVycm9yIG1lc3NhZ2VzXG5jb25zdCBOT1RfWUVUX1NFVCA9IDA7IC8vIHNtYWxsIGludCBpbnN0ZWFkIG9mIHVuZGVmaW5lZCB0byBhdm9pZCBkZW9wdCBpbiBWOFxuXG4vLyBSZXR1cm4gdGhlIG51bWJlciBvZiBjb21tb24gaXRlbXMgdGhhdCBmb2xsb3cgaW4gZm9yd2FyZCBkaXJlY3Rpb24uXG4vLyBUaGUgbGVuZ3RoIG9mIHdoYXQgTXllcnMgcGFwZXIgY2FsbHMgYSDigJxzbmFrZeKAnSBpbiBhIGZvcndhcmQgcGF0aC5cbmNvbnN0IGNvdW50Q29tbW9uSXRlbXNGID0gKGFJbmRleCwgYUVuZCwgYkluZGV4LCBiRW5kLCBpc0NvbW1vbikgPT4ge1xuICBsZXQgbkNvbW1vbiA9IDA7XG4gIHdoaWxlIChhSW5kZXggPCBhRW5kICYmIGJJbmRleCA8IGJFbmQgJiYgaXNDb21tb24oYUluZGV4LCBiSW5kZXgpKSB7XG4gICAgYUluZGV4ICs9IDE7XG4gICAgYkluZGV4ICs9IDE7XG4gICAgbkNvbW1vbiArPSAxO1xuICB9XG4gIHJldHVybiBuQ29tbW9uO1xufTtcblxuLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgY29tbW9uIGl0ZW1zIHRoYXQgcHJlY2VkZSBpbiByZXZlcnNlIGRpcmVjdGlvbi5cbi8vIFRoZSBsZW5ndGggb2Ygd2hhdCBNeWVycyBwYXBlciBjYWxscyBhIOKAnHNuYWtl4oCdIGluIGEgcmV2ZXJzZSBwYXRoLlxuY29uc3QgY291bnRDb21tb25JdGVtc1IgPSAoYVN0YXJ0LCBhSW5kZXgsIGJTdGFydCwgYkluZGV4LCBpc0NvbW1vbikgPT4ge1xuICBsZXQgbkNvbW1vbiA9IDA7XG4gIHdoaWxlIChhU3RhcnQgPD0gYUluZGV4ICYmIGJTdGFydCA8PSBiSW5kZXggJiYgaXNDb21tb24oYUluZGV4LCBiSW5kZXgpKSB7XG4gICAgYUluZGV4IC09IDE7XG4gICAgYkluZGV4IC09IDE7XG4gICAgbkNvbW1vbiArPSAxO1xuICB9XG4gIHJldHVybiBuQ29tbW9uO1xufTtcblxuLy8gQSBzaW1wbGUgZnVuY3Rpb24gdG8gZXh0ZW5kIGZvcndhcmQgcGF0aHMgZnJvbSAoZCAtIDEpIHRvIGQgY2hhbmdlc1xuLy8gd2hlbiBmb3J3YXJkIGFuZCByZXZlcnNlIHBhdGhzIGNhbm5vdCB5ZXQgb3ZlcmxhcC5cbmNvbnN0IGV4dGVuZFBhdGhzRiA9IChcbiAgZCxcbiAgYUVuZCxcbiAgYkVuZCxcbiAgYkYsXG4gIGlzQ29tbW9uLFxuICBhSW5kZXhlc0YsXG4gIGlNYXhGIC8vIHJldHVybiB0aGUgdmFsdWUgYmVjYXVzZSBvcHRpbWl6YXRpb24gbWlnaHQgZGVjcmVhc2UgaXRcbikgPT4ge1xuICAvLyBVbnJvbGwgdGhlIGZpcnN0IGl0ZXJhdGlvbi5cbiAgbGV0IGlGID0gMDtcbiAgbGV0IGtGID0gLWQ7IC8vIGtGID0gMiAqIGlGIC0gZFxuICBsZXQgYUZpcnN0ID0gYUluZGV4ZXNGW2lGXTsgLy8gaW4gZmlyc3QgaXRlcmF0aW9uIGFsd2F5cyBpbnNlcnRcbiAgbGV0IGFJbmRleFByZXYxID0gYUZpcnN0OyAvLyBwcmV2IHZhbHVlIG9mIFtpRiAtIDFdIGluIG5leHQgaXRlcmF0aW9uXG4gIGFJbmRleGVzRltpRl0gKz0gY291bnRDb21tb25JdGVtc0YoXG4gICAgYUZpcnN0ICsgMSxcbiAgICBhRW5kLFxuICAgIGJGICsgYUZpcnN0IC0ga0YgKyAxLFxuICAgIGJFbmQsXG4gICAgaXNDb21tb25cbiAgKTtcblxuICAvLyBPcHRpbWl6YXRpb246IHNraXAgZGlhZ29uYWxzIGluIHdoaWNoIHBhdGhzIGNhbm5vdCBldmVyIG92ZXJsYXAuXG4gIGNvbnN0IG5GID0gZCA8IGlNYXhGID8gZCA6IGlNYXhGO1xuXG4gIC8vIFRoZSBkaWFnb25hbHMga0YgYXJlIG9kZCB3aGVuIGQgaXMgb2RkIGFuZCBldmVuIHdoZW4gZCBpcyBldmVuLlxuICBmb3IgKGlGICs9IDEsIGtGICs9IDI7IGlGIDw9IG5GOyBpRiArPSAxLCBrRiArPSAyKSB7XG4gICAgLy8gVG8gZ2V0IGZpcnN0IHBvaW50IG9mIHBhdGggc2VnbWVudCwgbW92ZSBvbmUgY2hhbmdlIGluIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgLy8gZnJvbSBsYXN0IHBvaW50IG9mIHByZXZpb3VzIHBhdGggc2VnbWVudCBpbiBhbiBhZGphY2VudCBkaWFnb25hbC5cbiAgICAvLyBJbiBsYXN0IHBvc3NpYmxlIGl0ZXJhdGlvbiB3aGVuIGlGID09PSBkIGFuZCBrRiA9PT0gZCBhbHdheXMgZGVsZXRlLlxuICAgIGlmIChpRiAhPT0gZCAmJiBhSW5kZXhQcmV2MSA8IGFJbmRleGVzRltpRl0pIHtcbiAgICAgIGFGaXJzdCA9IGFJbmRleGVzRltpRl07IC8vIHZlcnRpY2FsIHRvIGluc2VydCBmcm9tIGJcbiAgICB9IGVsc2Uge1xuICAgICAgYUZpcnN0ID0gYUluZGV4UHJldjEgKyAxOyAvLyBob3Jpem9udGFsIHRvIGRlbGV0ZSBmcm9tIGFcblxuICAgICAgaWYgKGFFbmQgPD0gYUZpcnN0KSB7XG4gICAgICAgIC8vIE9wdGltaXphdGlvbjogZGVsZXRlIG1vdmVkIHBhc3QgcmlnaHQgb2YgZ3JhcGguXG4gICAgICAgIHJldHVybiBpRiAtIDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVG8gZ2V0IGxhc3QgcG9pbnQgb2YgcGF0aCBzZWdtZW50LCBtb3ZlIGFsb25nIGRpYWdvbmFsIG9mIGNvbW1vbiBpdGVtcy5cbiAgICBhSW5kZXhQcmV2MSA9IGFJbmRleGVzRltpRl07XG4gICAgYUluZGV4ZXNGW2lGXSA9XG4gICAgICBhRmlyc3QgK1xuICAgICAgY291bnRDb21tb25JdGVtc0YoYUZpcnN0ICsgMSwgYUVuZCwgYkYgKyBhRmlyc3QgLSBrRiArIDEsIGJFbmQsIGlzQ29tbW9uKTtcbiAgfVxuICByZXR1cm4gaU1heEY7XG59O1xuXG4vLyBBIHNpbXBsZSBmdW5jdGlvbiB0byBleHRlbmQgcmV2ZXJzZSBwYXRocyBmcm9tIChkIC0gMSkgdG8gZCBjaGFuZ2VzXG4vLyB3aGVuIHJldmVyc2UgYW5kIGZvcndhcmQgcGF0aHMgY2Fubm90IHlldCBvdmVybGFwLlxuY29uc3QgZXh0ZW5kUGF0aHNSID0gKFxuICBkLFxuICBhU3RhcnQsXG4gIGJTdGFydCxcbiAgYlIsXG4gIGlzQ29tbW9uLFxuICBhSW5kZXhlc1IsXG4gIGlNYXhSIC8vIHJldHVybiB0aGUgdmFsdWUgYmVjYXVzZSBvcHRpbWl6YXRpb24gbWlnaHQgZGVjcmVhc2UgaXRcbikgPT4ge1xuICAvLyBVbnJvbGwgdGhlIGZpcnN0IGl0ZXJhdGlvbi5cbiAgbGV0IGlSID0gMDtcbiAgbGV0IGtSID0gZDsgLy8ga1IgPSBkIC0gMiAqIGlSXG4gIGxldCBhRmlyc3QgPSBhSW5kZXhlc1JbaVJdOyAvLyBpbiBmaXJzdCBpdGVyYXRpb24gYWx3YXlzIGluc2VydFxuICBsZXQgYUluZGV4UHJldjEgPSBhRmlyc3Q7IC8vIHByZXYgdmFsdWUgb2YgW2lSIC0gMV0gaW4gbmV4dCBpdGVyYXRpb25cbiAgYUluZGV4ZXNSW2lSXSAtPSBjb3VudENvbW1vbkl0ZW1zUihcbiAgICBhU3RhcnQsXG4gICAgYUZpcnN0IC0gMSxcbiAgICBiU3RhcnQsXG4gICAgYlIgKyBhRmlyc3QgLSBrUiAtIDEsXG4gICAgaXNDb21tb25cbiAgKTtcblxuICAvLyBPcHRpbWl6YXRpb246IHNraXAgZGlhZ29uYWxzIGluIHdoaWNoIHBhdGhzIGNhbm5vdCBldmVyIG92ZXJsYXAuXG4gIGNvbnN0IG5SID0gZCA8IGlNYXhSID8gZCA6IGlNYXhSO1xuXG4gIC8vIFRoZSBkaWFnb25hbHMga1IgYXJlIG9kZCB3aGVuIGQgaXMgb2RkIGFuZCBldmVuIHdoZW4gZCBpcyBldmVuLlxuICBmb3IgKGlSICs9IDEsIGtSIC09IDI7IGlSIDw9IG5SOyBpUiArPSAxLCBrUiAtPSAyKSB7XG4gICAgLy8gVG8gZ2V0IGZpcnN0IHBvaW50IG9mIHBhdGggc2VnbWVudCwgbW92ZSBvbmUgY2hhbmdlIGluIHJldmVyc2UgZGlyZWN0aW9uXG4gICAgLy8gZnJvbSBsYXN0IHBvaW50IG9mIHByZXZpb3VzIHBhdGggc2VnbWVudCBpbiBhbiBhZGphY2VudCBkaWFnb25hbC5cbiAgICAvLyBJbiBsYXN0IHBvc3NpYmxlIGl0ZXJhdGlvbiB3aGVuIGlSID09PSBkIGFuZCBrUiA9PT0gLWQgYWx3YXlzIGRlbGV0ZS5cbiAgICBpZiAoaVIgIT09IGQgJiYgYUluZGV4ZXNSW2lSXSA8IGFJbmRleFByZXYxKSB7XG4gICAgICBhRmlyc3QgPSBhSW5kZXhlc1JbaVJdOyAvLyB2ZXJ0aWNhbCB0byBpbnNlcnQgZnJvbSBiXG4gICAgfSBlbHNlIHtcbiAgICAgIGFGaXJzdCA9IGFJbmRleFByZXYxIC0gMTsgLy8gaG9yaXpvbnRhbCB0byBkZWxldGUgZnJvbSBhXG5cbiAgICAgIGlmIChhRmlyc3QgPCBhU3RhcnQpIHtcbiAgICAgICAgLy8gT3B0aW1pemF0aW9uOiBkZWxldGUgbW92ZWQgcGFzdCBsZWZ0IG9mIGdyYXBoLlxuICAgICAgICByZXR1cm4gaVIgLSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRvIGdldCBsYXN0IHBvaW50IG9mIHBhdGggc2VnbWVudCwgbW92ZSBhbG9uZyBkaWFnb25hbCBvZiBjb21tb24gaXRlbXMuXG4gICAgYUluZGV4UHJldjEgPSBhSW5kZXhlc1JbaVJdO1xuICAgIGFJbmRleGVzUltpUl0gPVxuICAgICAgYUZpcnN0IC1cbiAgICAgIGNvdW50Q29tbW9uSXRlbXNSKFxuICAgICAgICBhU3RhcnQsXG4gICAgICAgIGFGaXJzdCAtIDEsXG4gICAgICAgIGJTdGFydCxcbiAgICAgICAgYlIgKyBhRmlyc3QgLSBrUiAtIDEsXG4gICAgICAgIGlzQ29tbW9uXG4gICAgICApO1xuICB9XG4gIHJldHVybiBpTWF4Ujtcbn07XG5cbi8vIEEgY29tcGxldGUgZnVuY3Rpb24gdG8gZXh0ZW5kIGZvcndhcmQgcGF0aHMgZnJvbSAoZCAtIDEpIHRvIGQgY2hhbmdlcy5cbi8vIFJldHVybiB0cnVlIGlmIGEgcGF0aCBvdmVybGFwcyByZXZlcnNlIHBhdGggb2YgKGQgLSAxKSBjaGFuZ2VzIGluIGl0cyBkaWFnb25hbC5cbmNvbnN0IGV4dGVuZE92ZXJsYXBwYWJsZVBhdGhzRiA9IChcbiAgZCxcbiAgYVN0YXJ0LFxuICBhRW5kLFxuICBiU3RhcnQsXG4gIGJFbmQsXG4gIGlzQ29tbW9uLFxuICBhSW5kZXhlc0YsXG4gIGlNYXhGLFxuICBhSW5kZXhlc1IsXG4gIGlNYXhSLFxuICBkaXZpc2lvbiAvLyB1cGRhdGUgcHJvcCB2YWx1ZXMgaWYgcmV0dXJuIHRydWVcbikgPT4ge1xuICBjb25zdCBiRiA9IGJTdGFydCAtIGFTdGFydDsgLy8gYkluZGV4ID0gYkYgKyBhSW5kZXggLSBrRlxuICBjb25zdCBhTGVuZ3RoID0gYUVuZCAtIGFTdGFydDtcbiAgY29uc3QgYkxlbmd0aCA9IGJFbmQgLSBiU3RhcnQ7XG4gIGNvbnN0IGJhRGVsdGFMZW5ndGggPSBiTGVuZ3RoIC0gYUxlbmd0aDsgLy8ga0YgPSBrUiAtIGJhRGVsdGFMZW5ndGhcblxuICAvLyBSYW5nZSBvZiBkaWFnb25hbHMgaW4gd2hpY2ggZm9yd2FyZCBhbmQgcmV2ZXJzZSBwYXRocyBtaWdodCBvdmVybGFwLlxuICBjb25zdCBrTWluT3ZlcmxhcEYgPSAtYmFEZWx0YUxlbmd0aCAtIChkIC0gMSk7IC8vIC0oZCAtIDEpIDw9IGtSXG4gIGNvbnN0IGtNYXhPdmVybGFwRiA9IC1iYURlbHRhTGVuZ3RoICsgKGQgLSAxKTsgLy8ga1IgPD0gKGQgLSAxKVxuXG4gIGxldCBhSW5kZXhQcmV2MSA9IE5PVF9ZRVRfU0VUOyAvLyBwcmV2IHZhbHVlIG9mIFtpRiAtIDFdIGluIG5leHQgaXRlcmF0aW9uXG5cbiAgLy8gT3B0aW1pemF0aW9uOiBza2lwIGRpYWdvbmFscyBpbiB3aGljaCBwYXRocyBjYW5ub3QgZXZlciBvdmVybGFwLlxuICBjb25zdCBuRiA9IGQgPCBpTWF4RiA/IGQgOiBpTWF4RjtcblxuICAvLyBUaGUgZGlhZ29uYWxzIGtGID0gMiAqIGlGIC0gZCBhcmUgb2RkIHdoZW4gZCBpcyBvZGQgYW5kIGV2ZW4gd2hlbiBkIGlzIGV2ZW4uXG4gIGZvciAobGV0IGlGID0gMCwga0YgPSAtZDsgaUYgPD0gbkY7IGlGICs9IDEsIGtGICs9IDIpIHtcbiAgICAvLyBUbyBnZXQgZmlyc3QgcG9pbnQgb2YgcGF0aCBzZWdtZW50LCBtb3ZlIG9uZSBjaGFuZ2UgaW4gZm9yd2FyZCBkaXJlY3Rpb25cbiAgICAvLyBmcm9tIGxhc3QgcG9pbnQgb2YgcHJldmlvdXMgcGF0aCBzZWdtZW50IGluIGFuIGFkamFjZW50IGRpYWdvbmFsLlxuICAgIC8vIEluIGZpcnN0IGl0ZXJhdGlvbiB3aGVuIGlGID09PSAwIGFuZCBrRiA9PT0gLWQgYWx3YXlzIGluc2VydC5cbiAgICAvLyBJbiBsYXN0IHBvc3NpYmxlIGl0ZXJhdGlvbiB3aGVuIGlGID09PSBkIGFuZCBrRiA9PT0gZCBhbHdheXMgZGVsZXRlLlxuICAgIGNvbnN0IGluc2VydCA9IGlGID09PSAwIHx8IChpRiAhPT0gZCAmJiBhSW5kZXhQcmV2MSA8IGFJbmRleGVzRltpRl0pO1xuICAgIGNvbnN0IGFMYXN0UHJldiA9IGluc2VydCA/IGFJbmRleGVzRltpRl0gOiBhSW5kZXhQcmV2MTtcbiAgICBjb25zdCBhRmlyc3QgPSBpbnNlcnRcbiAgICAgID8gYUxhc3RQcmV2IC8vIHZlcnRpY2FsIHRvIGluc2VydCBmcm9tIGJcbiAgICAgIDogYUxhc3RQcmV2ICsgMTsgLy8gaG9yaXpvbnRhbCB0byBkZWxldGUgZnJvbSBhXG5cbiAgICAvLyBUbyBnZXQgbGFzdCBwb2ludCBvZiBwYXRoIHNlZ21lbnQsIG1vdmUgYWxvbmcgZGlhZ29uYWwgb2YgY29tbW9uIGl0ZW1zLlxuICAgIGNvbnN0IGJGaXJzdCA9IGJGICsgYUZpcnN0IC0ga0Y7XG4gICAgY29uc3QgbkNvbW1vbkYgPSBjb3VudENvbW1vbkl0ZW1zRihcbiAgICAgIGFGaXJzdCArIDEsXG4gICAgICBhRW5kLFxuICAgICAgYkZpcnN0ICsgMSxcbiAgICAgIGJFbmQsXG4gICAgICBpc0NvbW1vblxuICAgICk7XG4gICAgY29uc3QgYUxhc3QgPSBhRmlyc3QgKyBuQ29tbW9uRjtcbiAgICBhSW5kZXhQcmV2MSA9IGFJbmRleGVzRltpRl07XG4gICAgYUluZGV4ZXNGW2lGXSA9IGFMYXN0O1xuICAgIGlmIChrTWluT3ZlcmxhcEYgPD0ga0YgJiYga0YgPD0ga01heE92ZXJsYXBGKSB7XG4gICAgICAvLyBTb2x2ZSBmb3IgaVIgb2YgcmV2ZXJzZSBwYXRoIHdpdGggKGQgLSAxKSBjaGFuZ2VzIGluIGRpYWdvbmFsIGtGOlxuICAgICAgLy8ga1IgPSBrRiArIGJhRGVsdGFMZW5ndGhcbiAgICAgIC8vIGtSID0gKGQgLSAxKSAtIDIgKiBpUlxuICAgICAgY29uc3QgaVIgPSAoZCAtIDEgLSAoa0YgKyBiYURlbHRhTGVuZ3RoKSkgLyAyO1xuXG4gICAgICAvLyBJZiB0aGlzIGZvcndhcmQgcGF0aCBvdmVybGFwcyB0aGUgcmV2ZXJzZSBwYXRoIGluIHRoaXMgZGlhZ29uYWwsXG4gICAgICAvLyB0aGVuIHRoaXMgaXMgdGhlIG1pZGRsZSBjaGFuZ2Ugb2YgdGhlIGluZGV4IGludGVydmFscy5cbiAgICAgIGlmIChpUiA8PSBpTWF4UiAmJiBhSW5kZXhlc1JbaVJdIC0gMSA8PSBhTGFzdCkge1xuICAgICAgICAvLyBVbmxpa2UgdGhlIE15ZXJzIGFsZ29yaXRobSB3aGljaCBmaW5kcyBvbmx5IHRoZSBtaWRkbGUg4oCcc25ha2XigJ1cbiAgICAgICAgLy8gdGhpcyBwYWNrYWdlIGNhbiBmaW5kIHR3byBjb21tb24gc3Vic2VxdWVuY2VzIHBlciBkaXZpc2lvbi5cbiAgICAgICAgLy8gTGFzdCBwb2ludCBvZiBwcmV2aW91cyBwYXRoIHNlZ21lbnQgaXMgb24gYW4gYWRqYWNlbnQgZGlhZ29uYWwuXG4gICAgICAgIGNvbnN0IGJMYXN0UHJldiA9IGJGICsgYUxhc3RQcmV2IC0gKGluc2VydCA/IGtGICsgMSA6IGtGIC0gMSk7XG5cbiAgICAgICAgLy8gQmVjYXVzZSBvZiBpbnZhcmlhbnQgdGhhdCBpbnRlcnZhbHMgcHJlY2VkaW5nIHRoZSBtaWRkbGUgY2hhbmdlXG4gICAgICAgIC8vIGNhbm5vdCBoYXZlIGNvbW1vbiBpdGVtcyBhdCB0aGUgZW5kLFxuICAgICAgICAvLyBtb3ZlIGluIHJldmVyc2UgZGlyZWN0aW9uIGFsb25nIGEgZGlhZ29uYWwgb2YgY29tbW9uIGl0ZW1zLlxuICAgICAgICBjb25zdCBuQ29tbW9uUiA9IGNvdW50Q29tbW9uSXRlbXNSKFxuICAgICAgICAgIGFTdGFydCxcbiAgICAgICAgICBhTGFzdFByZXYsXG4gICAgICAgICAgYlN0YXJ0LFxuICAgICAgICAgIGJMYXN0UHJldixcbiAgICAgICAgICBpc0NvbW1vblxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhSW5kZXhQcmV2Rmlyc3QgPSBhTGFzdFByZXYgLSBuQ29tbW9uUjtcbiAgICAgICAgY29uc3QgYkluZGV4UHJldkZpcnN0ID0gYkxhc3RQcmV2IC0gbkNvbW1vblI7XG4gICAgICAgIGNvbnN0IGFFbmRQcmVjZWRpbmcgPSBhSW5kZXhQcmV2Rmlyc3QgKyAxO1xuICAgICAgICBjb25zdCBiRW5kUHJlY2VkaW5nID0gYkluZGV4UHJldkZpcnN0ICsgMTtcbiAgICAgICAgZGl2aXNpb24ubkNoYW5nZVByZWNlZGluZyA9IGQgLSAxO1xuICAgICAgICBpZiAoZCAtIDEgPT09IGFFbmRQcmVjZWRpbmcgKyBiRW5kUHJlY2VkaW5nIC0gYVN0YXJ0IC0gYlN0YXJ0KSB7XG4gICAgICAgICAgLy8gT3B0aW1pemF0aW9uOiBudW1iZXIgb2YgcHJlY2VkaW5nIGNoYW5nZXMgaW4gZm9yd2FyZCBkaXJlY3Rpb25cbiAgICAgICAgICAvLyBpcyBlcXVhbCB0byBudW1iZXIgb2YgaXRlbXMgaW4gcHJlY2VkaW5nIGludGVydmFsLFxuICAgICAgICAgIC8vIHRoZXJlZm9yZSBpdCBjYW5ub3QgY29udGFpbiBhbnkgY29tbW9uIGl0ZW1zLlxuICAgICAgICAgIGRpdmlzaW9uLmFFbmRQcmVjZWRpbmcgPSBhU3RhcnQ7XG4gICAgICAgICAgZGl2aXNpb24uYkVuZFByZWNlZGluZyA9IGJTdGFydDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXZpc2lvbi5hRW5kUHJlY2VkaW5nID0gYUVuZFByZWNlZGluZztcbiAgICAgICAgICBkaXZpc2lvbi5iRW5kUHJlY2VkaW5nID0gYkVuZFByZWNlZGluZztcbiAgICAgICAgfVxuICAgICAgICBkaXZpc2lvbi5uQ29tbW9uUHJlY2VkaW5nID0gbkNvbW1vblI7XG4gICAgICAgIGlmIChuQ29tbW9uUiAhPT0gMCkge1xuICAgICAgICAgIGRpdmlzaW9uLmFDb21tb25QcmVjZWRpbmcgPSBhRW5kUHJlY2VkaW5nO1xuICAgICAgICAgIGRpdmlzaW9uLmJDb21tb25QcmVjZWRpbmcgPSBiRW5kUHJlY2VkaW5nO1xuICAgICAgICB9XG4gICAgICAgIGRpdmlzaW9uLm5Db21tb25Gb2xsb3dpbmcgPSBuQ29tbW9uRjtcbiAgICAgICAgaWYgKG5Db21tb25GICE9PSAwKSB7XG4gICAgICAgICAgZGl2aXNpb24uYUNvbW1vbkZvbGxvd2luZyA9IGFGaXJzdCArIDE7XG4gICAgICAgICAgZGl2aXNpb24uYkNvbW1vbkZvbGxvd2luZyA9IGJGaXJzdCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYVN0YXJ0Rm9sbG93aW5nID0gYUxhc3QgKyAxO1xuICAgICAgICBjb25zdCBiU3RhcnRGb2xsb3dpbmcgPSBiRmlyc3QgKyBuQ29tbW9uRiArIDE7XG4gICAgICAgIGRpdmlzaW9uLm5DaGFuZ2VGb2xsb3dpbmcgPSBkIC0gMTtcbiAgICAgICAgaWYgKGQgLSAxID09PSBhRW5kICsgYkVuZCAtIGFTdGFydEZvbGxvd2luZyAtIGJTdGFydEZvbGxvd2luZykge1xuICAgICAgICAgIC8vIE9wdGltaXphdGlvbjogbnVtYmVyIG9mIGNoYW5nZXMgaW4gcmV2ZXJzZSBkaXJlY3Rpb25cbiAgICAgICAgICAvLyBpcyBlcXVhbCB0byBudW1iZXIgb2YgaXRlbXMgaW4gZm9sbG93aW5nIGludGVydmFsLFxuICAgICAgICAgIC8vIHRoZXJlZm9yZSBpdCBjYW5ub3QgY29udGFpbiBhbnkgY29tbW9uIGl0ZW1zLlxuICAgICAgICAgIGRpdmlzaW9uLmFTdGFydEZvbGxvd2luZyA9IGFFbmQ7XG4gICAgICAgICAgZGl2aXNpb24uYlN0YXJ0Rm9sbG93aW5nID0gYkVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXZpc2lvbi5hU3RhcnRGb2xsb3dpbmcgPSBhU3RhcnRGb2xsb3dpbmc7XG4gICAgICAgICAgZGl2aXNpb24uYlN0YXJ0Rm9sbG93aW5nID0gYlN0YXJ0Rm9sbG93aW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vLyBBIGNvbXBsZXRlIGZ1bmN0aW9uIHRvIGV4dGVuZCByZXZlcnNlIHBhdGhzIGZyb20gKGQgLSAxKSB0byBkIGNoYW5nZXMuXG4vLyBSZXR1cm4gdHJ1ZSBpZiBhIHBhdGggb3ZlcmxhcHMgZm9yd2FyZCBwYXRoIG9mIGQgY2hhbmdlcyBpbiBpdHMgZGlhZ29uYWwuXG5jb25zdCBleHRlbmRPdmVybGFwcGFibGVQYXRoc1IgPSAoXG4gIGQsXG4gIGFTdGFydCxcbiAgYUVuZCxcbiAgYlN0YXJ0LFxuICBiRW5kLFxuICBpc0NvbW1vbixcbiAgYUluZGV4ZXNGLFxuICBpTWF4RixcbiAgYUluZGV4ZXNSLFxuICBpTWF4UixcbiAgZGl2aXNpb24gLy8gdXBkYXRlIHByb3AgdmFsdWVzIGlmIHJldHVybiB0cnVlXG4pID0+IHtcbiAgY29uc3QgYlIgPSBiRW5kIC0gYUVuZDsgLy8gYkluZGV4ID0gYlIgKyBhSW5kZXggLSBrUlxuICBjb25zdCBhTGVuZ3RoID0gYUVuZCAtIGFTdGFydDtcbiAgY29uc3QgYkxlbmd0aCA9IGJFbmQgLSBiU3RhcnQ7XG4gIGNvbnN0IGJhRGVsdGFMZW5ndGggPSBiTGVuZ3RoIC0gYUxlbmd0aDsgLy8ga1IgPSBrRiArIGJhRGVsdGFMZW5ndGhcblxuICAvLyBSYW5nZSBvZiBkaWFnb25hbHMgaW4gd2hpY2ggZm9yd2FyZCBhbmQgcmV2ZXJzZSBwYXRocyBtaWdodCBvdmVybGFwLlxuICBjb25zdCBrTWluT3ZlcmxhcFIgPSBiYURlbHRhTGVuZ3RoIC0gZDsgLy8gLWQgPD0ga0ZcbiAgY29uc3Qga01heE92ZXJsYXBSID0gYmFEZWx0YUxlbmd0aCArIGQ7IC8vIGtGIDw9IGRcblxuICBsZXQgYUluZGV4UHJldjEgPSBOT1RfWUVUX1NFVDsgLy8gcHJldiB2YWx1ZSBvZiBbaVIgLSAxXSBpbiBuZXh0IGl0ZXJhdGlvblxuXG4gIC8vIE9wdGltaXphdGlvbjogc2tpcCBkaWFnb25hbHMgaW4gd2hpY2ggcGF0aHMgY2Fubm90IGV2ZXIgb3ZlcmxhcC5cbiAgY29uc3QgblIgPSBkIDwgaU1heFIgPyBkIDogaU1heFI7XG5cbiAgLy8gVGhlIGRpYWdvbmFscyBrUiA9IGQgLSAyICogaVIgYXJlIG9kZCB3aGVuIGQgaXMgb2RkIGFuZCBldmVuIHdoZW4gZCBpcyBldmVuLlxuICBmb3IgKGxldCBpUiA9IDAsIGtSID0gZDsgaVIgPD0gblI7IGlSICs9IDEsIGtSIC09IDIpIHtcbiAgICAvLyBUbyBnZXQgZmlyc3QgcG9pbnQgb2YgcGF0aCBzZWdtZW50LCBtb3ZlIG9uZSBjaGFuZ2UgaW4gcmV2ZXJzZSBkaXJlY3Rpb25cbiAgICAvLyBmcm9tIGxhc3QgcG9pbnQgb2YgcHJldmlvdXMgcGF0aCBzZWdtZW50IGluIGFuIGFkamFjZW50IGRpYWdvbmFsLlxuICAgIC8vIEluIGZpcnN0IGl0ZXJhdGlvbiB3aGVuIGlSID09PSAwIGFuZCBrUiA9PT0gZCBhbHdheXMgaW5zZXJ0LlxuICAgIC8vIEluIGxhc3QgcG9zc2libGUgaXRlcmF0aW9uIHdoZW4gaVIgPT09IGQgYW5kIGtSID09PSAtZCBhbHdheXMgZGVsZXRlLlxuICAgIGNvbnN0IGluc2VydCA9IGlSID09PSAwIHx8IChpUiAhPT0gZCAmJiBhSW5kZXhlc1JbaVJdIDwgYUluZGV4UHJldjEpO1xuICAgIGNvbnN0IGFMYXN0UHJldiA9IGluc2VydCA/IGFJbmRleGVzUltpUl0gOiBhSW5kZXhQcmV2MTtcbiAgICBjb25zdCBhRmlyc3QgPSBpbnNlcnRcbiAgICAgID8gYUxhc3RQcmV2IC8vIHZlcnRpY2FsIHRvIGluc2VydCBmcm9tIGJcbiAgICAgIDogYUxhc3RQcmV2IC0gMTsgLy8gaG9yaXpvbnRhbCB0byBkZWxldGUgZnJvbSBhXG5cbiAgICAvLyBUbyBnZXQgbGFzdCBwb2ludCBvZiBwYXRoIHNlZ21lbnQsIG1vdmUgYWxvbmcgZGlhZ29uYWwgb2YgY29tbW9uIGl0ZW1zLlxuICAgIGNvbnN0IGJGaXJzdCA9IGJSICsgYUZpcnN0IC0ga1I7XG4gICAgY29uc3QgbkNvbW1vblIgPSBjb3VudENvbW1vbkl0ZW1zUihcbiAgICAgIGFTdGFydCxcbiAgICAgIGFGaXJzdCAtIDEsXG4gICAgICBiU3RhcnQsXG4gICAgICBiRmlyc3QgLSAxLFxuICAgICAgaXNDb21tb25cbiAgICApO1xuICAgIGNvbnN0IGFMYXN0ID0gYUZpcnN0IC0gbkNvbW1vblI7XG4gICAgYUluZGV4UHJldjEgPSBhSW5kZXhlc1JbaVJdO1xuICAgIGFJbmRleGVzUltpUl0gPSBhTGFzdDtcbiAgICBpZiAoa01pbk92ZXJsYXBSIDw9IGtSICYmIGtSIDw9IGtNYXhPdmVybGFwUikge1xuICAgICAgLy8gU29sdmUgZm9yIGlGIG9mIGZvcndhcmQgcGF0aCB3aXRoIGQgY2hhbmdlcyBpbiBkaWFnb25hbCBrUjpcbiAgICAgIC8vIGtGID0ga1IgLSBiYURlbHRhTGVuZ3RoXG4gICAgICAvLyBrRiA9IDIgKiBpRiAtIGRcbiAgICAgIGNvbnN0IGlGID0gKGQgKyAoa1IgLSBiYURlbHRhTGVuZ3RoKSkgLyAyO1xuXG4gICAgICAvLyBJZiB0aGlzIHJldmVyc2UgcGF0aCBvdmVybGFwcyB0aGUgZm9yd2FyZCBwYXRoIGluIHRoaXMgZGlhZ29uYWwsXG4gICAgICAvLyB0aGVuIHRoaXMgaXMgYSBtaWRkbGUgY2hhbmdlIG9mIHRoZSBpbmRleCBpbnRlcnZhbHMuXG4gICAgICBpZiAoaUYgPD0gaU1heEYgJiYgYUxhc3QgLSAxIDw9IGFJbmRleGVzRltpRl0pIHtcbiAgICAgICAgY29uc3QgYkxhc3QgPSBiRmlyc3QgLSBuQ29tbW9uUjtcbiAgICAgICAgZGl2aXNpb24ubkNoYW5nZVByZWNlZGluZyA9IGQ7XG4gICAgICAgIGlmIChkID09PSBhTGFzdCArIGJMYXN0IC0gYVN0YXJ0IC0gYlN0YXJ0KSB7XG4gICAgICAgICAgLy8gT3B0aW1pemF0aW9uOiBudW1iZXIgb2YgY2hhbmdlcyBpbiByZXZlcnNlIGRpcmVjdGlvblxuICAgICAgICAgIC8vIGlzIGVxdWFsIHRvIG51bWJlciBvZiBpdGVtcyBpbiBwcmVjZWRpbmcgaW50ZXJ2YWwsXG4gICAgICAgICAgLy8gdGhlcmVmb3JlIGl0IGNhbm5vdCBjb250YWluIGFueSBjb21tb24gaXRlbXMuXG4gICAgICAgICAgZGl2aXNpb24uYUVuZFByZWNlZGluZyA9IGFTdGFydDtcbiAgICAgICAgICBkaXZpc2lvbi5iRW5kUHJlY2VkaW5nID0gYlN0YXJ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpdmlzaW9uLmFFbmRQcmVjZWRpbmcgPSBhTGFzdDtcbiAgICAgICAgICBkaXZpc2lvbi5iRW5kUHJlY2VkaW5nID0gYkxhc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZGl2aXNpb24ubkNvbW1vblByZWNlZGluZyA9IG5Db21tb25SO1xuICAgICAgICBpZiAobkNvbW1vblIgIT09IDApIHtcbiAgICAgICAgICAvLyBUaGUgbGFzdCBwb2ludCBvZiByZXZlcnNlIHBhdGggc2VnbWVudCBpcyBzdGFydCBvZiBjb21tb24gc3Vic2VxdWVuY2UuXG4gICAgICAgICAgZGl2aXNpb24uYUNvbW1vblByZWNlZGluZyA9IGFMYXN0O1xuICAgICAgICAgIGRpdmlzaW9uLmJDb21tb25QcmVjZWRpbmcgPSBiTGFzdDtcbiAgICAgICAgfVxuICAgICAgICBkaXZpc2lvbi5uQ2hhbmdlRm9sbG93aW5nID0gZCAtIDE7XG4gICAgICAgIGlmIChkID09PSAxKSB7XG4gICAgICAgICAgLy8gVGhlcmUgaXMgbm8gcHJldmlvdXMgcGF0aCBzZWdtZW50LlxuICAgICAgICAgIGRpdmlzaW9uLm5Db21tb25Gb2xsb3dpbmcgPSAwO1xuICAgICAgICAgIGRpdmlzaW9uLmFTdGFydEZvbGxvd2luZyA9IGFFbmQ7XG4gICAgICAgICAgZGl2aXNpb24uYlN0YXJ0Rm9sbG93aW5nID0gYkVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBVbmxpa2UgdGhlIE15ZXJzIGFsZ29yaXRobSB3aGljaCBmaW5kcyBvbmx5IHRoZSBtaWRkbGUg4oCcc25ha2XigJ1cbiAgICAgICAgICAvLyB0aGlzIHBhY2thZ2UgY2FuIGZpbmQgdHdvIGNvbW1vbiBzdWJzZXF1ZW5jZXMgcGVyIGRpdmlzaW9uLlxuICAgICAgICAgIC8vIExhc3QgcG9pbnQgb2YgcHJldmlvdXMgcGF0aCBzZWdtZW50IGlzIG9uIGFuIGFkamFjZW50IGRpYWdvbmFsLlxuICAgICAgICAgIGNvbnN0IGJMYXN0UHJldiA9IGJSICsgYUxhc3RQcmV2IC0gKGluc2VydCA/IGtSIC0gMSA6IGtSICsgMSk7XG5cbiAgICAgICAgICAvLyBCZWNhdXNlIG9mIGludmFyaWFudCB0aGF0IGludGVydmFscyBmb2xsb3dpbmcgdGhlIG1pZGRsZSBjaGFuZ2VcbiAgICAgICAgICAvLyBjYW5ub3QgaGF2ZSBjb21tb24gaXRlbXMgYXQgdGhlIHN0YXJ0LFxuICAgICAgICAgIC8vIG1vdmUgaW4gZm9yd2FyZCBkaXJlY3Rpb24gYWxvbmcgYSBkaWFnb25hbCBvZiBjb21tb24gaXRlbXMuXG4gICAgICAgICAgY29uc3QgbkNvbW1vbkYgPSBjb3VudENvbW1vbkl0ZW1zRihcbiAgICAgICAgICAgIGFMYXN0UHJldixcbiAgICAgICAgICAgIGFFbmQsXG4gICAgICAgICAgICBiTGFzdFByZXYsXG4gICAgICAgICAgICBiRW5kLFxuICAgICAgICAgICAgaXNDb21tb25cbiAgICAgICAgICApO1xuICAgICAgICAgIGRpdmlzaW9uLm5Db21tb25Gb2xsb3dpbmcgPSBuQ29tbW9uRjtcbiAgICAgICAgICBpZiAobkNvbW1vbkYgIT09IDApIHtcbiAgICAgICAgICAgIC8vIFRoZSBsYXN0IHBvaW50IG9mIHJldmVyc2UgcGF0aCBzZWdtZW50IGlzIHN0YXJ0IG9mIGNvbW1vbiBzdWJzZXF1ZW5jZS5cbiAgICAgICAgICAgIGRpdmlzaW9uLmFDb21tb25Gb2xsb3dpbmcgPSBhTGFzdFByZXY7XG4gICAgICAgICAgICBkaXZpc2lvbi5iQ29tbW9uRm9sbG93aW5nID0gYkxhc3RQcmV2O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBhU3RhcnRGb2xsb3dpbmcgPSBhTGFzdFByZXYgKyBuQ29tbW9uRjsgLy8gYUZpcnN0UHJldlxuICAgICAgICAgIGNvbnN0IGJTdGFydEZvbGxvd2luZyA9IGJMYXN0UHJldiArIG5Db21tb25GOyAvLyBiRmlyc3RQcmV2XG5cbiAgICAgICAgICBpZiAoZCAtIDEgPT09IGFFbmQgKyBiRW5kIC0gYVN0YXJ0Rm9sbG93aW5nIC0gYlN0YXJ0Rm9sbG93aW5nKSB7XG4gICAgICAgICAgICAvLyBPcHRpbWl6YXRpb246IG51bWJlciBvZiBjaGFuZ2VzIGluIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgICAvLyBpcyBlcXVhbCB0byBudW1iZXIgb2YgaXRlbXMgaW4gZm9sbG93aW5nIGludGVydmFsLFxuICAgICAgICAgICAgLy8gdGhlcmVmb3JlIGl0IGNhbm5vdCBjb250YWluIGFueSBjb21tb24gaXRlbXMuXG4gICAgICAgICAgICBkaXZpc2lvbi5hU3RhcnRGb2xsb3dpbmcgPSBhRW5kO1xuICAgICAgICAgICAgZGl2aXNpb24uYlN0YXJ0Rm9sbG93aW5nID0gYkVuZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGl2aXNpb24uYVN0YXJ0Rm9sbG93aW5nID0gYVN0YXJ0Rm9sbG93aW5nO1xuICAgICAgICAgICAgZGl2aXNpb24uYlN0YXJ0Rm9sbG93aW5nID0gYlN0YXJ0Rm9sbG93aW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gR2l2ZW4gaW5kZXggaW50ZXJ2YWxzIGFuZCBpbnB1dCBmdW5jdGlvbiB0byBjb21wYXJlIGl0ZW1zIGF0IGluZGV4ZXMsXG4vLyBkaXZpZGUgYXQgdGhlIG1pZGRsZSBjaGFuZ2UuXG4vL1xuLy8gRE8gTk9UIENBTEwgaWYgc3RhcnQgPT09IGVuZCwgYmVjYXVzZSBpbnRlcnZhbCBjYW5ub3QgY29udGFpbiBjb21tb24gaXRlbXNcbi8vIGFuZCBiZWNhdXNlIHRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyB0aGUg4oCcbm8gb3ZlcmxhcOKAnSBlcnJvci5cbmNvbnN0IGRpdmlkZSA9IChcbiAgbkNoYW5nZSxcbiAgYVN0YXJ0LFxuICBhRW5kLFxuICBiU3RhcnQsXG4gIGJFbmQsXG4gIGlzQ29tbW9uLFxuICBhSW5kZXhlc0YsXG4gIGFJbmRleGVzUixcbiAgZGl2aXNpb24gLy8gb3V0cHV0XG4pID0+IHtcbiAgY29uc3QgYkYgPSBiU3RhcnQgLSBhU3RhcnQ7IC8vIGJJbmRleCA9IGJGICsgYUluZGV4IC0ga0ZcbiAgY29uc3QgYlIgPSBiRW5kIC0gYUVuZDsgLy8gYkluZGV4ID0gYlIgKyBhSW5kZXggLSBrUlxuICBjb25zdCBhTGVuZ3RoID0gYUVuZCAtIGFTdGFydDtcbiAgY29uc3QgYkxlbmd0aCA9IGJFbmQgLSBiU3RhcnQ7XG5cbiAgLy8gQmVjYXVzZSBncmFwaCBoYXMgc3F1YXJlIG9yIHBvcnRyYWl0IG9yaWVudGF0aW9uLFxuICAvLyBsZW5ndGggZGlmZmVyZW5jZSBpcyBtaW5pbXVtIG51bWJlciBvZiBpdGVtcyB0byBpbnNlcnQgZnJvbSBiLlxuICAvLyBDb3JyZXNwb25kaW5nIGZvcndhcmQgYW5kIHJldmVyc2UgZGlhZ29uYWxzIGluIGdyYXBoXG4gIC8vIGRlcGVuZCBvbiBsZW5ndGggZGlmZmVyZW5jZSBvZiB0aGUgc2VxdWVuY2VzOlxuICAvLyBrRiA9IGtSIC0gYmFEZWx0YUxlbmd0aFxuICAvLyBrUiA9IGtGICsgYmFEZWx0YUxlbmd0aFxuICBjb25zdCBiYURlbHRhTGVuZ3RoID0gYkxlbmd0aCAtIGFMZW5ndGg7XG5cbiAgLy8gT3B0aW1pemF0aW9uOiBtYXggZGlhZ29uYWwgaW4gZ3JhcGggaW50ZXJzZWN0cyBjb3JuZXIgb2Ygc2hvcnRlciBzaWRlLlxuICBsZXQgaU1heEYgPSBhTGVuZ3RoO1xuICBsZXQgaU1heFIgPSBhTGVuZ3RoO1xuXG4gIC8vIEluaXRpYWxpemUgbm8gY2hhbmdlcyB5ZXQgaW4gZm9yd2FyZCBvciByZXZlcnNlIGRpcmVjdGlvbjpcbiAgYUluZGV4ZXNGWzBdID0gYVN0YXJ0IC0gMTsgLy8gYXQgb3BlbiBzdGFydCBvZiBpbnRlcnZhbCwgb3V0c2lkZSBjbG9zZWQgc3RhcnRcbiAgYUluZGV4ZXNSWzBdID0gYUVuZDsgLy8gYXQgb3BlbiBlbmQgb2YgaW50ZXJ2YWxcblxuICBpZiAoYmFEZWx0YUxlbmd0aCAlIDIgPT09IDApIHtcbiAgICAvLyBUaGUgbnVtYmVyIG9mIGNoYW5nZXMgaW4gcGF0aHMgaXMgMiAqIGQgaWYgbGVuZ3RoIGRpZmZlcmVuY2UgaXMgZXZlbi5cbiAgICBjb25zdCBkTWluID0gKG5DaGFuZ2UgfHwgYmFEZWx0YUxlbmd0aCkgLyAyO1xuICAgIGNvbnN0IGRNYXggPSAoYUxlbmd0aCArIGJMZW5ndGgpIC8gMjtcbiAgICBmb3IgKGxldCBkID0gMTsgZCA8PSBkTWF4OyBkICs9IDEpIHtcbiAgICAgIGlNYXhGID0gZXh0ZW5kUGF0aHNGKGQsIGFFbmQsIGJFbmQsIGJGLCBpc0NvbW1vbiwgYUluZGV4ZXNGLCBpTWF4Rik7XG4gICAgICBpZiAoZCA8IGRNaW4pIHtcbiAgICAgICAgaU1heFIgPSBleHRlbmRQYXRoc1IoZCwgYVN0YXJ0LCBiU3RhcnQsIGJSLCBpc0NvbW1vbiwgYUluZGV4ZXNSLCBpTWF4Uik7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAvLyBJZiBhIHJldmVyc2UgcGF0aCBvdmVybGFwcyBhIGZvcndhcmQgcGF0aCBpbiB0aGUgc2FtZSBkaWFnb25hbCxcbiAgICAgICAgLy8gcmV0dXJuIGEgZGl2aXNpb24gb2YgdGhlIGluZGV4IGludGVydmFscyBhdCB0aGUgbWlkZGxlIGNoYW5nZS5cbiAgICAgICAgZXh0ZW5kT3ZlcmxhcHBhYmxlUGF0aHNSKFxuICAgICAgICAgIGQsXG4gICAgICAgICAgYVN0YXJ0LFxuICAgICAgICAgIGFFbmQsXG4gICAgICAgICAgYlN0YXJ0LFxuICAgICAgICAgIGJFbmQsXG4gICAgICAgICAgaXNDb21tb24sXG4gICAgICAgICAgYUluZGV4ZXNGLFxuICAgICAgICAgIGlNYXhGLFxuICAgICAgICAgIGFJbmRleGVzUixcbiAgICAgICAgICBpTWF4UixcbiAgICAgICAgICBkaXZpc2lvblxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBUaGUgbnVtYmVyIG9mIGNoYW5nZXMgaW4gcGF0aHMgaXMgMiAqIGQgLSAxIGlmIGxlbmd0aCBkaWZmZXJlbmNlIGlzIG9kZC5cbiAgICBjb25zdCBkTWluID0gKChuQ2hhbmdlIHx8IGJhRGVsdGFMZW5ndGgpICsgMSkgLyAyO1xuICAgIGNvbnN0IGRNYXggPSAoYUxlbmd0aCArIGJMZW5ndGggKyAxKSAvIDI7XG5cbiAgICAvLyBVbnJvbGwgZmlyc3QgaGFsZiBpdGVyYXRpb24gc28gbG9vcCBleHRlbmRzIHRoZSByZWxldmFudCBwYWlycyBvZiBwYXRocy5cbiAgICAvLyBCZWNhdXNlIG9mIGludmFyaWFudCB0aGF0IGludGVydmFscyBoYXZlIG5vIGNvbW1vbiBpdGVtcyBhdCBzdGFydCBvciBlbmQsXG4gICAgLy8gYW5kIGxpbWl0YXRpb24gbm90IHRvIGNhbGwgZGl2aWRlIHdpdGggZW1wdHkgaW50ZXJ2YWxzLFxuICAgIC8vIHRoZXJlZm9yZSBpdCBjYW5ub3QgYmUgY2FsbGVkIGlmIGEgZm9yd2FyZCBwYXRoIHdpdGggb25lIGNoYW5nZVxuICAgIC8vIHdvdWxkIG92ZXJsYXAgYSByZXZlcnNlIHBhdGggd2l0aCBubyBjaGFuZ2VzLCBldmVuIGlmIGRNaW4gPT09IDEuXG4gICAgbGV0IGQgPSAxO1xuICAgIGlNYXhGID0gZXh0ZW5kUGF0aHNGKGQsIGFFbmQsIGJFbmQsIGJGLCBpc0NvbW1vbiwgYUluZGV4ZXNGLCBpTWF4Rik7XG4gICAgZm9yIChkICs9IDE7IGQgPD0gZE1heDsgZCArPSAxKSB7XG4gICAgICBpTWF4UiA9IGV4dGVuZFBhdGhzUihcbiAgICAgICAgZCAtIDEsXG4gICAgICAgIGFTdGFydCxcbiAgICAgICAgYlN0YXJ0LFxuICAgICAgICBiUixcbiAgICAgICAgaXNDb21tb24sXG4gICAgICAgIGFJbmRleGVzUixcbiAgICAgICAgaU1heFJcbiAgICAgICk7XG4gICAgICBpZiAoZCA8IGRNaW4pIHtcbiAgICAgICAgaU1heEYgPSBleHRlbmRQYXRoc0YoZCwgYUVuZCwgYkVuZCwgYkYsIGlzQ29tbW9uLCBhSW5kZXhlc0YsIGlNYXhGKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIC8vIElmIGEgZm9yd2FyZCBwYXRoIG92ZXJsYXBzIGEgcmV2ZXJzZSBwYXRoIGluIHRoZSBzYW1lIGRpYWdvbmFsLFxuICAgICAgICAvLyByZXR1cm4gYSBkaXZpc2lvbiBvZiB0aGUgaW5kZXggaW50ZXJ2YWxzIGF0IHRoZSBtaWRkbGUgY2hhbmdlLlxuICAgICAgICBleHRlbmRPdmVybGFwcGFibGVQYXRoc0YoXG4gICAgICAgICAgZCxcbiAgICAgICAgICBhU3RhcnQsXG4gICAgICAgICAgYUVuZCxcbiAgICAgICAgICBiU3RhcnQsXG4gICAgICAgICAgYkVuZCxcbiAgICAgICAgICBpc0NvbW1vbixcbiAgICAgICAgICBhSW5kZXhlc0YsXG4gICAgICAgICAgaU1heEYsXG4gICAgICAgICAgYUluZGV4ZXNSLFxuICAgICAgICAgIGlNYXhSLFxuICAgICAgICAgIGRpdmlzaW9uXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgIGAke3BrZ306IG5vIG92ZXJsYXAgYVN0YXJ0PSR7YVN0YXJ0fSBhRW5kPSR7YUVuZH0gYlN0YXJ0PSR7YlN0YXJ0fSBiRW5kPSR7YkVuZH1gXG4gICk7XG59O1xuXG4vLyBHaXZlbiBpbmRleCBpbnRlcnZhbHMgYW5kIGlucHV0IGZ1bmN0aW9uIHRvIGNvbXBhcmUgaXRlbXMgYXQgaW5kZXhlcyxcbi8vIHJldHVybiBieSBvdXRwdXQgZnVuY3Rpb24gdGhlIG51bWJlciBvZiBhZGphY2VudCBpdGVtcyBhbmQgc3RhcnRpbmcgaW5kZXhlc1xuLy8gb2YgZWFjaCBjb21tb24gc3Vic2VxdWVuY2UuIERpdmlkZSBhbmQgY29ucXVlciB3aXRoIG9ubHkgbGluZWFyIHNwYWNlLlxuLy9cbi8vIFRoZSBpbmRleCBpbnRlcnZhbHMgYXJlIGhhbGYgb3BlbiBbc3RhcnQsIGVuZCkgbGlrZSBhcnJheSBzbGljZSBtZXRob2QuXG4vLyBETyBOT1QgQ0FMTCBpZiBzdGFydCA9PT0gZW5kLCBiZWNhdXNlIGludGVydmFsIGNhbm5vdCBjb250YWluIGNvbW1vbiBpdGVtc1xuLy8gYW5kIGJlY2F1c2UgZGl2aWRlIGZ1bmN0aW9uIHdpbGwgdGhyb3cgdGhlIOKAnG5vIG92ZXJsYXDigJ0gZXJyb3IuXG5jb25zdCBmaW5kU3Vic2VxdWVuY2VzID0gKFxuICBuQ2hhbmdlLFxuICBhU3RhcnQsXG4gIGFFbmQsXG4gIGJTdGFydCxcbiAgYkVuZCxcbiAgdHJhbnNwb3NlZCxcbiAgY2FsbGJhY2tzLFxuICBhSW5kZXhlc0YsXG4gIGFJbmRleGVzUixcbiAgZGl2aXNpb24gLy8gdGVtcG9yYXJ5IG1lbW9yeSwgbm90IGlucHV0IG5vciBvdXRwdXRcbikgPT4ge1xuICBpZiAoYkVuZCAtIGJTdGFydCA8IGFFbmQgLSBhU3RhcnQpIHtcbiAgICAvLyBUcmFuc3Bvc2UgZ3JhcGggc28gaXQgaGFzIHBvcnRyYWl0IGluc3RlYWQgb2YgbGFuZHNjYXBlIG9yaWVudGF0aW9uLlxuICAgIC8vIEFsd2F5cyBjb21wYXJlIHNob3J0ZXIgdG8gbG9uZ2VyIHNlcXVlbmNlIGZvciBjb25zaXN0ZW5jeSBhbmQgb3B0aW1pemF0aW9uLlxuICAgIHRyYW5zcG9zZWQgPSAhdHJhbnNwb3NlZDtcbiAgICBpZiAodHJhbnNwb3NlZCAmJiBjYWxsYmFja3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBMYXppbHkgd3JhcCBjYWxsYmFjayBmdW5jdGlvbnMgdG8gc3dhcCBhcmdzIGlmIGdyYXBoIGlzIHRyYW5zcG9zZWQuXG4gICAgICBjb25zdCB7Zm91bmRTdWJzZXF1ZW5jZSwgaXNDb21tb259ID0gY2FsbGJhY2tzWzBdO1xuICAgICAgY2FsbGJhY2tzWzFdID0ge1xuICAgICAgICBmb3VuZFN1YnNlcXVlbmNlOiAobkNvbW1vbiwgYkNvbW1vbiwgYUNvbW1vbikgPT4ge1xuICAgICAgICAgIGZvdW5kU3Vic2VxdWVuY2UobkNvbW1vbiwgYUNvbW1vbiwgYkNvbW1vbik7XG4gICAgICAgIH0sXG4gICAgICAgIGlzQ29tbW9uOiAoYkluZGV4LCBhSW5kZXgpID0+IGlzQ29tbW9uKGFJbmRleCwgYkluZGV4KVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdFN0YXJ0ID0gYVN0YXJ0O1xuICAgIGNvbnN0IHRFbmQgPSBhRW5kO1xuICAgIGFTdGFydCA9IGJTdGFydDtcbiAgICBhRW5kID0gYkVuZDtcbiAgICBiU3RhcnQgPSB0U3RhcnQ7XG4gICAgYkVuZCA9IHRFbmQ7XG4gIH1cbiAgY29uc3Qge2ZvdW5kU3Vic2VxdWVuY2UsIGlzQ29tbW9ufSA9IGNhbGxiYWNrc1t0cmFuc3Bvc2VkID8gMSA6IDBdO1xuXG4gIC8vIERpdmlkZSB0aGUgaW5kZXggaW50ZXJ2YWxzIGF0IHRoZSBtaWRkbGUgY2hhbmdlLlxuICBkaXZpZGUoXG4gICAgbkNoYW5nZSxcbiAgICBhU3RhcnQsXG4gICAgYUVuZCxcbiAgICBiU3RhcnQsXG4gICAgYkVuZCxcbiAgICBpc0NvbW1vbixcbiAgICBhSW5kZXhlc0YsXG4gICAgYUluZGV4ZXNSLFxuICAgIGRpdmlzaW9uXG4gICk7XG4gIGNvbnN0IHtcbiAgICBuQ2hhbmdlUHJlY2VkaW5nLFxuICAgIGFFbmRQcmVjZWRpbmcsXG4gICAgYkVuZFByZWNlZGluZyxcbiAgICBuQ29tbW9uUHJlY2VkaW5nLFxuICAgIGFDb21tb25QcmVjZWRpbmcsXG4gICAgYkNvbW1vblByZWNlZGluZyxcbiAgICBuQ29tbW9uRm9sbG93aW5nLFxuICAgIGFDb21tb25Gb2xsb3dpbmcsXG4gICAgYkNvbW1vbkZvbGxvd2luZyxcbiAgICBuQ2hhbmdlRm9sbG93aW5nLFxuICAgIGFTdGFydEZvbGxvd2luZyxcbiAgICBiU3RhcnRGb2xsb3dpbmdcbiAgfSA9IGRpdmlzaW9uO1xuXG4gIC8vIFVubGVzcyBlaXRoZXIgaW5kZXggaW50ZXJ2YWwgaXMgZW1wdHksIHRoZXkgbWlnaHQgY29udGFpbiBjb21tb24gaXRlbXMuXG4gIGlmIChhU3RhcnQgPCBhRW5kUHJlY2VkaW5nICYmIGJTdGFydCA8IGJFbmRQcmVjZWRpbmcpIHtcbiAgICAvLyBSZWN1cnNlbHkgZmluZCBhbmQgcmV0dXJuIGNvbW1vbiBzdWJzZXF1ZW5jZXMgcHJlY2VkaW5nIHRoZSBkaXZpc2lvbi5cbiAgICBmaW5kU3Vic2VxdWVuY2VzKFxuICAgICAgbkNoYW5nZVByZWNlZGluZyxcbiAgICAgIGFTdGFydCxcbiAgICAgIGFFbmRQcmVjZWRpbmcsXG4gICAgICBiU3RhcnQsXG4gICAgICBiRW5kUHJlY2VkaW5nLFxuICAgICAgdHJhbnNwb3NlZCxcbiAgICAgIGNhbGxiYWNrcyxcbiAgICAgIGFJbmRleGVzRixcbiAgICAgIGFJbmRleGVzUixcbiAgICAgIGRpdmlzaW9uXG4gICAgKTtcbiAgfVxuXG4gIC8vIFJldHVybiBjb21tb24gc3Vic2VxdWVuY2VzIHRoYXQgYXJlIGFkamFjZW50IHRvIHRoZSBtaWRkbGUgY2hhbmdlLlxuICBpZiAobkNvbW1vblByZWNlZGluZyAhPT0gMCkge1xuICAgIGZvdW5kU3Vic2VxdWVuY2UobkNvbW1vblByZWNlZGluZywgYUNvbW1vblByZWNlZGluZywgYkNvbW1vblByZWNlZGluZyk7XG4gIH1cbiAgaWYgKG5Db21tb25Gb2xsb3dpbmcgIT09IDApIHtcbiAgICBmb3VuZFN1YnNlcXVlbmNlKG5Db21tb25Gb2xsb3dpbmcsIGFDb21tb25Gb2xsb3dpbmcsIGJDb21tb25Gb2xsb3dpbmcpO1xuICB9XG5cbiAgLy8gVW5sZXNzIGVpdGhlciBpbmRleCBpbnRlcnZhbCBpcyBlbXB0eSwgdGhleSBtaWdodCBjb250YWluIGNvbW1vbiBpdGVtcy5cbiAgaWYgKGFTdGFydEZvbGxvd2luZyA8IGFFbmQgJiYgYlN0YXJ0Rm9sbG93aW5nIDwgYkVuZCkge1xuICAgIC8vIFJlY3Vyc2VseSBmaW5kIGFuZCByZXR1cm4gY29tbW9uIHN1YnNlcXVlbmNlcyBmb2xsb3dpbmcgdGhlIGRpdmlzaW9uLlxuICAgIGZpbmRTdWJzZXF1ZW5jZXMoXG4gICAgICBuQ2hhbmdlRm9sbG93aW5nLFxuICAgICAgYVN0YXJ0Rm9sbG93aW5nLFxuICAgICAgYUVuZCxcbiAgICAgIGJTdGFydEZvbGxvd2luZyxcbiAgICAgIGJFbmQsXG4gICAgICB0cmFuc3Bvc2VkLFxuICAgICAgY2FsbGJhY2tzLFxuICAgICAgYUluZGV4ZXNGLFxuICAgICAgYUluZGV4ZXNSLFxuICAgICAgZGl2aXNpb25cbiAgICApO1xuICB9XG59O1xuY29uc3QgdmFsaWRhdGVMZW5ndGggPSAobmFtZSwgYXJnKSA9PiB7XG4gIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7cGtnfTogJHtuYW1lfSB0eXBlb2YgJHt0eXBlb2YgYXJnfSBpcyBub3QgYSBudW1iZXJgKTtcbiAgfVxuICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGFyZykpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgJHtwa2d9OiAke25hbWV9IHZhbHVlICR7YXJnfSBpcyBub3QgYSBzYWZlIGludGVnZXJgKTtcbiAgfVxuICBpZiAoYXJnIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGAke3BrZ306ICR7bmFtZX0gdmFsdWUgJHthcmd9IGlzIGEgbmVnYXRpdmUgaW50ZWdlcmApO1xuICB9XG59O1xuY29uc3QgdmFsaWRhdGVDYWxsYmFjayA9IChuYW1lLCBhcmcpID0+IHtcbiAgY29uc3QgdHlwZSA9IHR5cGVvZiBhcmc7XG4gIGlmICh0eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtwa2d9OiAke25hbWV9IHR5cGVvZiAke3R5cGV9IGlzIG5vdCBhIGZ1bmN0aW9uYCk7XG4gIH1cbn07XG5cbi8vIENvbXBhcmUgaXRlbXMgaW4gdHdvIHNlcXVlbmNlcyB0byBmaW5kIGEgbG9uZ2VzdCBjb21tb24gc3Vic2VxdWVuY2UuXG4vLyBHaXZlbiBsZW5ndGhzIG9mIHNlcXVlbmNlcyBhbmQgaW5wdXQgZnVuY3Rpb24gdG8gY29tcGFyZSBpdGVtcyBhdCBpbmRleGVzLFxuLy8gcmV0dXJuIGJ5IG91dHB1dCBmdW5jdGlvbiB0aGUgbnVtYmVyIG9mIGFkamFjZW50IGl0ZW1zIGFuZCBzdGFydGluZyBpbmRleGVzXG4vLyBvZiBlYWNoIGNvbW1vbiBzdWJzZXF1ZW5jZS5cbmZ1bmN0aW9uIGRpZmZTZXF1ZW5jZShhTGVuZ3RoLCBiTGVuZ3RoLCBpc0NvbW1vbiwgZm91bmRTdWJzZXF1ZW5jZSkge1xuICB2YWxpZGF0ZUxlbmd0aCgnYUxlbmd0aCcsIGFMZW5ndGgpO1xuICB2YWxpZGF0ZUxlbmd0aCgnYkxlbmd0aCcsIGJMZW5ndGgpO1xuICB2YWxpZGF0ZUNhbGxiYWNrKCdpc0NvbW1vbicsIGlzQ29tbW9uKTtcbiAgdmFsaWRhdGVDYWxsYmFjaygnZm91bmRTdWJzZXF1ZW5jZScsIGZvdW5kU3Vic2VxdWVuY2UpO1xuXG4gIC8vIENvdW50IGNvbW1vbiBpdGVtcyBmcm9tIHRoZSBzdGFydCBpbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb24uXG4gIGNvbnN0IG5Db21tb25GID0gY291bnRDb21tb25JdGVtc0YoMCwgYUxlbmd0aCwgMCwgYkxlbmd0aCwgaXNDb21tb24pO1xuICBpZiAobkNvbW1vbkYgIT09IDApIHtcbiAgICBmb3VuZFN1YnNlcXVlbmNlKG5Db21tb25GLCAwLCAwKTtcbiAgfVxuXG4gIC8vIFVubGVzcyBib3RoIHNlcXVlbmNlcyBjb25zaXN0IG9mIGNvbW1vbiBpdGVtcyBvbmx5LFxuICAvLyBmaW5kIGNvbW1vbiBpdGVtcyBpbiB0aGUgaGFsZi10cmltbWVkIGluZGV4IGludGVydmFscy5cbiAgaWYgKGFMZW5ndGggIT09IG5Db21tb25GIHx8IGJMZW5ndGggIT09IG5Db21tb25GKSB7XG4gICAgLy8gSW52YXJpYW50OiBpbnRlcnZhbHMgZG8gbm90IGhhdmUgY29tbW9uIGl0ZW1zIGF0IHRoZSBzdGFydC5cbiAgICAvLyBUaGUgc3RhcnQgb2YgYW4gaW5kZXggaW50ZXJ2YWwgaXMgY2xvc2VkIGxpa2UgYXJyYXkgc2xpY2UgbWV0aG9kLlxuICAgIGNvbnN0IGFTdGFydCA9IG5Db21tb25GO1xuICAgIGNvbnN0IGJTdGFydCA9IG5Db21tb25GO1xuXG4gICAgLy8gQ291bnQgY29tbW9uIGl0ZW1zIGZyb20gdGhlIGVuZCBpbiB0aGUgcmV2ZXJzZSBkaXJlY3Rpb24uXG4gICAgY29uc3QgbkNvbW1vblIgPSBjb3VudENvbW1vbkl0ZW1zUihcbiAgICAgIGFTdGFydCxcbiAgICAgIGFMZW5ndGggLSAxLFxuICAgICAgYlN0YXJ0LFxuICAgICAgYkxlbmd0aCAtIDEsXG4gICAgICBpc0NvbW1vblxuICAgICk7XG5cbiAgICAvLyBJbnZhcmlhbnQ6IGludGVydmFscyBkbyBub3QgaGF2ZSBjb21tb24gaXRlbXMgYXQgdGhlIGVuZC5cbiAgICAvLyBUaGUgZW5kIG9mIGFuIGluZGV4IGludGVydmFsIGlzIG9wZW4gbGlrZSBhcnJheSBzbGljZSBtZXRob2QuXG4gICAgY29uc3QgYUVuZCA9IGFMZW5ndGggLSBuQ29tbW9uUjtcbiAgICBjb25zdCBiRW5kID0gYkxlbmd0aCAtIG5Db21tb25SO1xuXG4gICAgLy8gVW5sZXNzIG9uZSBzZXF1ZW5jZSBjb25zaXN0cyBvZiBjb21tb24gaXRlbXMgb25seSxcbiAgICAvLyB0aGVyZWZvcmUgdGhlIG90aGVyIHRyaW1tZWQgaW5kZXggaW50ZXJ2YWwgY29uc2lzdHMgb2YgY2hhbmdlcyBvbmx5LFxuICAgIC8vIGZpbmQgY29tbW9uIGl0ZW1zIGluIHRoZSB0cmltbWVkIGluZGV4IGludGVydmFscy5cbiAgICBjb25zdCBuQ29tbW9uRlIgPSBuQ29tbW9uRiArIG5Db21tb25SO1xuICAgIGlmIChhTGVuZ3RoICE9PSBuQ29tbW9uRlIgJiYgYkxlbmd0aCAhPT0gbkNvbW1vbkZSKSB7XG4gICAgICBjb25zdCBuQ2hhbmdlID0gMDsgLy8gbnVtYmVyIG9mIGNoYW5nZSBpdGVtcyBpcyBub3QgeWV0IGtub3duXG4gICAgICBjb25zdCB0cmFuc3Bvc2VkID0gZmFsc2U7IC8vIGNhbGwgdGhlIG9yaWdpbmFsIHVud3JhcHBlZCBmdW5jdGlvbnNcbiAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGZvdW5kU3Vic2VxdWVuY2UsXG4gICAgICAgICAgaXNDb21tb25cbiAgICAgICAgfVxuICAgICAgXTtcblxuICAgICAgLy8gSW5kZXhlcyBpbiBzZXF1ZW5jZSBhIG9mIGxhc3QgcG9pbnRzIGluIGZ1cnRoZXN0IHJlYWNoaW5nIHBhdGhzXG4gICAgICAvLyBmcm9tIG91dHNpZGUgdGhlIHN0YXJ0IGF0IHRvcCBsZWZ0IGluIHRoZSBmb3J3YXJkIGRpcmVjdGlvbjpcbiAgICAgIGNvbnN0IGFJbmRleGVzRiA9IFtOT1RfWUVUX1NFVF07XG4gICAgICAvLyBmcm9tIHRoZSBlbmQgYXQgYm90dG9tIHJpZ2h0IGluIHRoZSByZXZlcnNlIGRpcmVjdGlvbjpcbiAgICAgIGNvbnN0IGFJbmRleGVzUiA9IFtOT1RfWUVUX1NFVF07XG5cbiAgICAgIC8vIEluaXRpYWxpemUgb25lIG9iamVjdCBhcyBvdXRwdXQgb2YgYWxsIGNhbGxzIHRvIGRpdmlkZSBmdW5jdGlvbi5cbiAgICAgIGNvbnN0IGRpdmlzaW9uID0ge1xuICAgICAgICBhQ29tbW9uRm9sbG93aW5nOiBOT1RfWUVUX1NFVCxcbiAgICAgICAgYUNvbW1vblByZWNlZGluZzogTk9UX1lFVF9TRVQsXG4gICAgICAgIGFFbmRQcmVjZWRpbmc6IE5PVF9ZRVRfU0VULFxuICAgICAgICBhU3RhcnRGb2xsb3dpbmc6IE5PVF9ZRVRfU0VULFxuICAgICAgICBiQ29tbW9uRm9sbG93aW5nOiBOT1RfWUVUX1NFVCxcbiAgICAgICAgYkNvbW1vblByZWNlZGluZzogTk9UX1lFVF9TRVQsXG4gICAgICAgIGJFbmRQcmVjZWRpbmc6IE5PVF9ZRVRfU0VULFxuICAgICAgICBiU3RhcnRGb2xsb3dpbmc6IE5PVF9ZRVRfU0VULFxuICAgICAgICBuQ2hhbmdlRm9sbG93aW5nOiBOT1RfWUVUX1NFVCxcbiAgICAgICAgbkNoYW5nZVByZWNlZGluZzogTk9UX1lFVF9TRVQsXG4gICAgICAgIG5Db21tb25Gb2xsb3dpbmc6IE5PVF9ZRVRfU0VULFxuICAgICAgICBuQ29tbW9uUHJlY2VkaW5nOiBOT1RfWUVUX1NFVFxuICAgICAgfTtcblxuICAgICAgLy8gRmluZCBhbmQgcmV0dXJuIGNvbW1vbiBzdWJzZXF1ZW5jZXMgaW4gdGhlIHRyaW1tZWQgaW5kZXggaW50ZXJ2YWxzLlxuICAgICAgZmluZFN1YnNlcXVlbmNlcyhcbiAgICAgICAgbkNoYW5nZSxcbiAgICAgICAgYVN0YXJ0LFxuICAgICAgICBhRW5kLFxuICAgICAgICBiU3RhcnQsXG4gICAgICAgIGJFbmQsXG4gICAgICAgIHRyYW5zcG9zZWQsXG4gICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgYUluZGV4ZXNGLFxuICAgICAgICBhSW5kZXhlc1IsXG4gICAgICAgIGRpdmlzaW9uXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAobkNvbW1vblIgIT09IDApIHtcbiAgICAgIGZvdW5kU3Vic2VxdWVuY2UobkNvbW1vblIsIGFFbmQsIGJFbmQpO1xuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaQSxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFLFlBQVksRUFBRTtFQUMzQ0MsS0FBSyxFQUFFO0FBQ1QsQ0FBQyxDQUFDO0FBQ0ZELE9BQU8sQ0FBQ0UsT0FBTyxHQUFHQyxZQUFZO0FBc0U5QixJQUFNQyxHQUFHLEdBQUcsZ0JBQWdCO0FBQzVCLElBQU1DLFdBQVcsR0FBRyxDQUFDO0FBSXJCLElBQU1DLGlCQUFpQixHQUFHLFNBQXBCQSxpQkFBaUIsQ0FBSUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUs7RUFDbEUsSUFBSUMsT0FBTyxH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