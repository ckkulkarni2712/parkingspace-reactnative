cb17abc5228bfcbf07c2f5bd25f7961b
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.bindByA11yStateQueries = void 0;
var _accessiblity = require("../helpers/accessiblity");
var _deprecation = require("../helpers/deprecation");
var _findAll = require("../helpers/findAll");
var _accessibilityState = require("../helpers/matchers/accessibilityState");
var _makeQueries = require("./makeQueries");
var queryAllByA11yState = function queryAllByA11yState(instance) {
  return function queryAllByA11yStateFn(matcher, queryOptions) {
    return (0, _findAll.findAll)(instance, function (node) {
      return typeof node.type === 'string' && (0, _accessibilityState.matchAccessibilityState)(node, matcher);
    }, queryOptions);
  };
};
var buildErrorMessage = function buildErrorMessage() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var errors = [];
  _accessiblity.accessibilityStateKeys.forEach(function (stateKey) {
    if (state[stateKey] !== undefined) {
      errors.push(stateKey + " state: " + state[stateKey]);
    }
  });
  return errors.join(', ');
};
var getMultipleError = function getMultipleError(state) {
  return "Found multiple elements with " + buildErrorMessage(state);
};
var getMissingError = function getMissingError(state) {
  return "Unable to find an element with " + buildErrorMessage(state);
};
var _ref = (0, _makeQueries.makeQueries)(queryAllByA11yState, getMissingError, getMultipleError),
  getBy = _ref.getBy,
  getAllBy = _ref.getAllBy,
  queryBy = _ref.queryBy,
  queryAllBy = _ref.queryAllBy,
  findBy = _ref.findBy,
  findAllBy = _ref.findAllBy;
var bindByA11yStateQueries = function bindByA11yStateQueries(instance) {
  var getByA11yState = getBy(instance);
  var getAllByA11yState = getAllBy(instance);
  var queryByA11yState = queryBy(instance);
  var queryAllByA11yState = queryAllBy(instance);
  var findByA11yState = findBy(instance);
  var findAllByA11yState = findAllBy(instance);
  return Object.assign({}, (0, _deprecation.deprecateQueries)({
    getByA11yState: getByA11yState,
    getAllByA11yState: getAllByA11yState,
    queryByA11yState: queryByA11yState,
    queryAllByA11yState: queryAllByA11yState,
    findByA11yState: findByA11yState,
    findAllByA11yState: findAllByA11yState,
    getByAccessibilityState: getByA11yState,
    getAllByAccessibilityState: getAllByA11yState,
    queryByAccessibilityState: queryByA11yState,
    queryAllByAccessibilityState: queryAllByA11yState,
    findByAccessibilityState: findByA11yState,
    findAllByAccessibilityState: findAllByA11yState
  }, 'Use {queryPrefix}ByRole(role, { disabled, selected, checked, busy, expanded }) query or expect(...).toHaveAccessibilityState(...) matcher from "@testing-library/jest-native" package instead.'));
};
exports.bindByA11yStateQueries = bindByA11yStateQueries;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dGF0ZUZuIiwibWF0Y2hlciIsInF1ZXJ5T3B0aW9ucyIsIm5vZGUiLCJ0eXBlIiwiYnVpbGRFcnJvck1lc3NhZ2UiLCJzdGF0ZSIsImVycm9ycyIsImFjY2Vzc2liaWxpdHlTdGF0ZUtleXMiLCJmb3JFYWNoIiwic3RhdGVLZXkiLCJ1bmRlZmluZWQiLCJwdXNoIiwiam9pbiIsImdldE11bHRpcGxlRXJyb3IiLCJnZXRNaXNzaW5nRXJyb3IiLCJnZXRCeSIsImdldEFsbEJ5IiwicXVlcnlCeSIsInF1ZXJ5QWxsQnkiLCJmaW5kQnkiLCJmaW5kQWxsQnkiLCJiaW5kQnlBMTF5U3RhdGVRdWVyaWVzIiwiZ2V0QnlBMTF5U3RhdGUiLCJnZXRBbGxCeUExMXlTdGF0ZSIsInF1ZXJ5QnlBMTF5U3RhdGUiLCJmaW5kQnlBMTF5U3RhdGUiLCJmaW5kQWxsQnlBMTF5U3RhdGUiLCJnZXRCeUFjY2Vzc2liaWxpdHlTdGF0ZSIsImdldEFsbEJ5QWNjZXNzaWJpbGl0eVN0YXRlIiwicXVlcnlCeUFjY2Vzc2liaWxpdHlTdGF0ZSIsInF1ZXJ5QWxsQnlBY2Nlc3NpYmlsaXR5U3RhdGUiLCJmaW5kQnlBY2Nlc3NpYmlsaXR5U3RhdGUiLCJmaW5kQWxsQnlBY2Nlc3NpYmlsaXR5U3RhdGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3F1ZXJpZXMvYTExeVN0YXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUmVhY3RUZXN0SW5zdGFuY2UgfSBmcm9tICdyZWFjdC10ZXN0LXJlbmRlcmVyJztcbmltcG9ydCB7IEFjY2Vzc2liaWxpdHlTdGF0ZSB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBhY2Nlc3NpYmlsaXR5U3RhdGVLZXlzIH0gZnJvbSAnLi4vaGVscGVycy9hY2Nlc3NpYmxpdHknO1xuaW1wb3J0IHsgZGVwcmVjYXRlUXVlcmllcyB9IGZyb20gJy4uL2hlbHBlcnMvZGVwcmVjYXRpb24nO1xuaW1wb3J0IHsgZmluZEFsbCB9IGZyb20gJy4uL2hlbHBlcnMvZmluZEFsbCc7XG5pbXBvcnQgeyBtYXRjaEFjY2Vzc2liaWxpdHlTdGF0ZSB9IGZyb20gJy4uL2hlbHBlcnMvbWF0Y2hlcnMvYWNjZXNzaWJpbGl0eVN0YXRlJztcbmltcG9ydCB7IG1ha2VRdWVyaWVzIH0gZnJvbSAnLi9tYWtlUXVlcmllcyc7XG5pbXBvcnQgdHlwZSB7XG4gIEZpbmRBbGxCeVF1ZXJ5LFxuICBGaW5kQnlRdWVyeSxcbiAgR2V0QWxsQnlRdWVyeSxcbiAgR2V0QnlRdWVyeSxcbiAgUXVlcnlBbGxCeVF1ZXJ5LFxuICBRdWVyeUJ5UXVlcnksXG59IGZyb20gJy4vbWFrZVF1ZXJpZXMnO1xuaW1wb3J0IHsgQ29tbW9uUXVlcnlPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcblxuY29uc3QgcXVlcnlBbGxCeUExMXlTdGF0ZSA9IChcbiAgaW5zdGFuY2U6IFJlYWN0VGVzdEluc3RhbmNlXG4pOiAoKFxuICBtYXRjaGVyOiBBY2Nlc3NpYmlsaXR5U3RhdGUsXG4gIHF1ZXJ5T3B0aW9ucz86IENvbW1vblF1ZXJ5T3B0aW9uc1xuKSA9PiBBcnJheTxSZWFjdFRlc3RJbnN0YW5jZT4pID0+XG4gIGZ1bmN0aW9uIHF1ZXJ5QWxsQnlBMTF5U3RhdGVGbihtYXRjaGVyLCBxdWVyeU9wdGlvbnMpIHtcbiAgICByZXR1cm4gZmluZEFsbChcbiAgICAgIGluc3RhbmNlLFxuICAgICAgKG5vZGUpID0+XG4gICAgICAgIHR5cGVvZiBub2RlLnR5cGUgPT09ICdzdHJpbmcnICYmIG1hdGNoQWNjZXNzaWJpbGl0eVN0YXRlKG5vZGUsIG1hdGNoZXIpLFxuICAgICAgcXVlcnlPcHRpb25zXG4gICAgKTtcbiAgfTtcblxuY29uc3QgYnVpbGRFcnJvck1lc3NhZ2UgPSAoc3RhdGU6IEFjY2Vzc2liaWxpdHlTdGF0ZSA9IHt9KSA9PiB7XG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcblxuICBhY2Nlc3NpYmlsaXR5U3RhdGVLZXlzLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XG4gICAgaWYgKHN0YXRlW3N0YXRlS2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvcnMucHVzaChgJHtzdGF0ZUtleX0gc3RhdGU6ICR7c3RhdGVbc3RhdGVLZXldfWApO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGVycm9ycy5qb2luKCcsICcpO1xufTtcblxuY29uc3QgZ2V0TXVsdGlwbGVFcnJvciA9IChzdGF0ZTogQWNjZXNzaWJpbGl0eVN0YXRlKSA9PlxuICBgRm91bmQgbXVsdGlwbGUgZWxlbWVudHMgd2l0aCAke2J1aWxkRXJyb3JNZXNzYWdlKHN0YXRlKX1gO1xuXG5jb25zdCBnZXRNaXNzaW5nRXJyb3IgPSAoc3RhdGU6IEFjY2Vzc2liaWxpdHlTdGF0ZSkgPT5cbiAgYFVuYWJsZSB0byBmaW5kIGFuIGVsZW1lbnQgd2l0aCAke2J1aWxkRXJyb3JNZXNzYWdlKHN0YXRlKX1gO1xuXG5jb25zdCB7IGdldEJ5LCBnZXRBbGxCeSwgcXVlcnlCeSwgcXVlcnlBbGxCeSwgZmluZEJ5LCBmaW5kQWxsQnkgfSA9IG1ha2VRdWVyaWVzKFxuICBxdWVyeUFsbEJ5QTExeVN0YXRlLFxuICBnZXRNaXNzaW5nRXJyb3IsXG4gIGdldE11bHRpcGxlRXJyb3Jcbik7XG5cbmV4cG9ydCB0eXBlIEJ5QTExeVN0YXRlUXVlcmllcyA9IHtcbiAgZ2V0QnlBMTF5U3RhdGU6IEdldEJ5UXVlcnk8QWNjZXNzaWJpbGl0eVN0YXRlLCBDb21tb25RdWVyeU9wdGlvbnM+O1xuICBnZXRBbGxCeUExMXlTdGF0ZTogR2V0QWxsQnlRdWVyeTxBY2Nlc3NpYmlsaXR5U3RhdGUsIENvbW1vblF1ZXJ5T3B0aW9ucz47XG4gIHF1ZXJ5QnlBMTF5U3RhdGU6IFF1ZXJ5QnlRdWVyeTxBY2Nlc3NpYmlsaXR5U3RhdGUsIENvbW1vblF1ZXJ5T3B0aW9ucz47XG4gIHF1ZXJ5QWxsQnlBMTF5U3RhdGU6IFF1ZXJ5QWxsQnlRdWVyeTxBY2Nlc3NpYmlsaXR5U3RhdGUsIENvbW1vblF1ZXJ5T3B0aW9ucz47XG4gIGZpbmRCeUExMXlTdGF0ZTogRmluZEJ5UXVlcnk8QWNjZXNzaWJpbGl0eVN0YXRlLCBDb21tb25RdWVyeU9wdGlvbnM+O1xuICBmaW5kQWxsQnlBMTF5U3RhdGU6IEZpbmRBbGxCeVF1ZXJ5PEFjY2Vzc2liaWxpdHlTdGF0ZSwgQ29tbW9uUXVlcnlPcHRpb25zPjtcblxuICBnZXRCeUFjY2Vzc2liaWxpdHlTdGF0ZTogR2V0QnlRdWVyeTxBY2Nlc3NpYmlsaXR5U3RhdGUsIENvbW1vblF1ZXJ5T3B0aW9ucz47XG4gIGdldEFsbEJ5QWNjZXNzaWJpbGl0eVN0YXRlOiBHZXRBbGxCeVF1ZXJ5PFxuICAgIEFjY2Vzc2liaWxpdHlTdGF0ZSxcbiAgICBDb21tb25RdWVyeU9wdGlvbnNcbiAgPjtcbiAgcXVlcnlCeUFjY2Vzc2liaWxpdHlTdGF0ZTogUXVlcnlCeVF1ZXJ5PFxuICAgIEFjY2Vzc2liaWxpdHlTdGF0ZSxcbiAgICBDb21tb25RdWVyeU9wdGlvbnNcbiAgPjtcbiAgcXVlcnlBbGxCeUFjY2Vzc2liaWxpdHlTdGF0ZTogUXVlcnlBbGxCeVF1ZXJ5PFxuICAgIEFjY2Vzc2liaWxpdHlTdGF0ZSxcbiAgICBDb21tb25RdWVyeU9wdGlvbnNcbiAgPjtcbiAgZmluZEJ5QWNjZXNzaWJpbGl0eVN0YXRlOiBGaW5kQnlRdWVyeTxBY2Nlc3NpYmlsaXR5U3RhdGUsIENvbW1vblF1ZXJ5T3B0aW9ucz47XG4gIGZpbmRBbGxCeUFjY2Vzc2liaWxpdHlTdGF0ZTogRmluZEFsbEJ5UXVlcnk8XG4gICAgQWNjZXNzaWJpbGl0eVN0YXRlLFxuICAgIENvbW1vblF1ZXJ5T3B0aW9uc1xuICA+O1xufTtcblxuZXhwb3J0IGNvbnN0IGJpbmRCeUExMXlTdGF0ZVF1ZXJpZXMgPSAoXG4gIGluc3RhbmNlOiBSZWFjdFRlc3RJbnN0YW5jZVxuKTogQnlBMTF5U3RhdGVRdWVyaWVzID0+IHtcbiAgY29uc3QgZ2V0QnlBMTF5U3RhdGUgPSBnZXRCeShpbnN0YW5jZSk7XG4gIGNvbnN0IGdldEFsbEJ5QTExeVN0YXRlID0gZ2V0QWxsQnkoaW5zdGFuY2UpO1xuICBjb25zdCBxdWVyeUJ5QTExeVN0YXRlID0gcXVlcnlCeShpbnN0YW5jZSk7XG4gIGNvbnN0IHF1ZXJ5QWxsQnlBMTF5U3RhdGUgPSBxdWVyeUFsbEJ5KGluc3RhbmNlKTtcbiAgY29uc3QgZmluZEJ5QTExeVN0YXRlID0gZmluZEJ5KGluc3RhbmNlKTtcbiAgY29uc3QgZmluZEFsbEJ5QTExeVN0YXRlID0gZmluZEFsbEJ5KGluc3RhbmNlKTtcblxuICByZXR1cm4ge1xuICAgIC4uLmRlcHJlY2F0ZVF1ZXJpZXMoXG4gICAgICB7XG4gICAgICAgIGdldEJ5QTExeVN0YXRlLFxuICAgICAgICBnZXRBbGxCeUExMXlTdGF0ZSxcbiAgICAgICAgcXVlcnlCeUExMXlTdGF0ZSxcbiAgICAgICAgcXVlcnlBbGxCeUExMXlTdGF0ZSxcbiAgICAgICAgZmluZEJ5QTExeVN0YXRlLFxuICAgICAgICBmaW5kQWxsQnlBMTF5U3RhdGUsXG4gICAgICAgIGdldEJ5QWNjZXNzaWJpbGl0eVN0YXRlOiBnZXRCeUExMXlTdGF0ZSxcbiAgICAgICAgZ2V0QWxsQnlBY2Nlc3NpYmlsaXR5U3RhdGU6IGdldEFsbEJ5QTExeVN0YXRlLFxuICAgICAgICBxdWVyeUJ5QWNjZXNzaWJpbGl0eVN0YXRlOiBxdWVyeUJ5QTExeVN0YXRlLFxuICAgICAgICBxdWVyeUFsbEJ5QWNjZXNzaWJpbGl0eVN0YXRlOiBxdWVyeUFsbEJ5QTExeVN0YXRlLFxuICAgICAgICBmaW5kQnlBY2Nlc3NpYmlsaXR5U3RhdGU6IGZpbmRCeUExMXlTdGF0ZSxcbiAgICAgICAgZmluZEFsbEJ5QWNjZXNzaWJpbGl0eVN0YXRlOiBmaW5kQWxsQnlBMTF5U3RhdGUsXG4gICAgICB9LFxuICAgICAgJ1VzZSB7cXVlcnlQcmVmaXh9QnlSb2xlKHJvbGUsIHsgZGlzYWJsZWQsIHNlbGVjdGVkLCBjaGVja2VkLCBidXN5LCBleHBhbmRlZCB9KSBxdWVyeSBvciBleHBlY3QoLi4uKS50b0hhdmVBY2Nlc3NpYmlsaXR5U3RhdGUoLi4uKSBtYXRjaGVyIGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L2plc3QtbmF0aXZlXCIgcGFja2FnZSBpbnN0ZWFkLidcbiAgICApLFxuICB9O1xufTtcbiJdfQ==