ce0dc1855b368c356621f566f09a2344
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.joinAlignedDiffsNoExpand = exports.joinAlignedDiffsExpand = void 0;
var _cleanupSemantic = require('./cleanupSemantic');
var formatTrailingSpaces = function formatTrailingSpaces(line, trailingSpaceFormatter) {
  return line.replace(/\s+$/, function (match) {
    return trailingSpaceFormatter(match);
  });
};
var printDiffLine = function printDiffLine(line, isFirstOrLast, color, indicator, trailingSpaceFormatter, emptyFirstOrLastLinePlaceholder) {
  return line.length !== 0 ? color(indicator + " " + formatTrailingSpaces(line, trailingSpaceFormatter)) : indicator !== ' ' ? color(indicator) : isFirstOrLast && emptyFirstOrLastLinePlaceholder.length !== 0 ? color(indicator + " " + emptyFirstOrLastLinePlaceholder) : '';
};
var printDeleteLine = function printDeleteLine(line, isFirstOrLast, _ref) {
  var aColor = _ref.aColor,
    aIndicator = _ref.aIndicator,
    changeLineTrailingSpaceColor = _ref.changeLineTrailingSpaceColor,
    emptyFirstOrLastLinePlaceholder = _ref.emptyFirstOrLastLinePlaceholder;
  return printDiffLine(line, isFirstOrLast, aColor, aIndicator, changeLineTrailingSpaceColor, emptyFirstOrLastLinePlaceholder);
};
var printInsertLine = function printInsertLine(line, isFirstOrLast, _ref2) {
  var bColor = _ref2.bColor,
    bIndicator = _ref2.bIndicator,
    changeLineTrailingSpaceColor = _ref2.changeLineTrailingSpaceColor,
    emptyFirstOrLastLinePlaceholder = _ref2.emptyFirstOrLastLinePlaceholder;
  return printDiffLine(line, isFirstOrLast, bColor, bIndicator, changeLineTrailingSpaceColor, emptyFirstOrLastLinePlaceholder);
};
var printCommonLine = function printCommonLine(line, isFirstOrLast, _ref3) {
  var commonColor = _ref3.commonColor,
    commonIndicator = _ref3.commonIndicator,
    commonLineTrailingSpaceColor = _ref3.commonLineTrailingSpaceColor,
    emptyFirstOrLastLinePlaceholder = _ref3.emptyFirstOrLastLinePlaceholder;
  return printDiffLine(line, isFirstOrLast, commonColor, commonIndicator, commonLineTrailingSpaceColor, emptyFirstOrLastLinePlaceholder);
};
var createPatchMark = function createPatchMark(aStart, aEnd, bStart, bEnd, _ref4) {
  var patchColor = _ref4.patchColor;
  return patchColor("@@ -" + (aStart + 1) + "," + (aEnd - aStart) + " +" + (bStart + 1) + "," + (bEnd - bStart) + " @@");
};
var joinAlignedDiffsNoExpand = function joinAlignedDiffsNoExpand(diffs, options) {
  var iLength = diffs.length;
  var nContextLines = options.contextLines;
  var nContextLines2 = nContextLines + nContextLines;
  var jLength = iLength;
  var hasExcessAtStartOrEnd = false;
  var nExcessesBetweenChanges = 0;
  var i = 0;
  while (i !== iLength) {
    var iStart = i;
    while (i !== iLength && diffs[i][0] === _cleanupSemantic.DIFF_EQUAL) {
      i += 1;
    }
    if (iStart !== i) {
      if (iStart === 0) {
        if (i > nContextLines) {
          jLength -= i - nContextLines;
          hasExcessAtStartOrEnd = true;
        }
      } else if (i === iLength) {
        var n = i - iStart;
        if (n > nContextLines) {
          jLength -= n - nContextLines;
          hasExcessAtStartOrEnd = true;
        }
      } else {
        var _n = i - iStart;
        if (_n > nContextLines2) {
          jLength -= _n - nContextLines2;
          nExcessesBetweenChanges += 1;
        }
      }
    }
    while (i !== iLength && diffs[i][0] !== _cleanupSemantic.DIFF_EQUAL) {
      i += 1;
    }
  }
  var hasPatch = nExcessesBetweenChanges !== 0 || hasExcessAtStartOrEnd;
  if (nExcessesBetweenChanges !== 0) {
    jLength += nExcessesBetweenChanges + 1;
  } else if (hasExcessAtStartOrEnd) {
    jLength += 1;
  }
  var jLast = jLength - 1;
  var lines = [];
  var jPatchMark = 0;
  if (hasPatch) {
    lines.push('');
  }
  var aStart = 0;
  var bStart = 0;
  var aEnd = 0;
  var bEnd = 0;
  var pushCommonLine = function pushCommonLine(line) {
    var j = lines.length;
    lines.push(printCommonLine(line, j === 0 || j === jLast, options));
    aEnd += 1;
    bEnd += 1;
  };
  var pushDeleteLine = function pushDeleteLine(line) {
    var j = lines.length;
    lines.push(printDeleteLine(line, j === 0 || j === jLast, options));
    aEnd += 1;
  };
  var pushInsertLine = function pushInsertLine(line) {
    var j = lines.length;
    lines.push(printInsertLine(line, j === 0 || j === jLast, options));
    bEnd += 1;
  };
  i = 0;
  while (i !== iLength) {
    var _iStart = i;
    while (i !== iLength && diffs[i][0] === _cleanupSemantic.DIFF_EQUAL) {
      i += 1;
    }
    if (_iStart !== i) {
      if (_iStart === 0) {
        if (i > nContextLines) {
          _iStart = i - nContextLines;
          aStart = _iStart;
          bStart = _iStart;
          aEnd = aStart;
          bEnd = bStart;
        }
        for (var iCommon = _iStart; iCommon !== i; iCommon += 1) {
          pushCommonLine(diffs[iCommon][1]);
        }
      } else if (i === iLength) {
        var iEnd = i - _iStart > nContextLines ? _iStart + nContextLines : i;
        for (var _iCommon = _iStart; _iCommon !== iEnd; _iCommon += 1) {
          pushCommonLine(diffs[_iCommon][1]);
        }
      } else {
        var nCommon = i - _iStart;
        if (nCommon > nContextLines2) {
          var _iEnd = _iStart + nContextLines;
          for (var _iCommon2 = _iStart; _iCommon2 !== _iEnd; _iCommon2 += 1) {
            pushCommonLine(diffs[_iCommon2][1]);
          }
          lines[jPatchMark] = createPatchMark(aStart, aEnd, bStart, bEnd, options);
          jPatchMark = lines.length;
          lines.push('');
          var nOmit = nCommon - nContextLines2;
          aStart = aEnd + nOmit;
          bStart = bEnd + nOmit;
          aEnd = aStart;
          bEnd = bStart;
          for (var _iCommon3 = i - nContextLines; _iCommon3 !== i; _iCommon3 += 1) {
            pushCommonLine(diffs[_iCommon3][1]);
          }
        } else {
          for (var _iCommon4 = _iStart; _iCommon4 !== i; _iCommon4 += 1) {
            pushCommonLine(diffs[_iCommon4][1]);
          }
        }
      }
    }
    while (i !== iLength && diffs[i][0] === _cleanupSemantic.DIFF_DELETE) {
      pushDeleteLine(diffs[i][1]);
      i += 1;
    }
    while (i !== iLength && diffs[i][0] === _cleanupSemantic.DIFF_INSERT) {
      pushInsertLine(diffs[i][1]);
      i += 1;
    }
  }
  if (hasPatch) {
    lines[jPatchMark] = createPatchMark(aStart, aEnd, bStart, bEnd, options);
  }
  return lines.join('\n');
};
exports.joinAlignedDiffsNoExpand = joinAlignedDiffsNoExpand;
var joinAlignedDiffsExpand = function joinAlignedDiffsExpand(diffs, options) {
  return diffs.map(function (diff, i, diffs) {
    var line = diff[1];
    var isFirstOrLast = i === 0 || i === diffs.length - 1;
    switch (diff[0]) {
      case _cleanupSemantic.DIFF_DELETE:
        return printDeleteLine(line, isFirstOrLast, options);
      case _cleanupSemantic.DIFF_INSERT:
        return printInsertLine(line, isFirstOrLast, options);
      default:
        return printCommonLine(line, isFirstOrLast, options);
    }
  }).join('\n');
};
exports.joinAlignedDiffsExpand = joinAlignedDiffsExpand;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImpvaW5BbGlnbmVkRGlmZnNOb0V4cGFuZCIsImpvaW5BbGlnbmVkRGlmZnNFeHBhbmQiLCJfY2xlYW51cFNlbWFudGljIiwicmVxdWlyZSIsImZvcm1hdFRyYWlsaW5nU3BhY2VzIiwibGluZSIsInRyYWlsaW5nU3BhY2VGb3JtYXR0ZXIiLCJyZXBsYWNlIiwibWF0Y2giLCJwcmludERpZmZMaW5lIiwiaXNGaXJzdE9yTGFzdCIsImNvbG9yIiwiaW5kaWNhdG9yIiwiZW1wdHlGaXJzdE9yTGFzdExpbmVQbGFjZWhvbGRlciIsImxlbmd0aCIsInByaW50RGVsZXRlTGluZSIsImFDb2xvciIsImFJbmRpY2F0b3IiLCJjaGFuZ2VMaW5lVHJhaWxpbmdTcGFjZUNvbG9yIiwicHJpbnRJbnNlcnRMaW5lIiwiYkNvbG9yIiwiYkluZGljYXRvciIsInByaW50Q29tbW9uTGluZSIsImNvbW1vbkNvbG9yIiwiY29tbW9uSW5kaWNhdG9yIiwiY29tbW9uTGluZVRyYWlsaW5nU3BhY2VDb2xvciIsImNyZWF0ZVBhdGNoTWFyayIsImFTdGFydCIsImFFbmQiLCJiU3RhcnQiLCJiRW5kIiwicGF0Y2hDb2xvciIsImRpZmZzIiwib3B0aW9ucyIsImlMZW5ndGgiLCJuQ29udGV4dExpbmVzIiwiY29udGV4dExpbmVzIiwibkNvbnRleHRMaW5lczIiLCJqTGVuZ3RoIiwiaGFzRXhjZXNzQXRTdGFydE9yRW5kIiwibkV4Y2Vzc2VzQmV0d2VlbkNoYW5nZXMiLCJpIiwiaVN0YXJ0IiwiRElGRl9FUVVBTCIsIm4iLCJoYXNQYXRjaCIsImpMYXN0IiwibGluZXMiLCJqUGF0Y2hNYXJrIiwicHVzaCIsInB1c2hDb21tb25MaW5lIiwiaiIsInB1c2hEZWxldGVMaW5lIiwicHVzaEluc2VydExpbmUiLCJpQ29tbW9uIiwiaUVuZCIsIm5Db21tb24iLCJuT21pdCIsIkRJRkZfREVMRVRFIiwiRElGRl9JTlNFUlQiLCJqb2luIiwibWFwIiwiZGlmZiJdLCJzb3VyY2VzIjpbImpvaW5BbGlnbmVkRGlmZnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuam9pbkFsaWduZWREaWZmc05vRXhwYW5kID0gZXhwb3J0cy5qb2luQWxpZ25lZERpZmZzRXhwYW5kID0gdm9pZCAwO1xudmFyIF9jbGVhbnVwU2VtYW50aWMgPSByZXF1aXJlKCcuL2NsZWFudXBTZW1hbnRpYycpO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmNvbnN0IGZvcm1hdFRyYWlsaW5nU3BhY2VzID0gKGxpbmUsIHRyYWlsaW5nU3BhY2VGb3JtYXR0ZXIpID0+XG4gIGxpbmUucmVwbGFjZSgvXFxzKyQvLCBtYXRjaCA9PiB0cmFpbGluZ1NwYWNlRm9ybWF0dGVyKG1hdGNoKSk7XG5jb25zdCBwcmludERpZmZMaW5lID0gKFxuICBsaW5lLFxuICBpc0ZpcnN0T3JMYXN0LFxuICBjb2xvcixcbiAgaW5kaWNhdG9yLFxuICB0cmFpbGluZ1NwYWNlRm9ybWF0dGVyLFxuICBlbXB0eUZpcnN0T3JMYXN0TGluZVBsYWNlaG9sZGVyXG4pID0+XG4gIGxpbmUubGVuZ3RoICE9PSAwXG4gICAgPyBjb2xvcihcbiAgICAgICAgYCR7aW5kaWNhdG9yfSAke2Zvcm1hdFRyYWlsaW5nU3BhY2VzKGxpbmUsIHRyYWlsaW5nU3BhY2VGb3JtYXR0ZXIpfWBcbiAgICAgIClcbiAgICA6IGluZGljYXRvciAhPT0gJyAnXG4gICAgPyBjb2xvcihpbmRpY2F0b3IpXG4gICAgOiBpc0ZpcnN0T3JMYXN0ICYmIGVtcHR5Rmlyc3RPckxhc3RMaW5lUGxhY2Vob2xkZXIubGVuZ3RoICE9PSAwXG4gICAgPyBjb2xvcihgJHtpbmRpY2F0b3J9ICR7ZW1wdHlGaXJzdE9yTGFzdExpbmVQbGFjZWhvbGRlcn1gKVxuICAgIDogJyc7XG5jb25zdCBwcmludERlbGV0ZUxpbmUgPSAoXG4gIGxpbmUsXG4gIGlzRmlyc3RPckxhc3QsXG4gIHtcbiAgICBhQ29sb3IsXG4gICAgYUluZGljYXRvcixcbiAgICBjaGFuZ2VMaW5lVHJhaWxpbmdTcGFjZUNvbG9yLFxuICAgIGVtcHR5Rmlyc3RPckxhc3RMaW5lUGxhY2Vob2xkZXJcbiAgfVxuKSA9PlxuICBwcmludERpZmZMaW5lKFxuICAgIGxpbmUsXG4gICAgaXNGaXJzdE9yTGFzdCxcbiAgICBhQ29sb3IsXG4gICAgYUluZGljYXRvcixcbiAgICBjaGFuZ2VMaW5lVHJhaWxpbmdTcGFjZUNvbG9yLFxuICAgIGVtcHR5Rmlyc3RPckxhc3RMaW5lUGxhY2Vob2xkZXJcbiAgKTtcbmNvbnN0IHByaW50SW5zZXJ0TGluZSA9IChcbiAgbGluZSxcbiAgaXNGaXJzdE9yTGFzdCxcbiAge1xuICAgIGJDb2xvcixcbiAgICBiSW5kaWNhdG9yLFxuICAgIGNoYW5nZUxpbmVUcmFpbGluZ1NwYWNlQ29sb3IsXG4gICAgZW1wdHlGaXJzdE9yTGFzdExpbmVQbGFjZWhvbGRlclxuICB9XG4pID0+XG4gIHByaW50RGlmZkxpbmUoXG4gICAgbGluZSxcbiAgICBpc0ZpcnN0T3JMYXN0LFxuICAgIGJDb2xvcixcbiAgICBiSW5kaWNhdG9yLFxuICAgIGNoYW5nZUxpbmVUcmFpbGluZ1NwYWNlQ29sb3IsXG4gICAgZW1wdHlGaXJzdE9yTGFzdExpbmVQbGFjZWhvbGRlclxuICApO1xuY29uc3QgcHJpbnRDb21tb25MaW5lID0gKFxuICBsaW5lLFxuICBpc0ZpcnN0T3JMYXN0LFxuICB7XG4gICAgY29tbW9uQ29sb3IsXG4gICAgY29tbW9uSW5kaWNhdG9yLFxuICAgIGNvbW1vbkxpbmVUcmFpbGluZ1NwYWNlQ29sb3IsXG4gICAgZW1wdHlGaXJzdE9yTGFzdExpbmVQbGFjZWhvbGRlclxuICB9XG4pID0+XG4gIHByaW50RGlmZkxpbmUoXG4gICAgbGluZSxcbiAgICBpc0ZpcnN0T3JMYXN0LFxuICAgIGNvbW1vbkNvbG9yLFxuICAgIGNvbW1vbkluZGljYXRvcixcbiAgICBjb21tb25MaW5lVHJhaWxpbmdTcGFjZUNvbG9yLFxuICAgIGVtcHR5Rmlyc3RPckxhc3RMaW5lUGxhY2Vob2xkZXJcbiAgKTtcblxuLy8gSW4gR05VIGRpZmYgZm9ybWF0LCBpbmRleGVzIGFyZSBvbmUtYmFzZWQgaW5zdGVhZCBvZiB6ZXJvLWJhc2VkLlxuY29uc3QgY3JlYXRlUGF0Y2hNYXJrID0gKGFTdGFydCwgYUVuZCwgYlN0YXJ0LCBiRW5kLCB7cGF0Y2hDb2xvcn0pID0+XG4gIHBhdGNoQ29sb3IoXG4gICAgYEBAIC0ke2FTdGFydCArIDF9LCR7YUVuZCAtIGFTdGFydH0gKyR7YlN0YXJ0ICsgMX0sJHtiRW5kIC0gYlN0YXJ0fSBAQGBcbiAgKTtcblxuLy8gamVzdCAtLW5vLWV4cGFuZFxuLy9cbi8vIEdpdmVuIGFycmF5IG9mIGFsaWduZWQgc3RyaW5ncyB3aXRoIGludmVyc2UgaGlnaGxpZ2h0IGZvcm1hdHRpbmcsXG4vLyByZXR1cm4gam9pbmVkIGxpbmVzIHdpdGggZGlmZiBmb3JtYXR0aW5nIChhbmQgcGF0Y2ggbWFya3MsIGlmIG5lZWRlZCkuXG5jb25zdCBqb2luQWxpZ25lZERpZmZzTm9FeHBhbmQgPSAoZGlmZnMsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgaUxlbmd0aCA9IGRpZmZzLmxlbmd0aDtcbiAgY29uc3QgbkNvbnRleHRMaW5lcyA9IG9wdGlvbnMuY29udGV4dExpbmVzO1xuICBjb25zdCBuQ29udGV4dExpbmVzMiA9IG5Db250ZXh0TGluZXMgKyBuQ29udGV4dExpbmVzO1xuXG4gIC8vIEZpcnN0IHBhc3M6IGNvdW50IG91dHB1dCBsaW5lcyBhbmQgc2VlIGlmIGl0IGhhcyBwYXRjaGVzLlxuICBsZXQgakxlbmd0aCA9IGlMZW5ndGg7XG4gIGxldCBoYXNFeGNlc3NBdFN0YXJ0T3JFbmQgPSBmYWxzZTtcbiAgbGV0IG5FeGNlc3Nlc0JldHdlZW5DaGFuZ2VzID0gMDtcbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAoaSAhPT0gaUxlbmd0aCkge1xuICAgIGNvbnN0IGlTdGFydCA9IGk7XG4gICAgd2hpbGUgKGkgIT09IGlMZW5ndGggJiYgZGlmZnNbaV1bMF0gPT09IF9jbGVhbnVwU2VtYW50aWMuRElGRl9FUVVBTCkge1xuICAgICAgaSArPSAxO1xuICAgIH1cbiAgICBpZiAoaVN0YXJ0ICE9PSBpKSB7XG4gICAgICBpZiAoaVN0YXJ0ID09PSAwKSB7XG4gICAgICAgIC8vIGF0IHN0YXJ0XG4gICAgICAgIGlmIChpID4gbkNvbnRleHRMaW5lcykge1xuICAgICAgICAgIGpMZW5ndGggLT0gaSAtIG5Db250ZXh0TGluZXM7IC8vIHN1YnRyYWN0IGV4Y2VzcyBjb21tb24gbGluZXNcbiAgICAgICAgICBoYXNFeGNlc3NBdFN0YXJ0T3JFbmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGkgPT09IGlMZW5ndGgpIHtcbiAgICAgICAgLy8gYXQgZW5kXG4gICAgICAgIGNvbnN0IG4gPSBpIC0gaVN0YXJ0O1xuICAgICAgICBpZiAobiA+IG5Db250ZXh0TGluZXMpIHtcbiAgICAgICAgICBqTGVuZ3RoIC09IG4gLSBuQ29udGV4dExpbmVzOyAvLyBzdWJ0cmFjdCBleGNlc3MgY29tbW9uIGxpbmVzXG4gICAgICAgICAgaGFzRXhjZXNzQXRTdGFydE9yRW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYmV0d2VlbiBjaGFuZ2VzXG4gICAgICAgIGNvbnN0IG4gPSBpIC0gaVN0YXJ0O1xuICAgICAgICBpZiAobiA+IG5Db250ZXh0TGluZXMyKSB7XG4gICAgICAgICAgakxlbmd0aCAtPSBuIC0gbkNvbnRleHRMaW5lczI7IC8vIHN1YnRyYWN0IGV4Y2VzcyBjb21tb24gbGluZXNcbiAgICAgICAgICBuRXhjZXNzZXNCZXR3ZWVuQ2hhbmdlcyArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChpICE9PSBpTGVuZ3RoICYmIGRpZmZzW2ldWzBdICE9PSBfY2xlYW51cFNlbWFudGljLkRJRkZfRVFVQUwpIHtcbiAgICAgIGkgKz0gMTtcbiAgICB9XG4gIH1cbiAgY29uc3QgaGFzUGF0Y2ggPSBuRXhjZXNzZXNCZXR3ZWVuQ2hhbmdlcyAhPT0gMCB8fCBoYXNFeGNlc3NBdFN0YXJ0T3JFbmQ7XG4gIGlmIChuRXhjZXNzZXNCZXR3ZWVuQ2hhbmdlcyAhPT0gMCkge1xuICAgIGpMZW5ndGggKz0gbkV4Y2Vzc2VzQmV0d2VlbkNoYW5nZXMgKyAxOyAvLyBhZGQgcGF0Y2ggbGluZXNcbiAgfSBlbHNlIGlmIChoYXNFeGNlc3NBdFN0YXJ0T3JFbmQpIHtcbiAgICBqTGVuZ3RoICs9IDE7IC8vIGFkZCBwYXRjaCBsaW5lXG4gIH1cblxuICBjb25zdCBqTGFzdCA9IGpMZW5ndGggLSAxO1xuICBjb25zdCBsaW5lcyA9IFtdO1xuICBsZXQgalBhdGNoTWFyayA9IDA7IC8vIGluZGV4IG9mIHBsYWNlaG9sZGVyIGxpbmUgZm9yIGN1cnJlbnQgcGF0Y2ggbWFya1xuICBpZiAoaGFzUGF0Y2gpIHtcbiAgICBsaW5lcy5wdXNoKCcnKTsgLy8gcGxhY2Vob2xkZXIgbGluZSBmb3IgZmlyc3QgcGF0Y2ggbWFya1xuICB9XG5cbiAgLy8gSW5kZXhlcyBvZiBleHBlY3RlZCBvciByZWNlaXZlZCBsaW5lcyBpbiBjdXJyZW50IHBhdGNoOlxuICBsZXQgYVN0YXJ0ID0gMDtcbiAgbGV0IGJTdGFydCA9IDA7XG4gIGxldCBhRW5kID0gMDtcbiAgbGV0IGJFbmQgPSAwO1xuICBjb25zdCBwdXNoQ29tbW9uTGluZSA9IGxpbmUgPT4ge1xuICAgIGNvbnN0IGogPSBsaW5lcy5sZW5ndGg7XG4gICAgbGluZXMucHVzaChwcmludENvbW1vbkxpbmUobGluZSwgaiA9PT0gMCB8fCBqID09PSBqTGFzdCwgb3B0aW9ucykpO1xuICAgIGFFbmQgKz0gMTtcbiAgICBiRW5kICs9IDE7XG4gIH07XG4gIGNvbnN0IHB1c2hEZWxldGVMaW5lID0gbGluZSA9PiB7XG4gICAgY29uc3QgaiA9IGxpbmVzLmxlbmd0aDtcbiAgICBsaW5lcy5wdXNoKHByaW50RGVsZXRlTGluZShsaW5lLCBqID09PSAwIHx8IGogPT09IGpMYXN0LCBvcHRpb25zKSk7XG4gICAgYUVuZCArPSAxO1xuICB9O1xuICBjb25zdCBwdXNoSW5zZXJ0TGluZSA9IGxpbmUgPT4ge1xuICAgIGNvbnN0IGogPSBsaW5lcy5sZW5ndGg7XG4gICAgbGluZXMucHVzaChwcmludEluc2VydExpbmUobGluZSwgaiA9PT0gMCB8fCBqID09PSBqTGFzdCwgb3B0aW9ucykpO1xuICAgIGJFbmQgKz0gMTtcbiAgfTtcblxuICAvLyBTZWNvbmQgcGFzczogcHVzaCBsaW5lcyB3aXRoIGRpZmYgZm9ybWF0dGluZyAoYW5kIHBhdGNoIG1hcmtzLCBpZiBuZWVkZWQpLlxuICBpID0gMDtcbiAgd2hpbGUgKGkgIT09IGlMZW5ndGgpIHtcbiAgICBsZXQgaVN0YXJ0ID0gaTtcbiAgICB3aGlsZSAoaSAhPT0gaUxlbmd0aCAmJiBkaWZmc1tpXVswXSA9PT0gX2NsZWFudXBTZW1hbnRpYy5ESUZGX0VRVUFMKSB7XG4gICAgICBpICs9IDE7XG4gICAgfVxuICAgIGlmIChpU3RhcnQgIT09IGkpIHtcbiAgICAgIGlmIChpU3RhcnQgPT09IDApIHtcbiAgICAgICAgLy8gYXQgYmVnaW5uaW5nXG4gICAgICAgIGlmIChpID4gbkNvbnRleHRMaW5lcykge1xuICAgICAgICAgIGlTdGFydCA9IGkgLSBuQ29udGV4dExpbmVzO1xuICAgICAgICAgIGFTdGFydCA9IGlTdGFydDtcbiAgICAgICAgICBiU3RhcnQgPSBpU3RhcnQ7XG4gICAgICAgICAgYUVuZCA9IGFTdGFydDtcbiAgICAgICAgICBiRW5kID0gYlN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGlDb21tb24gPSBpU3RhcnQ7IGlDb21tb24gIT09IGk7IGlDb21tb24gKz0gMSkge1xuICAgICAgICAgIHB1c2hDb21tb25MaW5lKGRpZmZzW2lDb21tb25dWzFdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpID09PSBpTGVuZ3RoKSB7XG4gICAgICAgIC8vIGF0IGVuZFxuICAgICAgICBjb25zdCBpRW5kID0gaSAtIGlTdGFydCA+IG5Db250ZXh0TGluZXMgPyBpU3RhcnQgKyBuQ29udGV4dExpbmVzIDogaTtcbiAgICAgICAgZm9yIChsZXQgaUNvbW1vbiA9IGlTdGFydDsgaUNvbW1vbiAhPT0gaUVuZDsgaUNvbW1vbiArPSAxKSB7XG4gICAgICAgICAgcHVzaENvbW1vbkxpbmUoZGlmZnNbaUNvbW1vbl1bMV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBiZXR3ZWVuIGNoYW5nZXNcbiAgICAgICAgY29uc3QgbkNvbW1vbiA9IGkgLSBpU3RhcnQ7XG4gICAgICAgIGlmIChuQ29tbW9uID4gbkNvbnRleHRMaW5lczIpIHtcbiAgICAgICAgICBjb25zdCBpRW5kID0gaVN0YXJ0ICsgbkNvbnRleHRMaW5lcztcbiAgICAgICAgICBmb3IgKGxldCBpQ29tbW9uID0gaVN0YXJ0OyBpQ29tbW9uICE9PSBpRW5kOyBpQ29tbW9uICs9IDEpIHtcbiAgICAgICAgICAgIHB1c2hDb21tb25MaW5lKGRpZmZzW2lDb21tb25dWzFdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGluZXNbalBhdGNoTWFya10gPSBjcmVhdGVQYXRjaE1hcmsoXG4gICAgICAgICAgICBhU3RhcnQsXG4gICAgICAgICAgICBhRW5kLFxuICAgICAgICAgICAgYlN0YXJ0LFxuICAgICAgICAgICAgYkVuZCxcbiAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICAgIGpQYXRjaE1hcmsgPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgbGluZXMucHVzaCgnJyk7IC8vIHBsYWNlaG9sZGVyIGxpbmUgZm9yIG5leHQgcGF0Y2ggbWFya1xuXG4gICAgICAgICAgY29uc3Qgbk9taXQgPSBuQ29tbW9uIC0gbkNvbnRleHRMaW5lczI7XG4gICAgICAgICAgYVN0YXJ0ID0gYUVuZCArIG5PbWl0O1xuICAgICAgICAgIGJTdGFydCA9IGJFbmQgKyBuT21pdDtcbiAgICAgICAgICBhRW5kID0gYVN0YXJ0O1xuICAgICAgICAgIGJFbmQgPSBiU3RhcnQ7XG4gICAgICAgICAgZm9yIChsZXQgaUNvbW1vbiA9IGkgLSBuQ29udGV4dExpbmVzOyBpQ29tbW9uICE9PSBpOyBpQ29tbW9uICs9IDEpIHtcbiAgICAgICAgICAgIHB1c2hDb21tb25MaW5lKGRpZmZzW2lDb21tb25dWzFdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgaUNvbW1vbiA9IGlTdGFydDsgaUNvbW1vbiAhPT0gaTsgaUNvbW1vbiArPSAxKSB7XG4gICAgICAgICAgICBwdXNoQ29tbW9uTGluZShkaWZmc1tpQ29tbW9uXVsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChpICE9PSBpTGVuZ3RoICYmIGRpZmZzW2ldWzBdID09PSBfY2xlYW51cFNlbWFudGljLkRJRkZfREVMRVRFKSB7XG4gICAgICBwdXNoRGVsZXRlTGluZShkaWZmc1tpXVsxXSk7XG4gICAgICBpICs9IDE7XG4gICAgfVxuICAgIHdoaWxlIChpICE9PSBpTGVuZ3RoICYmIGRpZmZzW2ldWzBdID09PSBfY2xlYW51cFNlbWFudGljLkRJRkZfSU5TRVJUKSB7XG4gICAgICBwdXNoSW5zZXJ0TGluZShkaWZmc1tpXVsxXSk7XG4gICAgICBpICs9IDE7XG4gICAgfVxuICB9XG4gIGlmIChoYXNQYXRjaCkge1xuICAgIGxpbmVzW2pQYXRjaE1hcmtdID0gY3JlYXRlUGF0Y2hNYXJrKGFTdGFydCwgYUVuZCwgYlN0YXJ0LCBiRW5kLCBvcHRpb25zKTtcbiAgfVxuICByZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG59O1xuXG4vLyBqZXN0IC0tZXhwYW5kXG4vL1xuLy8gR2l2ZW4gYXJyYXkgb2YgYWxpZ25lZCBzdHJpbmdzIHdpdGggaW52ZXJzZSBoaWdobGlnaHQgZm9ybWF0dGluZyxcbi8vIHJldHVybiBqb2luZWQgbGluZXMgd2l0aCBkaWZmIGZvcm1hdHRpbmcuXG5leHBvcnRzLmpvaW5BbGlnbmVkRGlmZnNOb0V4cGFuZCA9IGpvaW5BbGlnbmVkRGlmZnNOb0V4cGFuZDtcbmNvbnN0IGpvaW5BbGlnbmVkRGlmZnNFeHBhbmQgPSAoZGlmZnMsIG9wdGlvbnMpID0+XG4gIGRpZmZzXG4gICAgLm1hcCgoZGlmZiwgaSwgZGlmZnMpID0+IHtcbiAgICAgIGNvbnN0IGxpbmUgPSBkaWZmWzFdO1xuICAgICAgY29uc3QgaXNGaXJzdE9yTGFzdCA9IGkgPT09IDAgfHwgaSA9PT0gZGlmZnMubGVuZ3RoIC0gMTtcbiAgICAgIHN3aXRjaCAoZGlmZlswXSkge1xuICAgICAgICBjYXNlIF9jbGVhbnVwU2VtYW50aWMuRElGRl9ERUxFVEU6XG4gICAgICAgICAgcmV0dXJuIHByaW50RGVsZXRlTGluZShsaW5lLCBpc0ZpcnN0T3JMYXN0LCBvcHRpb25zKTtcbiAgICAgICAgY2FzZSBfY2xlYW51cFNlbWFudGljLkRJRkZfSU5TRVJUOlxuICAgICAgICAgIHJldHVybiBwcmludEluc2VydExpbmUobGluZSwgaXNGaXJzdE9yTGFzdCwgb3B0aW9ucyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHByaW50Q29tbW9uTGluZShsaW5lLCBpc0ZpcnN0T3JMYXN0LCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIC5qb2luKCdcXG4nKTtcbmV4cG9ydHMuam9pbkFsaWduZWREaWZmc0V4cGFu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