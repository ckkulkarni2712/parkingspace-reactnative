{"version":3,"names":["base64Decode","require","NativeModules","TypeMismatchError","Error","QuotaExceededError","warned","insecureRandomValues","array","console","warn","i","r","length","Math","random","getRandomBase64","byteLength","RNGetRandomValues","ExpoRandom","getRandomBase64String","global","ExpoModules","getRandomValues","Int8Array","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Uint8ClampedArray","__DEV__","nativeCallSyncHook","buffer","byteOffset","crypto"],"sources":["index.js"],"sourcesContent":["const base64Decode = require('fast-base64-decode')\nconst { NativeModules } = require('react-native')\n\nclass TypeMismatchError extends Error {}\nclass QuotaExceededError extends Error {}\n\nlet warned = false\nfunction insecureRandomValues (array) {\n  if (!warned) {\n    console.warn('Using an insecure random number generator, this should only happen when running in a debugger without support for crypto.getRandomValues')\n    warned = true\n  }\n\n  for (let i = 0, r; i < array.length; i++) {\n    if ((i & 0x03) === 0) r = Math.random() * 0x100000000\n    array[i] = (r >>> ((i & 0x03) << 3)) & 0xff\n  }\n\n  return array\n}\n\n/**\n * @param {number} byteLength\n * @returns {string}\n */\nfunction getRandomBase64 (byteLength) {\n  if (NativeModules.RNGetRandomValues) {\n    return NativeModules.RNGetRandomValues.getRandomBase64(byteLength)\n  } else if (NativeModules.ExpoRandom) {\n    // Expo SDK 41-44\n    return NativeModules.ExpoRandom.getRandomBase64String(byteLength)\n  } else if (global.ExpoModules) {\n    // Expo SDK 45+\n    return global.ExpoModules.ExpoRandom.getRandomBase64String(byteLength);\n  } else {\n    throw new Error('Native module not found')\n  }\n}\n\n/**\n * @param {Int8Array|Uint8Array|Int16Array|Uint16Array|Int32Array|Uint32Array|Uint8ClampedArray} array\n */\nfunction getRandomValues (array) {\n  if (!(array instanceof Int8Array || array instanceof Uint8Array || array instanceof Int16Array || array instanceof Uint16Array || array instanceof Int32Array || array instanceof Uint32Array || array instanceof Uint8ClampedArray)) {\n    throw new TypeMismatchError('Expected an integer array')\n  }\n\n  if (array.byteLength > 65536) {\n    throw new QuotaExceededError('Can only request a maximum of 65536 bytes')\n  }\n\n  // Calling getRandomBase64 in debug mode leads to the error\n  // \"Calling synchronous methods on native modules is not supported in Chrome\".\n  // So in that specific case we fall back to just using Math.random.\n  if (__DEV__) {\n    if (typeof global.nativeCallSyncHook === 'undefined') {\n      return insecureRandomValues(array)\n    }\n  }\n\n  base64Decode(getRandomBase64(array.byteLength), new Uint8Array(array.buffer, array.byteOffset, array.byteLength))\n\n  return array\n}\n\nif (typeof global.crypto !== 'object') {\n  global.crypto = {}\n}\n\nif (typeof global.crypto.getRandomValues !== 'function') {\n  global.crypto.getRandomValues = getRandomValues\n}\n"],"mappings":";;;;;;;;;AAAA,IAAMA,YAAY,GAAGC,OAAO,CAAC,oBAAoB,CAAC;AAClD,eAA0BA,OAAO,CAAC,cAAc,CAAC;EAAzCC,aAAa,YAAbA,aAAa;AAA4B,IAE3CC,iBAAiB;EAAA;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;AAAA,iCAASC,KAAK;AAAA,IAC/BC,kBAAkB;EAAA;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;AAAA,iCAASD,KAAK;AAEtC,IAAIE,MAAM,GAAG,KAAK;AAClB,SAASC,oBAAoB,CAAEC,KAAK,EAAE;EACpC,IAAI,CAACF,MAAM,EAAE;IACXG,OAAO,CAACC,IAAI,CAAC,0IAA0I,CAAC;IACxJJ,MAAM,GAAG,IAAI;EACf;EAEA,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEC,CAAC,EAAED,CAAC,GAAGH,KAAK,CAACK,MAAM,EAAEF,CAAC,EAAE,EAAE;IACxC,IAAI,CAACA,CAAC,GAAG,IAAI,MAAM,CAAC,EAAEC,CAAC,GAAGE,IAAI,CAACC,MAAM,EAAE,GAAG,WAAW;IACrDP,KAAK,CAACG,CAAC,CAAC,GAAIC,CAAC,MAAM,CAACD,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,GAAI,IAAI;EAC7C;EAEA,OAAOH,KAAK;AACd;AAMA,SAASQ,eAAe,CAAEC,UAAU,EAAE;EACpC,IAAIf,aAAa,CAACgB,iBAAiB,EAAE;IACnC,OAAOhB,aAAa,CAACgB,iBAAiB,CAACF,eAAe,CAACC,UAAU,CAAC;EACpE,CAAC,MAAM,IAAIf,aAAa,CAACiB,UAAU,EAAE;IAEnC,OAAOjB,aAAa,CAACiB,UAAU,CAACC,qBAAqB,CAACH,UAAU,CAAC;EACnE,CAAC,MAAM,IAAII,MAAM,CAACC,WAAW,EAAE;IAE7B,OAAOD,MAAM,CAACC,WAAW,CAACH,UAAU,CAACC,qBAAqB,CAACH,UAAU,CAAC;EACxE,CAAC,MAAM;IACL,MAAM,IAAIb,KAAK,CAAC,yBAAyB,CAAC;EAC5C;AACF;AAKA,SAASmB,eAAe,CAAEf,KAAK,EAAE;EAC/B,IAAI,EAAEA,KAAK,YAAYgB,SAAS,IAAIhB,KAAK,YAAYiB,UAAU,IAAIjB,KAAK,YAAYkB,UAAU,IAAIlB,KAAK,YAAYmB,WAAW,IAAInB,KAAK,YAAYoB,UAAU,IAAIpB,KAAK,YAAYqB,WAAW,IAAIrB,KAAK,YAAYsB,iBAAiB,CAAC,EAAE;IACpO,MAAM,IAAI3B,iBAAiB,CAAC,2BAA2B,CAAC;EAC1D;EAEA,IAAIK,KAAK,CAACS,UAAU,GAAG,KAAK,EAAE;IAC5B,MAAM,IAAIZ,kBAAkB,CAAC,2CAA2C,CAAC;EAC3E;EAKA,IAAI0B,OAAO,EAAE;IACX,IAAI,OAAOV,MAAM,CAACW,kBAAkB,KAAK,WAAW,EAAE;MACpD,OAAOzB,oBAAoB,CAACC,KAAK,CAAC;IACpC;EACF;EAEAR,YAAY,CAACgB,eAAe,CAACR,KAAK,CAACS,UAAU,CAAC,EAAE,IAAIQ,UAAU,CAACjB,KAAK,CAACyB,MAAM,EAAEzB,KAAK,CAAC0B,UAAU,EAAE1B,KAAK,CAACS,UAAU,CAAC,CAAC;EAEjH,OAAOT,KAAK;AACd;AAEA,IAAI,OAAOa,MAAM,CAACc,MAAM,KAAK,QAAQ,EAAE;EACrCd,MAAM,CAACc,MAAM,GAAG,CAAC,CAAC;AACpB;AAEA,IAAI,OAAOd,MAAM,CAACc,MAAM,CAACZ,eAAe,KAAK,UAAU,EAAE;EACvDF,MAAM,CAACc,MAAM,CAACZ,eAAe,GAAGA,eAAe;AACjD"}