{"version":3,"names":["getDisplaySafe","display","majorVersionIOS","parseInt","Platform","Version","IOS_DISPLAY","inline","spinner","Picker","value","locale","maximumDate","minimumDate","minuteInterval","timeZoneOffsetInMinutes","textColor","accentColor","themeVariant","onChange","mode","IOS_MODE","date","providedDisplay","default","disabled","other","sharedPropsValidation","_onChange","event","timestamp","nativeEvent","unifiedEvent","type","EVENT_TYPE_SET","undefined","Date","onDismiss","EVENT_TYPE_DISMISSED","getTime","dateToMilliseconds"],"sources":["datetimepicker.ios.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * This is a controlled component version of RNDateTimePicker\n *\n * @format\n * @flow strict-local\n */\nimport RNDateTimePicker from './picker';\nimport {dateToMilliseconds, sharedPropsValidation} from './utils';\nimport {\n  IOS_DISPLAY,\n  EVENT_TYPE_SET,\n  EVENT_TYPE_DISMISSED,\n  IOS_MODE,\n} from './constants';\nimport * as React from 'react';\nimport {Platform} from 'react-native';\n\nimport type {\n  DateTimePickerEvent,\n  NativeEventIOS,\n  IOSNativeProps,\n  IOSDisplay,\n} from './types';\n\nconst getDisplaySafe = (display: IOSDisplay): IOSDisplay => {\n  const majorVersionIOS = parseInt(Platform.Version, 10);\n  if (display === IOS_DISPLAY.inline && majorVersionIOS < 14) {\n    // inline is available since 14.0\n    return IOS_DISPLAY.spinner;\n  }\n  if (majorVersionIOS < 14) {\n    // NOTE this should compare against 13.4, not 14 according to https://developer.apple.com/documentation/uikit/uidatepickerstyle/uidatepickerstylecompact?changes=latest_minor&language=objc\n    // but UIDatePickerStyleCompact does not seem to work prior to 14\n    // only the spinner display (UIDatePickerStyleWheels) is thus available below 14\n    return IOS_DISPLAY.spinner;\n  }\n\n  return display;\n};\n\nexport default function Picker({\n  value,\n  locale,\n  maximumDate,\n  minimumDate,\n  minuteInterval,\n  timeZoneOffsetInMinutes,\n  textColor,\n  accentColor,\n  themeVariant,\n  onChange,\n  mode = IOS_MODE.date,\n  display: providedDisplay = IOS_DISPLAY.default,\n  disabled = false,\n  ...other\n}: IOSNativeProps): React.Node {\n  sharedPropsValidation({value});\n\n  const display = getDisplaySafe(providedDisplay);\n\n  const _onChange = (event: NativeEventIOS) => {\n    const timestamp = event.nativeEvent.timestamp;\n    const unifiedEvent: DateTimePickerEvent = {\n      ...event,\n      type: EVENT_TYPE_SET,\n    };\n\n    const date = timestamp !== undefined ? new Date(timestamp) : undefined;\n\n    onChange && onChange(unifiedEvent, date);\n  };\n\n  const onDismiss = () => {\n    // TODO introduce separate onDismissed event listener\n    onChange &&\n      onChange(\n        {\n          type: EVENT_TYPE_DISMISSED,\n          nativeEvent: {\n            timestamp: value.getTime(),\n          },\n        },\n        value,\n      );\n  };\n\n  return (\n    <RNDateTimePicker\n      {...other}\n      date={dateToMilliseconds(value)}\n      locale={locale !== null && locale !== '' ? locale : undefined}\n      maximumDate={dateToMilliseconds(maximumDate)}\n      minimumDate={dateToMilliseconds(minimumDate)}\n      mode={mode}\n      minuteInterval={minuteInterval}\n      timeZoneOffsetInMinutes={timeZoneOffsetInMinutes}\n      onChange={_onChange}\n      onPickerDismiss={onDismiss}\n      textColor={textColor}\n      accentColor={accentColor}\n      themeVariant={themeVariant}\n      onStartShouldSetResponder={() => true}\n      onResponderTerminationRequest={() => false}\n      displayIOS={display}\n      enabled={disabled !== true}\n    />\n  );\n}\n"],"mappings":";;;;;;AAWA;AACA;AACA;AAMA;AACA;AAAsC;AAAA;AAAA;AAAA;AAStC,IAAMA,cAAc,GAAG,SAAjBA,cAAc,CAAIC,OAAmB,EAAiB;EAC1D,IAAMC,eAAe,GAAGC,QAAQ,CAACC,qBAAQ,CAACC,OAAO,EAAE,EAAE,CAAC;EACtD,IAAIJ,OAAO,KAAKK,sBAAW,CAACC,MAAM,IAAIL,eAAe,GAAG,EAAE,EAAE;IAE1D,OAAOI,sBAAW,CAACE,OAAO;EAC5B;EACA,IAAIN,eAAe,GAAG,EAAE,EAAE;IAIxB,OAAOI,sBAAW,CAACE,OAAO;EAC5B;EAEA,OAAOP,OAAO;AAChB,CAAC;AAEc,SAASQ,MAAM,OAeC;EAAA,IAd7BC,KAAK,QAALA,KAAK;IACLC,MAAM,QAANA,MAAM;IACNC,WAAW,QAAXA,WAAW;IACXC,WAAW,QAAXA,WAAW;IACXC,cAAc,QAAdA,cAAc;IACdC,uBAAuB,QAAvBA,uBAAuB;IACvBC,SAAS,QAATA,SAAS;IACTC,WAAW,QAAXA,WAAW;IACXC,YAAY,QAAZA,YAAY;IACZC,QAAQ,QAARA,QAAQ;IAAA,iBACRC,IAAI;IAAJA,IAAI,0BAAGC,mBAAQ,CAACC,IAAI;IAAA,oBACpBrB,OAAO;IAAEsB,eAAe,6BAAGjB,sBAAW,CAACkB,OAAO;IAAA,qBAC9CC,QAAQ;IAARA,QAAQ,8BAAG,KAAK;IACbC,KAAK;EAER,IAAAC,4BAAqB,EAAC;IAACjB,KAAK,EAALA;EAAK,CAAC,CAAC;EAE9B,IAAMT,OAAO,GAAGD,cAAc,CAACuB,eAAe,CAAC;EAE/C,IAAMK,SAAS,GAAG,SAAZA,SAAS,CAAIC,KAAqB,EAAK;IAC3C,IAAMC,SAAS,GAAGD,KAAK,CAACE,WAAW,CAACD,SAAS;IAC7C,IAAME,YAAiC,qBAClCH,KAAK;MACRI,IAAI,EAAEC;IAAc,EACrB;IAED,IAAMZ,IAAI,GAAGQ,SAAS,KAAKK,SAAS,GAAG,IAAIC,IAAI,CAACN,SAAS,CAAC,GAAGK,SAAS;IAEtEhB,QAAQ,IAAIA,QAAQ,CAACa,YAAY,EAAEV,IAAI,CAAC;EAC1C,CAAC;EAED,IAAMe,SAAS,GAAG,SAAZA,SAAS,GAAS;IAEtBlB,QAAQ,IACNA,QAAQ,CACN;MACEc,IAAI,EAAEK,+BAAoB;MAC1BP,WAAW,EAAE;QACXD,SAAS,EAAEpB,KAAK,CAAC6B,OAAO;MAC1B;IACF,CAAC,EACD7B,KAAK,CACN;EACL,CAAC;EAED,OACE,qBAAC,eAAgB,oBACXgB,KAAK;IACT,IAAI,EAAE,IAAAc,yBAAkB,EAAC9B,KAAK,CAAE;IAChC,MAAM,EAAEC,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,EAAE,GAAGA,MAAM,GAAGwB,SAAU;IAC9D,WAAW,EAAE,IAAAK,yBAAkB,EAAC5B,WAAW,CAAE;IAC7C,WAAW,EAAE,IAAA4B,yBAAkB,EAAC3B,WAAW,CAAE;IAC7C,IAAI,EAAEO,IAAK;IACX,cAAc,EAAEN,cAAe;IAC/B,uBAAuB,EAAEC,uBAAwB;IACjD,QAAQ,EAAEa,SAAU;IACpB,eAAe,EAAES,SAAU;IAC3B,SAAS,EAAErB,SAAU;IACrB,WAAW,EAAEC,WAAY;IACzB,YAAY,EAAEC,YAAa;IAC3B,yBAAyB,EAAE;MAAA,OAAM,IAAI;IAAA,CAAC;IACtC,6BAA6B,EAAE;MAAA,OAAM,KAAK;IAAA,CAAC;IAC3C,UAAU,EAAEjB,OAAQ;IACpB,OAAO,EAAEwB,QAAQ,KAAK;EAAK,GAC3B;AAEN"}