{"version":3,"names":["mock","useNavigation","jest","fn","mockReturnValue","navigate","feature","loadFeature","uuid","uuidv4","store","defineFeature","test","given","when","then","and","navigation","configureStore","reducer","parkingSpaces","parkingSlice","screen","render","expect","toBeDefined","addButton","getByTestId","fireEvent","press","dispatch","addToParkingSpace","toBeCalled","removeButton","removeParkingSpace","screens"],"sources":["parkingspace.steps.tsx"],"sourcesContent":["import React from 'react';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport 'react-native-get-random-values';\r\nimport {fireEvent, render, waitFor} from '@testing-library/react-native';\r\nimport '@testing-library/jest-native/extend-expect';\r\nimport {loadFeature, defineFeature} from 'jest-cucumber';\r\nimport {useNavigation} from '@react-navigation/native';\r\nimport {NativeStackNavigationProp} from '@react-navigation/native-stack';\r\nconst feature = loadFeature('./features/parkingspace.feature');\r\nimport {Provider} from 'react-redux';\r\nimport {configureStore} from '@reduxjs/toolkit';\r\nimport parkingSlice, {\r\n  addToParkingSpace,\r\n  initializeParkingLot,\r\n  removeParkingSpace,\r\n} from '../../App/Reducer/parkingSlice';\r\nimport ParkingSpace from '../../App/ParkingSpace';\r\nconst uuid = uuidv4();\r\njest.mock('@react-navigation/native', () => {\r\n  return {\r\n    useNavigation: jest.fn().mockReturnValue({\r\n      navigate: jest.fn(),\r\n    }),\r\n  };\r\n});\r\nlet store: any;\r\ndefineFeature(feature, test => {\r\n  test('Add a new parking space', ({given, when, then, and}) => {\r\n    const navigation = useNavigation<NativeStackNavigationProp<any>>();\r\n    store = configureStore({\r\n      reducer: {\r\n        parkingSpaces: parkingSlice,\r\n      },\r\n    });\r\n    const screen = render(\r\n      <Provider store={store}>\r\n        <ParkingSpace />\r\n      </Provider>,\r\n    );\r\n    given('that there is a Parking Space Component', () => {\r\n      expect(screen).toBeDefined();\r\n    });\r\n    when('I click on the \"Add Space\" button', () => {\r\n      const addButton = screen.getByTestId('add-parking-space-button');\r\n      fireEvent.press(addButton);\r\n      expect(store.dispatch(addToParkingSpace)).toBeCalled();\r\n    });\r\n  });\r\n  test('Remove an existing parking space', ({given, when, then, and}) => {\r\n    const navigation = useNavigation<NativeStackNavigationProp<any>>();\r\n    store = configureStore({\r\n      reducer: {\r\n        parkingSpaces: parkingSlice,\r\n      },\r\n    });\r\n    const screen = render(\r\n      <Provider store={store}>\r\n        <ParkingSpace />\r\n      </Provider>,\r\n    );\r\n    given('that there is a Parking Space Component', () => {\r\n      expect(screen).toBeDefined();\r\n    });\r\n    when('I click on the \"Remove Space\" button', () => {\r\n      const removeButton = screen.getByTestId('remove-parking-space-button');\r\n      fireEvent.press(removeButton);\r\n    });\r\n    then(\r\n      'a parking space should be removed from the list of available spaces',\r\n      () => {\r\n        expect(store.dispatch(removeParkingSpace)).toBeCalled();\r\n      },\r\n    );\r\n  });\r\n  test('Register a parking lot', ({given, when, then, and}) => {\r\n    const navigation = useNavigation<NativeStackNavigationProp<any>>();\r\n    store = configureStore({\r\n      reducer: {\r\n        parkingSpaces: parkingSlice,\r\n      },\r\n    });\r\n    const screen = render(\r\n      <Provider store={store}>\r\n        <ParkingSpace />\r\n      </Provider>,\r\n    );\r\n    given('that there is a Parking Space Component', () => {\r\n      expect(screen).toBeDefined();\r\n    });\r\n    and('I have selected a parking space', () => {\r\n      const addButton = screen.getByTestId('add-parking-space-button');\r\n      fireEvent.press(addButton);\r\n      store.dispatch(addToParkingSpace);\r\n      const screens = screen.getByTestId('parking-space-1');\r\n    });\r\n  });\r\n});\r\n"],"mappings":"AAkBA,cAAKA,IAAI,CAAC,0BAA0B,EAAE,YAAM;EAC1C,OAAO;IACLC,aAAa,EAAEC,IAAI,CAACC,EAAE,EAAE,CAACC,eAAe,CAAC;MACvCC,QAAQ,EAAEH,IAAI,CAACC,EAAE;IACnB,CAAC;EACH,CAAC;AACH,CAAC,CAAC;AAAC;AAxBH;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAKA;AAAkD;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AARlD,IAAMG,OAAO,GAAG,IAAAC,yBAAW,EAAC,iCAAiC,CAAC;AAS9D,IAAMC,IAAI,GAAG,IAAAC,QAAM,GAAE;AAQrB,IAAIC,KAAU;AACd,IAAAC,2BAAa,EAACL,OAAO,EAAE,UAAAM,IAAI,EAAI;EAC7BA,IAAI,CAAC,yBAAyB,EAAE,gBAA8B;IAAA,IAA5BC,KAAK,QAALA,KAAK;MAAEC,IAAI,QAAJA,IAAI;MAAEC,IAAI,QAAJA,IAAI;MAAEC,GAAG,QAAHA,GAAG;IACtD,IAAMC,UAAU,GAAG,IAAAhB,qBAAa,GAAkC;IAClES,KAAK,GAAG,IAAAQ,uBAAc,EAAC;MACrBC,OAAO,EAAE;QACPC,aAAa,EAAEC;MACjB;IACF,CAAC,CAAC;IACF,IAAMC,MAAM,GAAG,IAAAC,mBAAM,EACnB,qBAAC,oBAAQ;MAAC,KAAK,EAAEb,KAAM;MAAA,UACrB,qBAAC,qBAAY;IAAG,EACP,CACZ;IACDG,KAAK,CAAC,yCAAyC,EAAE,YAAM;MACrDW,MAAM,CAACF,MAAM,CAAC,CAACG,WAAW,EAAE;IAC9B,CAAC,CAAC;IACFX,IAAI,CAAC,mCAAmC,EAAE,YAAM;MAC9C,IAAMY,SAAS,GAAGJ,MAAM,CAACK,WAAW,CAAC,0BAA0B,CAAC;MAChEC,sBAAS,CAACC,KAAK,CAACH,SAAS,CAAC;MAC1BF,MAAM,CAACd,KAAK,CAACoB,QAAQ,CAACC,+BAAiB,CAAC,CAAC,CAACC,UAAU,EAAE;IACxD,CAAC,CAAC;EACJ,CAAC,CAAC;EACFpB,IAAI,CAAC,kCAAkC,EAAE,iBAA8B;IAAA,IAA5BC,KAAK,SAALA,KAAK;MAAEC,IAAI,SAAJA,IAAI;MAAEC,IAAI,SAAJA,IAAI;MAAEC,GAAG,SAAHA,GAAG;IAC/D,IAAMC,UAAU,GAAG,IAAAhB,qBAAa,GAAkC;IAClES,KAAK,GAAG,IAAAQ,uBAAc,EAAC;MACrBC,OAAO,EAAE;QACPC,aAAa,EAAEC;MACjB;IACF,CAAC,CAAC;IACF,IAAMC,MAAM,GAAG,IAAAC,mBAAM,EACnB,qBAAC,oBAAQ;MAAC,KAAK,EAAEb,KAAM;MAAA,UACrB,qBAAC,qBAAY;IAAG,EACP,CACZ;IACDG,KAAK,CAAC,yCAAyC,EAAE,YAAM;MACrDW,MAAM,CAACF,MAAM,CAAC,CAACG,WAAW,EAAE;IAC9B,CAAC,CAAC;IACFX,IAAI,CAAC,sCAAsC,EAAE,YAAM;MACjD,IAAMmB,YAAY,GAAGX,MAAM,CAACK,WAAW,CAAC,6BAA6B,CAAC;MACtEC,sBAAS,CAACC,KAAK,CAACI,YAAY,CAAC;IAC/B,CAAC,CAAC;IACFlB,IAAI,CACF,qEAAqE,EACrE,YAAM;MACJS,MAAM,CAACd,KAAK,CAACoB,QAAQ,CAACI,gCAAkB,CAAC,CAAC,CAACF,UAAU,EAAE;IACzD,CAAC,CACF;EACH,CAAC,CAAC;EACFpB,IAAI,CAAC,wBAAwB,EAAE,iBAA8B;IAAA,IAA5BC,KAAK,SAALA,KAAK;MAAEC,IAAI,SAAJA,IAAI;MAAEC,IAAI,SAAJA,IAAI;MAAEC,GAAG,SAAHA,GAAG;IACrD,IAAMC,UAAU,GAAG,IAAAhB,qBAAa,GAAkC;IAClES,KAAK,GAAG,IAAAQ,uBAAc,EAAC;MACrBC,OAAO,EAAE;QACPC,aAAa,EAAEC;MACjB;IACF,CAAC,CAAC;IACF,IAAMC,MAAM,GAAG,IAAAC,mBAAM,EACnB,qBAAC,oBAAQ;MAAC,KAAK,EAAEb,KAAM;MAAA,UACrB,qBAAC,qBAAY;IAAG,EACP,CACZ;IACDG,KAAK,CAAC,yCAAyC,EAAE,YAAM;MACrDW,MAAM,CAACF,MAAM,CAAC,CAACG,WAAW,EAAE;IAC9B,CAAC,CAAC;IACFT,GAAG,CAAC,iCAAiC,EAAE,YAAM;MAC3C,IAAMU,SAAS,GAAGJ,MAAM,CAACK,WAAW,CAAC,0BAA0B,CAAC;MAChEC,sBAAS,CAACC,KAAK,CAACH,SAAS,CAAC;MAC1BhB,KAAK,CAACoB,QAAQ,CAACC,+BAAiB,CAAC;MACjC,IAAMI,OAAO,GAAGb,MAAM,CAACK,WAAW,CAAC,iBAAiB,CAAC;IACvD,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"}