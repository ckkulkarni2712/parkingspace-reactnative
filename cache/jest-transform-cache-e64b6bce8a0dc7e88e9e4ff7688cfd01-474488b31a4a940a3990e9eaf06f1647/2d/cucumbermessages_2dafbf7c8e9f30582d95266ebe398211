624f5aa76d02b87e0610ff1f9c39f81e
"use strict";

var $protobuf = require("protobufjs/minimal");
var $Reader = $protobuf.Reader,
  $Writer = $protobuf.Writer,
  $util = $protobuf.util;
var $root = $protobuf.roots["default"] || ($protobuf.roots["default"] = {});
$root.io = function () {
  var io = {};
  io.cucumber = function () {
    var cucumber = {};
    cucumber.messages = function () {
      var messages = {};
      messages.Timestamp = function () {
        function Timestamp(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        Timestamp.prototype.seconds = $util.Long ? $util.Long.fromBits(0, 0, false) : 0;
        Timestamp.prototype.nanos = 0;
        Timestamp.create = function create(properties) {
          return new Timestamp(properties);
        };
        Timestamp.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.seconds != null && message.hasOwnProperty("seconds")) writer.uint32(8).int64(message.seconds);
          if (message.nanos != null && message.hasOwnProperty("nanos")) writer.uint32(16).int32(message.nanos);
          return writer;
        };
        Timestamp.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        Timestamp.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.Timestamp();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.seconds = reader.int64();
                break;
              case 2:
                message.nanos = reader.int32();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        Timestamp.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        Timestamp.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.seconds != null && message.hasOwnProperty("seconds")) if (!$util.isInteger(message.seconds) && !(message.seconds && $util.isInteger(message.seconds.low) && $util.isInteger(message.seconds.high))) return "seconds: integer|Long expected";
          if (message.nanos != null && message.hasOwnProperty("nanos")) if (!$util.isInteger(message.nanos)) return "nanos: integer expected";
          return null;
        };
        Timestamp.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.Timestamp) return object;
          var message = new $root.io.cucumber.messages.Timestamp();
          if (object.seconds != null) if ($util.Long) (message.seconds = $util.Long.fromValue(object.seconds)).unsigned = false;else if (typeof object.seconds === "string") message.seconds = parseInt(object.seconds, 10);else if (typeof object.seconds === "number") message.seconds = object.seconds;else if (typeof object.seconds === "object") message.seconds = new $util.LongBits(object.seconds.low >>> 0, object.seconds.high >>> 0).toNumber();
          if (object.nanos != null) message.nanos = object.nanos | 0;
          return message;
        };
        Timestamp.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            if ($util.Long) {
              var long = new $util.Long(0, 0, false);
              object.seconds = options.longs === String ? long.toString() : options.longs === Number ? long.toNumber() : long;
            } else object.seconds = options.longs === String ? "0" : 0;
            object.nanos = 0;
          }
          if (message.seconds != null && message.hasOwnProperty("seconds")) if (typeof message.seconds === "number") object.seconds = options.longs === String ? String(message.seconds) : message.seconds;else object.seconds = options.longs === String ? $util.Long.prototype.toString.call(message.seconds) : options.longs === Number ? new $util.LongBits(message.seconds.low >>> 0, message.seconds.high >>> 0).toNumber() : message.seconds;
          if (message.nanos != null && message.hasOwnProperty("nanos")) object.nanos = message.nanos;
          return object;
        };
        Timestamp.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return Timestamp;
      }();
      messages.Duration = function () {
        function Duration(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        Duration.prototype.seconds = $util.Long ? $util.Long.fromBits(0, 0, false) : 0;
        Duration.prototype.nanos = 0;
        Duration.create = function create(properties) {
          return new Duration(properties);
        };
        Duration.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.seconds != null && message.hasOwnProperty("seconds")) writer.uint32(8).int64(message.seconds);
          if (message.nanos != null && message.hasOwnProperty("nanos")) writer.uint32(16).int32(message.nanos);
          return writer;
        };
        Duration.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        Duration.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.Duration();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.seconds = reader.int64();
                break;
              case 2:
                message.nanos = reader.int32();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        Duration.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        Duration.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.seconds != null && message.hasOwnProperty("seconds")) if (!$util.isInteger(message.seconds) && !(message.seconds && $util.isInteger(message.seconds.low) && $util.isInteger(message.seconds.high))) return "seconds: integer|Long expected";
          if (message.nanos != null && message.hasOwnProperty("nanos")) if (!$util.isInteger(message.nanos)) return "nanos: integer expected";
          return null;
        };
        Duration.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.Duration) return object;
          var message = new $root.io.cucumber.messages.Duration();
          if (object.seconds != null) if ($util.Long) (message.seconds = $util.Long.fromValue(object.seconds)).unsigned = false;else if (typeof object.seconds === "string") message.seconds = parseInt(object.seconds, 10);else if (typeof object.seconds === "number") message.seconds = object.seconds;else if (typeof object.seconds === "object") message.seconds = new $util.LongBits(object.seconds.low >>> 0, object.seconds.high >>> 0).toNumber();
          if (object.nanos != null) message.nanos = object.nanos | 0;
          return message;
        };
        Duration.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            if ($util.Long) {
              var long = new $util.Long(0, 0, false);
              object.seconds = options.longs === String ? long.toString() : options.longs === Number ? long.toNumber() : long;
            } else object.seconds = options.longs === String ? "0" : 0;
            object.nanos = 0;
          }
          if (message.seconds != null && message.hasOwnProperty("seconds")) if (typeof message.seconds === "number") object.seconds = options.longs === String ? String(message.seconds) : message.seconds;else object.seconds = options.longs === String ? $util.Long.prototype.toString.call(message.seconds) : options.longs === Number ? new $util.LongBits(message.seconds.low >>> 0, message.seconds.high >>> 0).toNumber() : message.seconds;
          if (message.nanos != null && message.hasOwnProperty("nanos")) object.nanos = message.nanos;
          return object;
        };
        Duration.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return Duration;
      }();
      messages.Envelope = function () {
        function Envelope(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        Envelope.prototype.source = null;
        Envelope.prototype.gherkinDocument = null;
        Envelope.prototype.pickle = null;
        Envelope.prototype.attachment = null;
        Envelope.prototype.testCaseStarted = null;
        Envelope.prototype.testStepStarted = null;
        Envelope.prototype.testStepFinished = null;
        Envelope.prototype.testCaseFinished = null;
        Envelope.prototype.pickleAccepted = null;
        Envelope.prototype.pickleRejected = null;
        Envelope.prototype.testCasePrepared = null;
        Envelope.prototype.testRunStarted = null;
        Envelope.prototype.testRunFinished = null;
        Envelope.prototype.commandStart = null;
        Envelope.prototype.commandActionComplete = null;
        Envelope.prototype.commandRunBeforeTestRunHooks = null;
        Envelope.prototype.commandInitializeTestCase = null;
        Envelope.prototype.commandRunBeforeTestCaseHook = null;
        Envelope.prototype.commandRunTestStep = null;
        Envelope.prototype.commandRunAfterTestCaseHook = null;
        Envelope.prototype.commandRunAfterTestRunHooks = null;
        Envelope.prototype.commandGenerateSnippet = null;
        Envelope.prototype.commandError = "";
        Envelope.prototype.testCase = null;
        Envelope.prototype.stepDefinition = null;
        Envelope.prototype.hook = null;
        var $oneOfFields;
        Object.defineProperty(Envelope.prototype, "message", {
          get: $util.oneOfGetter($oneOfFields = ["source", "gherkinDocument", "pickle", "attachment", "testCaseStarted", "testStepStarted", "testStepFinished", "testCaseFinished", "pickleAccepted", "pickleRejected", "testCasePrepared", "testRunStarted", "testRunFinished", "commandStart", "commandActionComplete", "commandRunBeforeTestRunHooks", "commandInitializeTestCase", "commandRunBeforeTestCaseHook", "commandRunTestStep", "commandRunAfterTestCaseHook", "commandRunAfterTestRunHooks", "commandGenerateSnippet", "commandError", "testCase", "stepDefinition", "hook"]),
          set: $util.oneOfSetter($oneOfFields)
        });
        Envelope.create = function create(properties) {
          return new Envelope(properties);
        };
        Envelope.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.source != null && message.hasOwnProperty("source")) $root.io.cucumber.messages.Source.encode(message.source, writer.uint32(10).fork()).ldelim();
          if (message.gherkinDocument != null && message.hasOwnProperty("gherkinDocument")) $root.io.cucumber.messages.GherkinDocument.encode(message.gherkinDocument, writer.uint32(18).fork()).ldelim();
          if (message.pickle != null && message.hasOwnProperty("pickle")) $root.io.cucumber.messages.Pickle.encode(message.pickle, writer.uint32(26).fork()).ldelim();
          if (message.attachment != null && message.hasOwnProperty("attachment")) $root.io.cucumber.messages.Attachment.encode(message.attachment, writer.uint32(34).fork()).ldelim();
          if (message.testCaseStarted != null && message.hasOwnProperty("testCaseStarted")) $root.io.cucumber.messages.TestCaseStarted.encode(message.testCaseStarted, writer.uint32(42).fork()).ldelim();
          if (message.testStepStarted != null && message.hasOwnProperty("testStepStarted")) $root.io.cucumber.messages.TestStepStarted.encode(message.testStepStarted, writer.uint32(50).fork()).ldelim();
          if (message.testStepFinished != null && message.hasOwnProperty("testStepFinished")) $root.io.cucumber.messages.TestStepFinished.encode(message.testStepFinished, writer.uint32(58).fork()).ldelim();
          if (message.testCaseFinished != null && message.hasOwnProperty("testCaseFinished")) $root.io.cucumber.messages.TestCaseFinished.encode(message.testCaseFinished, writer.uint32(66).fork()).ldelim();
          if (message.pickleAccepted != null && message.hasOwnProperty("pickleAccepted")) $root.io.cucumber.messages.PickleAccepted.encode(message.pickleAccepted, writer.uint32(74).fork()).ldelim();
          if (message.pickleRejected != null && message.hasOwnProperty("pickleRejected")) $root.io.cucumber.messages.PickleRejected.encode(message.pickleRejected, writer.uint32(82).fork()).ldelim();
          if (message.testCasePrepared != null && message.hasOwnProperty("testCasePrepared")) $root.io.cucumber.messages.TestCasePrepared.encode(message.testCasePrepared, writer.uint32(90).fork()).ldelim();
          if (message.testRunStarted != null && message.hasOwnProperty("testRunStarted")) $root.io.cucumber.messages.TestRunStarted.encode(message.testRunStarted, writer.uint32(98).fork()).ldelim();
          if (message.testRunFinished != null && message.hasOwnProperty("testRunFinished")) $root.io.cucumber.messages.TestRunFinished.encode(message.testRunFinished, writer.uint32(106).fork()).ldelim();
          if (message.commandStart != null && message.hasOwnProperty("commandStart")) $root.io.cucumber.messages.CommandStart.encode(message.commandStart, writer.uint32(114).fork()).ldelim();
          if (message.commandActionComplete != null && message.hasOwnProperty("commandActionComplete")) $root.io.cucumber.messages.CommandActionComplete.encode(message.commandActionComplete, writer.uint32(122).fork()).ldelim();
          if (message.commandRunBeforeTestRunHooks != null && message.hasOwnProperty("commandRunBeforeTestRunHooks")) $root.io.cucumber.messages.CommandRunBeforeTestRunHooks.encode(message.commandRunBeforeTestRunHooks, writer.uint32(130).fork()).ldelim();
          if (message.commandInitializeTestCase != null && message.hasOwnProperty("commandInitializeTestCase")) $root.io.cucumber.messages.CommandInitializeTestCase.encode(message.commandInitializeTestCase, writer.uint32(138).fork()).ldelim();
          if (message.commandRunBeforeTestCaseHook != null && message.hasOwnProperty("commandRunBeforeTestCaseHook")) $root.io.cucumber.messages.CommandRunBeforeTestCaseHook.encode(message.commandRunBeforeTestCaseHook, writer.uint32(146).fork()).ldelim();
          if (message.commandRunTestStep != null && message.hasOwnProperty("commandRunTestStep")) $root.io.cucumber.messages.CommandRunTestStep.encode(message.commandRunTestStep, writer.uint32(154).fork()).ldelim();
          if (message.commandRunAfterTestCaseHook != null && message.hasOwnProperty("commandRunAfterTestCaseHook")) $root.io.cucumber.messages.CommandRunAfterTestCaseHook.encode(message.commandRunAfterTestCaseHook, writer.uint32(162).fork()).ldelim();
          if (message.commandRunAfterTestRunHooks != null && message.hasOwnProperty("commandRunAfterTestRunHooks")) $root.io.cucumber.messages.CommandRunAfterTestRunHooks.encode(message.commandRunAfterTestRunHooks, writer.uint32(170).fork()).ldelim();
          if (message.commandGenerateSnippet != null && message.hasOwnProperty("commandGenerateSnippet")) $root.io.cucumber.messages.CommandGenerateSnippet.encode(message.commandGenerateSnippet, writer.uint32(178).fork()).ldelim();
          if (message.commandError != null && message.hasOwnProperty("commandError")) writer.uint32(186).string(message.commandError);
          if (message.testCase != null && message.hasOwnProperty("testCase")) $root.io.cucumber.messages.TestCase.encode(message.testCase, writer.uint32(194).fork()).ldelim();
          if (message.stepDefinition != null && message.hasOwnProperty("stepDefinition")) $root.io.cucumber.messages.StepDefinition.encode(message.stepDefinition, writer.uint32(202).fork()).ldelim();
          if (message.hook != null && message.hasOwnProperty("hook")) $root.io.cucumber.messages.Hook.encode(message.hook, writer.uint32(210).fork()).ldelim();
          return writer;
        };
        Envelope.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        Envelope.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.Envelope();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.source = $root.io.cucumber.messages.Source.decode(reader, reader.uint32());
                break;
              case 2:
                message.gherkinDocument = $root.io.cucumber.messages.GherkinDocument.decode(reader, reader.uint32());
                break;
              case 3:
                message.pickle = $root.io.cucumber.messages.Pickle.decode(reader, reader.uint32());
                break;
              case 4:
                message.attachment = $root.io.cucumber.messages.Attachment.decode(reader, reader.uint32());
                break;
              case 5:
                message.testCaseStarted = $root.io.cucumber.messages.TestCaseStarted.decode(reader, reader.uint32());
                break;
              case 6:
                message.testStepStarted = $root.io.cucumber.messages.TestStepStarted.decode(reader, reader.uint32());
                break;
              case 7:
                message.testStepFinished = $root.io.cucumber.messages.TestStepFinished.decode(reader, reader.uint32());
                break;
              case 8:
                message.testCaseFinished = $root.io.cucumber.messages.TestCaseFinished.decode(reader, reader.uint32());
                break;
              case 9:
                message.pickleAccepted = $root.io.cucumber.messages.PickleAccepted.decode(reader, reader.uint32());
                break;
              case 10:
                message.pickleRejected = $root.io.cucumber.messages.PickleRejected.decode(reader, reader.uint32());
                break;
              case 11:
                message.testCasePrepared = $root.io.cucumber.messages.TestCasePrepared.decode(reader, reader.uint32());
                break;
              case 12:
                message.testRunStarted = $root.io.cucumber.messages.TestRunStarted.decode(reader, reader.uint32());
                break;
              case 13:
                message.testRunFinished = $root.io.cucumber.messages.TestRunFinished.decode(reader, reader.uint32());
                break;
              case 14:
                message.commandStart = $root.io.cucumber.messages.CommandStart.decode(reader, reader.uint32());
                break;
              case 15:
                message.commandActionComplete = $root.io.cucumber.messages.CommandActionComplete.decode(reader, reader.uint32());
                break;
              case 16:
                message.commandRunBeforeTestRunHooks = $root.io.cucumber.messages.CommandRunBeforeTestRunHooks.decode(reader, reader.uint32());
                break;
              case 17:
                message.commandInitializeTestCase = $root.io.cucumber.messages.CommandInitializeTestCase.decode(reader, reader.uint32());
                break;
              case 18:
                message.commandRunBeforeTestCaseHook = $root.io.cucumber.messages.CommandRunBeforeTestCaseHook.decode(reader, reader.uint32());
                break;
              case 19:
                message.commandRunTestStep = $root.io.cucumber.messages.CommandRunTestStep.decode(reader, reader.uint32());
                break;
              case 20:
                message.commandRunAfterTestCaseHook = $root.io.cucumber.messages.CommandRunAfterTestCaseHook.decode(reader, reader.uint32());
                break;
              case 21:
                message.commandRunAfterTestRunHooks = $root.io.cucumber.messages.CommandRunAfterTestRunHooks.decode(reader, reader.uint32());
                break;
              case 22:
                message.commandGenerateSnippet = $root.io.cucumber.messages.CommandGenerateSnippet.decode(reader, reader.uint32());
                break;
              case 23:
                message.commandError = reader.string();
                break;
              case 24:
                message.testCase = $root.io.cucumber.messages.TestCase.decode(reader, reader.uint32());
                break;
              case 25:
                message.stepDefinition = $root.io.cucumber.messages.StepDefinition.decode(reader, reader.uint32());
                break;
              case 26:
                message.hook = $root.io.cucumber.messages.Hook.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        Envelope.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        Envelope.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          var properties = {};
          if (message.source != null && message.hasOwnProperty("source")) {
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.Source.verify(message.source);
              if (error) return "source." + error;
            }
          }
          if (message.gherkinDocument != null && message.hasOwnProperty("gherkinDocument")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.GherkinDocument.verify(message.gherkinDocument);
              if (error) return "gherkinDocument." + error;
            }
          }
          if (message.pickle != null && message.hasOwnProperty("pickle")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.Pickle.verify(message.pickle);
              if (error) return "pickle." + error;
            }
          }
          if (message.attachment != null && message.hasOwnProperty("attachment")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.Attachment.verify(message.attachment);
              if (error) return "attachment." + error;
            }
          }
          if (message.testCaseStarted != null && message.hasOwnProperty("testCaseStarted")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.TestCaseStarted.verify(message.testCaseStarted);
              if (error) return "testCaseStarted." + error;
            }
          }
          if (message.testStepStarted != null && message.hasOwnProperty("testStepStarted")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.TestStepStarted.verify(message.testStepStarted);
              if (error) return "testStepStarted." + error;
            }
          }
          if (message.testStepFinished != null && message.hasOwnProperty("testStepFinished")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.TestStepFinished.verify(message.testStepFinished);
              if (error) return "testStepFinished." + error;
            }
          }
          if (message.testCaseFinished != null && message.hasOwnProperty("testCaseFinished")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.TestCaseFinished.verify(message.testCaseFinished);
              if (error) return "testCaseFinished." + error;
            }
          }
          if (message.pickleAccepted != null && message.hasOwnProperty("pickleAccepted")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.PickleAccepted.verify(message.pickleAccepted);
              if (error) return "pickleAccepted." + error;
            }
          }
          if (message.pickleRejected != null && message.hasOwnProperty("pickleRejected")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.PickleRejected.verify(message.pickleRejected);
              if (error) return "pickleRejected." + error;
            }
          }
          if (message.testCasePrepared != null && message.hasOwnProperty("testCasePrepared")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.TestCasePrepared.verify(message.testCasePrepared);
              if (error) return "testCasePrepared." + error;
            }
          }
          if (message.testRunStarted != null && message.hasOwnProperty("testRunStarted")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.TestRunStarted.verify(message.testRunStarted);
              if (error) return "testRunStarted." + error;
            }
          }
          if (message.testRunFinished != null && message.hasOwnProperty("testRunFinished")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.TestRunFinished.verify(message.testRunFinished);
              if (error) return "testRunFinished." + error;
            }
          }
          if (message.commandStart != null && message.hasOwnProperty("commandStart")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.CommandStart.verify(message.commandStart);
              if (error) return "commandStart." + error;
            }
          }
          if (message.commandActionComplete != null && message.hasOwnProperty("commandActionComplete")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.CommandActionComplete.verify(message.commandActionComplete);
              if (error) return "commandActionComplete." + error;
            }
          }
          if (message.commandRunBeforeTestRunHooks != null && message.hasOwnProperty("commandRunBeforeTestRunHooks")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.CommandRunBeforeTestRunHooks.verify(message.commandRunBeforeTestRunHooks);
              if (error) return "commandRunBeforeTestRunHooks." + error;
            }
          }
          if (message.commandInitializeTestCase != null && message.hasOwnProperty("commandInitializeTestCase")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.CommandInitializeTestCase.verify(message.commandInitializeTestCase);
              if (error) return "commandInitializeTestCase." + error;
            }
          }
          if (message.commandRunBeforeTestCaseHook != null && message.hasOwnProperty("commandRunBeforeTestCaseHook")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.CommandRunBeforeTestCaseHook.verify(message.commandRunBeforeTestCaseHook);
              if (error) return "commandRunBeforeTestCaseHook." + error;
            }
          }
          if (message.commandRunTestStep != null && message.hasOwnProperty("commandRunTestStep")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.CommandRunTestStep.verify(message.commandRunTestStep);
              if (error) return "commandRunTestStep." + error;
            }
          }
          if (message.commandRunAfterTestCaseHook != null && message.hasOwnProperty("commandRunAfterTestCaseHook")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.CommandRunAfterTestCaseHook.verify(message.commandRunAfterTestCaseHook);
              if (error) return "commandRunAfterTestCaseHook." + error;
            }
          }
          if (message.commandRunAfterTestRunHooks != null && message.hasOwnProperty("commandRunAfterTestRunHooks")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.CommandRunAfterTestRunHooks.verify(message.commandRunAfterTestRunHooks);
              if (error) return "commandRunAfterTestRunHooks." + error;
            }
          }
          if (message.commandGenerateSnippet != null && message.hasOwnProperty("commandGenerateSnippet")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.CommandGenerateSnippet.verify(message.commandGenerateSnippet);
              if (error) return "commandGenerateSnippet." + error;
            }
          }
          if (message.commandError != null && message.hasOwnProperty("commandError")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            if (!$util.isString(message.commandError)) return "commandError: string expected";
          }
          if (message.testCase != null && message.hasOwnProperty("testCase")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.TestCase.verify(message.testCase);
              if (error) return "testCase." + error;
            }
          }
          if (message.stepDefinition != null && message.hasOwnProperty("stepDefinition")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.StepDefinition.verify(message.stepDefinition);
              if (error) return "stepDefinition." + error;
            }
          }
          if (message.hook != null && message.hasOwnProperty("hook")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.Hook.verify(message.hook);
              if (error) return "hook." + error;
            }
          }
          return null;
        };
        Envelope.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.Envelope) return object;
          var message = new $root.io.cucumber.messages.Envelope();
          if (object.source != null) {
            if (typeof object.source !== "object") throw TypeError(".io.cucumber.messages.Envelope.source: object expected");
            message.source = $root.io.cucumber.messages.Source.fromObject(object.source);
          }
          if (object.gherkinDocument != null) {
            if (typeof object.gherkinDocument !== "object") throw TypeError(".io.cucumber.messages.Envelope.gherkinDocument: object expected");
            message.gherkinDocument = $root.io.cucumber.messages.GherkinDocument.fromObject(object.gherkinDocument);
          }
          if (object.pickle != null) {
            if (typeof object.pickle !== "object") throw TypeError(".io.cucumber.messages.Envelope.pickle: object expected");
            message.pickle = $root.io.cucumber.messages.Pickle.fromObject(object.pickle);
          }
          if (object.attachment != null) {
            if (typeof object.attachment !== "object") throw TypeError(".io.cucumber.messages.Envelope.attachment: object expected");
            message.attachment = $root.io.cucumber.messages.Attachment.fromObject(object.attachment);
          }
          if (object.testCaseStarted != null) {
            if (typeof object.testCaseStarted !== "object") throw TypeError(".io.cucumber.messages.Envelope.testCaseStarted: object expected");
            message.testCaseStarted = $root.io.cucumber.messages.TestCaseStarted.fromObject(object.testCaseStarted);
          }
          if (object.testStepStarted != null) {
            if (typeof object.testStepStarted !== "object") throw TypeError(".io.cucumber.messages.Envelope.testStepStarted: object expected");
            message.testStepStarted = $root.io.cucumber.messages.TestStepStarted.fromObject(object.testStepStarted);
          }
          if (object.testStepFinished != null) {
            if (typeof object.testStepFinished !== "object") throw TypeError(".io.cucumber.messages.Envelope.testStepFinished: object expected");
            message.testStepFinished = $root.io.cucumber.messages.TestStepFinished.fromObject(object.testStepFinished);
          }
          if (object.testCaseFinished != null) {
            if (typeof object.testCaseFinished !== "object") throw TypeError(".io.cucumber.messages.Envelope.testCaseFinished: object expected");
            message.testCaseFinished = $root.io.cucumber.messages.TestCaseFinished.fromObject(object.testCaseFinished);
          }
          if (object.pickleAccepted != null) {
            if (typeof object.pickleAccepted !== "object") throw TypeError(".io.cucumber.messages.Envelope.pickleAccepted: object expected");
            message.pickleAccepted = $root.io.cucumber.messages.PickleAccepted.fromObject(object.pickleAccepted);
          }
          if (object.pickleRejected != null) {
            if (typeof object.pickleRejected !== "object") throw TypeError(".io.cucumber.messages.Envelope.pickleRejected: object expected");
            message.pickleRejected = $root.io.cucumber.messages.PickleRejected.fromObject(object.pickleRejected);
          }
          if (object.testCasePrepared != null) {
            if (typeof object.testCasePrepared !== "object") throw TypeError(".io.cucumber.messages.Envelope.testCasePrepared: object expected");
            message.testCasePrepared = $root.io.cucumber.messages.TestCasePrepared.fromObject(object.testCasePrepared);
          }
          if (object.testRunStarted != null) {
            if (typeof object.testRunStarted !== "object") throw TypeError(".io.cucumber.messages.Envelope.testRunStarted: object expected");
            message.testRunStarted = $root.io.cucumber.messages.TestRunStarted.fromObject(object.testRunStarted);
          }
          if (object.testRunFinished != null) {
            if (typeof object.testRunFinished !== "object") throw TypeError(".io.cucumber.messages.Envelope.testRunFinished: object expected");
            message.testRunFinished = $root.io.cucumber.messages.TestRunFinished.fromObject(object.testRunFinished);
          }
          if (object.commandStart != null) {
            if (typeof object.commandStart !== "object") throw TypeError(".io.cucumber.messages.Envelope.commandStart: object expected");
            message.commandStart = $root.io.cucumber.messages.CommandStart.fromObject(object.commandStart);
          }
          if (object.commandActionComplete != null) {
            if (typeof object.commandActionComplete !== "object") throw TypeError(".io.cucumber.messages.Envelope.commandActionComplete: object expected");
            message.commandActionComplete = $root.io.cucumber.messages.CommandActionComplete.fromObject(object.commandActionComplete);
          }
          if (object.commandRunBeforeTestRunHooks != null) {
            if (typeof object.commandRunBeforeTestRunHooks !== "object") throw TypeError(".io.cucumber.messages.Envelope.commandRunBeforeTestRunHooks: object expected");
            message.commandRunBeforeTestRunHooks = $root.io.cucumber.messages.CommandRunBeforeTestRunHooks.fromObject(object.commandRunBeforeTestRunHooks);
          }
          if (object.commandInitializeTestCase != null) {
            if (typeof object.commandInitializeTestCase !== "object") throw TypeError(".io.cucumber.messages.Envelope.commandInitializeTestCase: object expected");
            message.commandInitializeTestCase = $root.io.cucumber.messages.CommandInitializeTestCase.fromObject(object.commandInitializeTestCase);
          }
          if (object.commandRunBeforeTestCaseHook != null) {
            if (typeof object.commandRunBeforeTestCaseHook !== "object") throw TypeError(".io.cucumber.messages.Envelope.commandRunBeforeTestCaseHook: object expected");
            message.commandRunBeforeTestCaseHook = $root.io.cucumber.messages.CommandRunBeforeTestCaseHook.fromObject(object.commandRunBeforeTestCaseHook);
          }
          if (object.commandRunTestStep != null) {
            if (typeof object.commandRunTestStep !== "object") throw TypeError(".io.cucumber.messages.Envelope.commandRunTestStep: object expected");
            message.commandRunTestStep = $root.io.cucumber.messages.CommandRunTestStep.fromObject(object.commandRunTestStep);
          }
          if (object.commandRunAfterTestCaseHook != null) {
            if (typeof object.commandRunAfterTestCaseHook !== "object") throw TypeError(".io.cucumber.messages.Envelope.commandRunAfterTestCaseHook: object expected");
            message.commandRunAfterTestCaseHook = $root.io.cucumber.messages.CommandRunAfterTestCaseHook.fromObject(object.commandRunAfterTestCaseHook);
          }
          if (object.commandRunAfterTestRunHooks != null) {
            if (typeof object.commandRunAfterTestRunHooks !== "object") throw TypeError(".io.cucumber.messages.Envelope.commandRunAfterTestRunHooks: object expected");
            message.commandRunAfterTestRunHooks = $root.io.cucumber.messages.CommandRunAfterTestRunHooks.fromObject(object.commandRunAfterTestRunHooks);
          }
          if (object.commandGenerateSnippet != null) {
            if (typeof object.commandGenerateSnippet !== "object") throw TypeError(".io.cucumber.messages.Envelope.commandGenerateSnippet: object expected");
            message.commandGenerateSnippet = $root.io.cucumber.messages.CommandGenerateSnippet.fromObject(object.commandGenerateSnippet);
          }
          if (object.commandError != null) message.commandError = String(object.commandError);
          if (object.testCase != null) {
            if (typeof object.testCase !== "object") throw TypeError(".io.cucumber.messages.Envelope.testCase: object expected");
            message.testCase = $root.io.cucumber.messages.TestCase.fromObject(object.testCase);
          }
          if (object.stepDefinition != null) {
            if (typeof object.stepDefinition !== "object") throw TypeError(".io.cucumber.messages.Envelope.stepDefinition: object expected");
            message.stepDefinition = $root.io.cucumber.messages.StepDefinition.fromObject(object.stepDefinition);
          }
          if (object.hook != null) {
            if (typeof object.hook !== "object") throw TypeError(".io.cucumber.messages.Envelope.hook: object expected");
            message.hook = $root.io.cucumber.messages.Hook.fromObject(object.hook);
          }
          return message;
        };
        Envelope.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (message.source != null && message.hasOwnProperty("source")) {
            object.source = $root.io.cucumber.messages.Source.toObject(message.source, options);
            if (options.oneofs) object.message = "source";
          }
          if (message.gherkinDocument != null && message.hasOwnProperty("gherkinDocument")) {
            object.gherkinDocument = $root.io.cucumber.messages.GherkinDocument.toObject(message.gherkinDocument, options);
            if (options.oneofs) object.message = "gherkinDocument";
          }
          if (message.pickle != null && message.hasOwnProperty("pickle")) {
            object.pickle = $root.io.cucumber.messages.Pickle.toObject(message.pickle, options);
            if (options.oneofs) object.message = "pickle";
          }
          if (message.attachment != null && message.hasOwnProperty("attachment")) {
            object.attachment = $root.io.cucumber.messages.Attachment.toObject(message.attachment, options);
            if (options.oneofs) object.message = "attachment";
          }
          if (message.testCaseStarted != null && message.hasOwnProperty("testCaseStarted")) {
            object.testCaseStarted = $root.io.cucumber.messages.TestCaseStarted.toObject(message.testCaseStarted, options);
            if (options.oneofs) object.message = "testCaseStarted";
          }
          if (message.testStepStarted != null && message.hasOwnProperty("testStepStarted")) {
            object.testStepStarted = $root.io.cucumber.messages.TestStepStarted.toObject(message.testStepStarted, options);
            if (options.oneofs) object.message = "testStepStarted";
          }
          if (message.testStepFinished != null && message.hasOwnProperty("testStepFinished")) {
            object.testStepFinished = $root.io.cucumber.messages.TestStepFinished.toObject(message.testStepFinished, options);
            if (options.oneofs) object.message = "testStepFinished";
          }
          if (message.testCaseFinished != null && message.hasOwnProperty("testCaseFinished")) {
            object.testCaseFinished = $root.io.cucumber.messages.TestCaseFinished.toObject(message.testCaseFinished, options);
            if (options.oneofs) object.message = "testCaseFinished";
          }
          if (message.pickleAccepted != null && message.hasOwnProperty("pickleAccepted")) {
            object.pickleAccepted = $root.io.cucumber.messages.PickleAccepted.toObject(message.pickleAccepted, options);
            if (options.oneofs) object.message = "pickleAccepted";
          }
          if (message.pickleRejected != null && message.hasOwnProperty("pickleRejected")) {
            object.pickleRejected = $root.io.cucumber.messages.PickleRejected.toObject(message.pickleRejected, options);
            if (options.oneofs) object.message = "pickleRejected";
          }
          if (message.testCasePrepared != null && message.hasOwnProperty("testCasePrepared")) {
            object.testCasePrepared = $root.io.cucumber.messages.TestCasePrepared.toObject(message.testCasePrepared, options);
            if (options.oneofs) object.message = "testCasePrepared";
          }
          if (message.testRunStarted != null && message.hasOwnProperty("testRunStarted")) {
            object.testRunStarted = $root.io.cucumber.messages.TestRunStarted.toObject(message.testRunStarted, options);
            if (options.oneofs) object.message = "testRunStarted";
          }
          if (message.testRunFinished != null && message.hasOwnProperty("testRunFinished")) {
            object.testRunFinished = $root.io.cucumber.messages.TestRunFinished.toObject(message.testRunFinished, options);
            if (options.oneofs) object.message = "testRunFinished";
          }
          if (message.commandStart != null && message.hasOwnProperty("commandStart")) {
            object.commandStart = $root.io.cucumber.messages.CommandStart.toObject(message.commandStart, options);
            if (options.oneofs) object.message = "commandStart";
          }
          if (message.commandActionComplete != null && message.hasOwnProperty("commandActionComplete")) {
            object.commandActionComplete = $root.io.cucumber.messages.CommandActionComplete.toObject(message.commandActionComplete, options);
            if (options.oneofs) object.message = "commandActionComplete";
          }
          if (message.commandRunBeforeTestRunHooks != null && message.hasOwnProperty("commandRunBeforeTestRunHooks")) {
            object.commandRunBeforeTestRunHooks = $root.io.cucumber.messages.CommandRunBeforeTestRunHooks.toObject(message.commandRunBeforeTestRunHooks, options);
            if (options.oneofs) object.message = "commandRunBeforeTestRunHooks";
          }
          if (message.commandInitializeTestCase != null && message.hasOwnProperty("commandInitializeTestCase")) {
            object.commandInitializeTestCase = $root.io.cucumber.messages.CommandInitializeTestCase.toObject(message.commandInitializeTestCase, options);
            if (options.oneofs) object.message = "commandInitializeTestCase";
          }
          if (message.commandRunBeforeTestCaseHook != null && message.hasOwnProperty("commandRunBeforeTestCaseHook")) {
            object.commandRunBeforeTestCaseHook = $root.io.cucumber.messages.CommandRunBeforeTestCaseHook.toObject(message.commandRunBeforeTestCaseHook, options);
            if (options.oneofs) object.message = "commandRunBeforeTestCaseHook";
          }
          if (message.commandRunTestStep != null && message.hasOwnProperty("commandRunTestStep")) {
            object.commandRunTestStep = $root.io.cucumber.messages.CommandRunTestStep.toObject(message.commandRunTestStep, options);
            if (options.oneofs) object.message = "commandRunTestStep";
          }
          if (message.commandRunAfterTestCaseHook != null && message.hasOwnProperty("commandRunAfterTestCaseHook")) {
            object.commandRunAfterTestCaseHook = $root.io.cucumber.messages.CommandRunAfterTestCaseHook.toObject(message.commandRunAfterTestCaseHook, options);
            if (options.oneofs) object.message = "commandRunAfterTestCaseHook";
          }
          if (message.commandRunAfterTestRunHooks != null && message.hasOwnProperty("commandRunAfterTestRunHooks")) {
            object.commandRunAfterTestRunHooks = $root.io.cucumber.messages.CommandRunAfterTestRunHooks.toObject(message.commandRunAfterTestRunHooks, options);
            if (options.oneofs) object.message = "commandRunAfterTestRunHooks";
          }
          if (message.commandGenerateSnippet != null && message.hasOwnProperty("commandGenerateSnippet")) {
            object.commandGenerateSnippet = $root.io.cucumber.messages.CommandGenerateSnippet.toObject(message.commandGenerateSnippet, options);
            if (options.oneofs) object.message = "commandGenerateSnippet";
          }
          if (message.commandError != null && message.hasOwnProperty("commandError")) {
            object.commandError = message.commandError;
            if (options.oneofs) object.message = "commandError";
          }
          if (message.testCase != null && message.hasOwnProperty("testCase")) {
            object.testCase = $root.io.cucumber.messages.TestCase.toObject(message.testCase, options);
            if (options.oneofs) object.message = "testCase";
          }
          if (message.stepDefinition != null && message.hasOwnProperty("stepDefinition")) {
            object.stepDefinition = $root.io.cucumber.messages.StepDefinition.toObject(message.stepDefinition, options);
            if (options.oneofs) object.message = "stepDefinition";
          }
          if (message.hook != null && message.hasOwnProperty("hook")) {
            object.hook = $root.io.cucumber.messages.Hook.toObject(message.hook, options);
            if (options.oneofs) object.message = "hook";
          }
          return object;
        };
        Envelope.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return Envelope;
      }();
      messages.Location = function () {
        function Location(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        Location.prototype.line = 0;
        Location.prototype.column = 0;
        Location.create = function create(properties) {
          return new Location(properties);
        };
        Location.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.line != null && message.hasOwnProperty("line")) writer.uint32(8).uint32(message.line);
          if (message.column != null && message.hasOwnProperty("column")) writer.uint32(16).uint32(message.column);
          return writer;
        };
        Location.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        Location.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.Location();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.line = reader.uint32();
                break;
              case 2:
                message.column = reader.uint32();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        Location.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        Location.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.line != null && message.hasOwnProperty("line")) if (!$util.isInteger(message.line)) return "line: integer expected";
          if (message.column != null && message.hasOwnProperty("column")) if (!$util.isInteger(message.column)) return "column: integer expected";
          return null;
        };
        Location.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.Location) return object;
          var message = new $root.io.cucumber.messages.Location();
          if (object.line != null) message.line = object.line >>> 0;
          if (object.column != null) message.column = object.column >>> 0;
          return message;
        };
        Location.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.line = 0;
            object.column = 0;
          }
          if (message.line != null && message.hasOwnProperty("line")) object.line = message.line;
          if (message.column != null && message.hasOwnProperty("column")) object.column = message.column;
          return object;
        };
        Location.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return Location;
      }();
      messages.SourceReference = function () {
        function SourceReference(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        SourceReference.prototype.uri = "";
        SourceReference.prototype.location = null;
        SourceReference.create = function create(properties) {
          return new SourceReference(properties);
        };
        SourceReference.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.uri != null && message.hasOwnProperty("uri")) writer.uint32(10).string(message.uri);
          if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(18).fork()).ldelim();
          return writer;
        };
        SourceReference.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        SourceReference.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.SourceReference();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.uri = reader.string();
                break;
              case 2:
                message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        SourceReference.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        SourceReference.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.uri != null && message.hasOwnProperty("uri")) if (!$util.isString(message.uri)) return "uri: string expected";
          if (message.location != null && message.hasOwnProperty("location")) {
            var error = $root.io.cucumber.messages.Location.verify(message.location);
            if (error) return "location." + error;
          }
          return null;
        };
        SourceReference.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.SourceReference) return object;
          var message = new $root.io.cucumber.messages.SourceReference();
          if (object.uri != null) message.uri = String(object.uri);
          if (object.location != null) {
            if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.SourceReference.location: object expected");
            message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
          }
          return message;
        };
        SourceReference.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.uri = "";
            object.location = null;
          }
          if (message.uri != null && message.hasOwnProperty("uri")) object.uri = message.uri;
          if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
          return object;
        };
        SourceReference.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return SourceReference;
      }();
      messages.Media = function () {
        function Media(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        Media.prototype.encoding = 0;
        Media.prototype.contentType = "";
        Media.create = function create(properties) {
          return new Media(properties);
        };
        Media.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.encoding != null && message.hasOwnProperty("encoding")) writer.uint32(8).int32(message.encoding);
          if (message.contentType != null && message.hasOwnProperty("contentType")) writer.uint32(18).string(message.contentType);
          return writer;
        };
        Media.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        Media.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.Media();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.encoding = reader.int32();
                break;
              case 2:
                message.contentType = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        Media.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        Media.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.encoding != null && message.hasOwnProperty("encoding")) switch (message.encoding) {
            default:
              return "encoding: enum value expected";
            case 0:
            case 1:
              break;
          }
          if (message.contentType != null && message.hasOwnProperty("contentType")) if (!$util.isString(message.contentType)) return "contentType: string expected";
          return null;
        };
        Media.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.Media) return object;
          var message = new $root.io.cucumber.messages.Media();
          switch (object.encoding) {
            case "BASE64":
            case 0:
              message.encoding = 0;
              break;
            case "UTF8":
            case 1:
              message.encoding = 1;
              break;
          }
          if (object.contentType != null) message.contentType = String(object.contentType);
          return message;
        };
        Media.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.encoding = options.enums === String ? "BASE64" : 0;
            object.contentType = "";
          }
          if (message.encoding != null && message.hasOwnProperty("encoding")) object.encoding = options.enums === String ? $root.io.cucumber.messages.Media.Encoding[message.encoding] : message.encoding;
          if (message.contentType != null && message.hasOwnProperty("contentType")) object.contentType = message.contentType;
          return object;
        };
        Media.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        Media.Encoding = function () {
          var valuesById = {},
            values = Object.create(valuesById);
          values[valuesById[0] = "BASE64"] = 0;
          values[valuesById[1] = "UTF8"] = 1;
          return values;
        }();
        return Media;
      }();
      messages.Source = function () {
        function Source(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        Source.prototype.uri = "";
        Source.prototype.data = "";
        Source.prototype.media = null;
        Source.create = function create(properties) {
          return new Source(properties);
        };
        Source.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.uri != null && message.hasOwnProperty("uri")) writer.uint32(10).string(message.uri);
          if (message.data != null && message.hasOwnProperty("data")) writer.uint32(18).string(message.data);
          if (message.media != null && message.hasOwnProperty("media")) $root.io.cucumber.messages.Media.encode(message.media, writer.uint32(26).fork()).ldelim();
          return writer;
        };
        Source.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        Source.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.Source();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.uri = reader.string();
                break;
              case 2:
                message.data = reader.string();
                break;
              case 3:
                message.media = $root.io.cucumber.messages.Media.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        Source.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        Source.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.uri != null && message.hasOwnProperty("uri")) if (!$util.isString(message.uri)) return "uri: string expected";
          if (message.data != null && message.hasOwnProperty("data")) if (!$util.isString(message.data)) return "data: string expected";
          if (message.media != null && message.hasOwnProperty("media")) {
            var error = $root.io.cucumber.messages.Media.verify(message.media);
            if (error) return "media." + error;
          }
          return null;
        };
        Source.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.Source) return object;
          var message = new $root.io.cucumber.messages.Source();
          if (object.uri != null) message.uri = String(object.uri);
          if (object.data != null) message.data = String(object.data);
          if (object.media != null) {
            if (typeof object.media !== "object") throw TypeError(".io.cucumber.messages.Source.media: object expected");
            message.media = $root.io.cucumber.messages.Media.fromObject(object.media);
          }
          return message;
        };
        Source.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.uri = "";
            object.data = "";
            object.media = null;
          }
          if (message.uri != null && message.hasOwnProperty("uri")) object.uri = message.uri;
          if (message.data != null && message.hasOwnProperty("data")) object.data = message.data;
          if (message.media != null && message.hasOwnProperty("media")) object.media = $root.io.cucumber.messages.Media.toObject(message.media, options);
          return object;
        };
        Source.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return Source;
      }();
      messages.GherkinDocument = function () {
        function GherkinDocument(properties) {
          this.comments = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        GherkinDocument.prototype.uri = "";
        GherkinDocument.prototype.feature = null;
        GherkinDocument.prototype.comments = $util.emptyArray;
        GherkinDocument.create = function create(properties) {
          return new GherkinDocument(properties);
        };
        GherkinDocument.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.uri != null && message.hasOwnProperty("uri")) writer.uint32(10).string(message.uri);
          if (message.feature != null && message.hasOwnProperty("feature")) $root.io.cucumber.messages.GherkinDocument.Feature.encode(message.feature, writer.uint32(18).fork()).ldelim();
          if (message.comments != null && message.comments.length) for (var i = 0; i < message.comments.length; ++i) $root.io.cucumber.messages.GherkinDocument.Comment.encode(message.comments[i], writer.uint32(26).fork()).ldelim();
          return writer;
        };
        GherkinDocument.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        GherkinDocument.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.GherkinDocument();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.uri = reader.string();
                break;
              case 2:
                message.feature = $root.io.cucumber.messages.GherkinDocument.Feature.decode(reader, reader.uint32());
                break;
              case 3:
                if (!(message.comments && message.comments.length)) message.comments = [];
                message.comments.push($root.io.cucumber.messages.GherkinDocument.Comment.decode(reader, reader.uint32()));
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        GherkinDocument.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        GherkinDocument.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.uri != null && message.hasOwnProperty("uri")) if (!$util.isString(message.uri)) return "uri: string expected";
          if (message.feature != null && message.hasOwnProperty("feature")) {
            var error = $root.io.cucumber.messages.GherkinDocument.Feature.verify(message.feature);
            if (error) return "feature." + error;
          }
          if (message.comments != null && message.hasOwnProperty("comments")) {
            if (!Array.isArray(message.comments)) return "comments: array expected";
            for (var i = 0; i < message.comments.length; ++i) {
              var error = $root.io.cucumber.messages.GherkinDocument.Comment.verify(message.comments[i]);
              if (error) return "comments." + error;
            }
          }
          return null;
        };
        GherkinDocument.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.GherkinDocument) return object;
          var message = new $root.io.cucumber.messages.GherkinDocument();
          if (object.uri != null) message.uri = String(object.uri);
          if (object.feature != null) {
            if (typeof object.feature !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.feature: object expected");
            message.feature = $root.io.cucumber.messages.GherkinDocument.Feature.fromObject(object.feature);
          }
          if (object.comments) {
            if (!Array.isArray(object.comments)) throw TypeError(".io.cucumber.messages.GherkinDocument.comments: array expected");
            message.comments = [];
            for (var i = 0; i < object.comments.length; ++i) {
              if (typeof object.comments[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.comments: object expected");
              message.comments[i] = $root.io.cucumber.messages.GherkinDocument.Comment.fromObject(object.comments[i]);
            }
          }
          return message;
        };
        GherkinDocument.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) object.comments = [];
          if (options.defaults) {
            object.uri = "";
            object.feature = null;
          }
          if (message.uri != null && message.hasOwnProperty("uri")) object.uri = message.uri;
          if (message.feature != null && message.hasOwnProperty("feature")) object.feature = $root.io.cucumber.messages.GherkinDocument.Feature.toObject(message.feature, options);
          if (message.comments && message.comments.length) {
            object.comments = [];
            for (var j = 0; j < message.comments.length; ++j) object.comments[j] = $root.io.cucumber.messages.GherkinDocument.Comment.toObject(message.comments[j], options);
          }
          return object;
        };
        GherkinDocument.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        GherkinDocument.Comment = function () {
          function Comment(properties) {
            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
          }
          Comment.prototype.location = null;
          Comment.prototype.text = "";
          Comment.create = function create(properties) {
            return new Comment(properties);
          };
          Comment.encode = function encode(message, writer) {
            if (!writer) writer = $Writer.create();
            if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
            if (message.text != null && message.hasOwnProperty("text")) writer.uint32(18).string(message.text);
            return writer;
          };
          Comment.encodeDelimited = function encodeDelimited(message, writer) {
            return this.encode(message, writer).ldelim();
          };
          Comment.decode = function decode(reader, length) {
            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
            var end = length === undefined ? reader.len : reader.pos + length,
              message = new $root.io.cucumber.messages.GherkinDocument.Comment();
            while (reader.pos < end) {
              var tag = reader.uint32();
              switch (tag >>> 3) {
                case 1:
                  message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                  break;
                case 2:
                  message.text = reader.string();
                  break;
                default:
                  reader.skipType(tag & 7);
                  break;
              }
            }
            return message;
          };
          Comment.decodeDelimited = function decodeDelimited(reader) {
            if (!(reader instanceof $Reader)) reader = new $Reader(reader);
            return this.decode(reader, reader.uint32());
          };
          Comment.verify = function verify(message) {
            if (typeof message !== "object" || message === null) return "object expected";
            if (message.location != null && message.hasOwnProperty("location")) {
              var error = $root.io.cucumber.messages.Location.verify(message.location);
              if (error) return "location." + error;
            }
            if (message.text != null && message.hasOwnProperty("text")) if (!$util.isString(message.text)) return "text: string expected";
            return null;
          };
          Comment.fromObject = function fromObject(object) {
            if (object instanceof $root.io.cucumber.messages.GherkinDocument.Comment) return object;
            var message = new $root.io.cucumber.messages.GherkinDocument.Comment();
            if (object.location != null) {
              if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Comment.location: object expected");
              message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
            }
            if (object.text != null) message.text = String(object.text);
            return message;
          };
          Comment.toObject = function toObject(message, options) {
            if (!options) options = {};
            var object = {};
            if (options.defaults) {
              object.location = null;
              object.text = "";
            }
            if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
            if (message.text != null && message.hasOwnProperty("text")) object.text = message.text;
            return object;
          };
          Comment.prototype.toJSON = function toJSON() {
            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
          };
          return Comment;
        }();
        GherkinDocument.Feature = function () {
          function Feature(properties) {
            this.tags = [];
            this.children = [];
            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
          }
          Feature.prototype.location = null;
          Feature.prototype.tags = $util.emptyArray;
          Feature.prototype.language = "";
          Feature.prototype.keyword = "";
          Feature.prototype.name = "";
          Feature.prototype.description = "";
          Feature.prototype.children = $util.emptyArray;
          Feature.create = function create(properties) {
            return new Feature(properties);
          };
          Feature.encode = function encode(message, writer) {
            if (!writer) writer = $Writer.create();
            if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
            if (message.tags != null && message.tags.length) for (var i = 0; i < message.tags.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.Tag.encode(message.tags[i], writer.uint32(18).fork()).ldelim();
            if (message.language != null && message.hasOwnProperty("language")) writer.uint32(26).string(message.language);
            if (message.keyword != null && message.hasOwnProperty("keyword")) writer.uint32(34).string(message.keyword);
            if (message.name != null && message.hasOwnProperty("name")) writer.uint32(42).string(message.name);
            if (message.description != null && message.hasOwnProperty("description")) writer.uint32(50).string(message.description);
            if (message.children != null && message.children.length) for (var i = 0; i < message.children.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.encode(message.children[i], writer.uint32(58).fork()).ldelim();
            return writer;
          };
          Feature.encodeDelimited = function encodeDelimited(message, writer) {
            return this.encode(message, writer).ldelim();
          };
          Feature.decode = function decode(reader, length) {
            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
            var end = length === undefined ? reader.len : reader.pos + length,
              message = new $root.io.cucumber.messages.GherkinDocument.Feature();
            while (reader.pos < end) {
              var tag = reader.uint32();
              switch (tag >>> 3) {
                case 1:
                  message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                  break;
                case 2:
                  if (!(message.tags && message.tags.length)) message.tags = [];
                  message.tags.push($root.io.cucumber.messages.GherkinDocument.Feature.Tag.decode(reader, reader.uint32()));
                  break;
                case 3:
                  message.language = reader.string();
                  break;
                case 4:
                  message.keyword = reader.string();
                  break;
                case 5:
                  message.name = reader.string();
                  break;
                case 6:
                  message.description = reader.string();
                  break;
                case 7:
                  if (!(message.children && message.children.length)) message.children = [];
                  message.children.push($root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.decode(reader, reader.uint32()));
                  break;
                default:
                  reader.skipType(tag & 7);
                  break;
              }
            }
            return message;
          };
          Feature.decodeDelimited = function decodeDelimited(reader) {
            if (!(reader instanceof $Reader)) reader = new $Reader(reader);
            return this.decode(reader, reader.uint32());
          };
          Feature.verify = function verify(message) {
            if (typeof message !== "object" || message === null) return "object expected";
            if (message.location != null && message.hasOwnProperty("location")) {
              var error = $root.io.cucumber.messages.Location.verify(message.location);
              if (error) return "location." + error;
            }
            if (message.tags != null && message.hasOwnProperty("tags")) {
              if (!Array.isArray(message.tags)) return "tags: array expected";
              for (var i = 0; i < message.tags.length; ++i) {
                var error = $root.io.cucumber.messages.GherkinDocument.Feature.Tag.verify(message.tags[i]);
                if (error) return "tags." + error;
              }
            }
            if (message.language != null && message.hasOwnProperty("language")) if (!$util.isString(message.language)) return "language: string expected";
            if (message.keyword != null && message.hasOwnProperty("keyword")) if (!$util.isString(message.keyword)) return "keyword: string expected";
            if (message.name != null && message.hasOwnProperty("name")) if (!$util.isString(message.name)) return "name: string expected";
            if (message.description != null && message.hasOwnProperty("description")) if (!$util.isString(message.description)) return "description: string expected";
            if (message.children != null && message.hasOwnProperty("children")) {
              if (!Array.isArray(message.children)) return "children: array expected";
              for (var i = 0; i < message.children.length; ++i) {
                var error = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.verify(message.children[i]);
                if (error) return "children." + error;
              }
            }
            return null;
          };
          Feature.fromObject = function fromObject(object) {
            if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature) return object;
            var message = new $root.io.cucumber.messages.GherkinDocument.Feature();
            if (object.location != null) {
              if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.location: object expected");
              message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
            }
            if (object.tags) {
              if (!Array.isArray(object.tags)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.tags: array expected");
              message.tags = [];
              for (var i = 0; i < object.tags.length; ++i) {
                if (typeof object.tags[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.tags: object expected");
                message.tags[i] = $root.io.cucumber.messages.GherkinDocument.Feature.Tag.fromObject(object.tags[i]);
              }
            }
            if (object.language != null) message.language = String(object.language);
            if (object.keyword != null) message.keyword = String(object.keyword);
            if (object.name != null) message.name = String(object.name);
            if (object.description != null) message.description = String(object.description);
            if (object.children) {
              if (!Array.isArray(object.children)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.children: array expected");
              message.children = [];
              for (var i = 0; i < object.children.length; ++i) {
                if (typeof object.children[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.children: object expected");
                message.children[i] = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.fromObject(object.children[i]);
              }
            }
            return message;
          };
          Feature.toObject = function toObject(message, options) {
            if (!options) options = {};
            var object = {};
            if (options.arrays || options.defaults) {
              object.tags = [];
              object.children = [];
            }
            if (options.defaults) {
              object.location = null;
              object.language = "";
              object.keyword = "";
              object.name = "";
              object.description = "";
            }
            if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
            if (message.tags && message.tags.length) {
              object.tags = [];
              for (var j = 0; j < message.tags.length; ++j) object.tags[j] = $root.io.cucumber.messages.GherkinDocument.Feature.Tag.toObject(message.tags[j], options);
            }
            if (message.language != null && message.hasOwnProperty("language")) object.language = message.language;
            if (message.keyword != null && message.hasOwnProperty("keyword")) object.keyword = message.keyword;
            if (message.name != null && message.hasOwnProperty("name")) object.name = message.name;
            if (message.description != null && message.hasOwnProperty("description")) object.description = message.description;
            if (message.children && message.children.length) {
              object.children = [];
              for (var j = 0; j < message.children.length; ++j) object.children[j] = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.toObject(message.children[j], options);
            }
            return object;
          };
          Feature.prototype.toJSON = function toJSON() {
            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
          };
          Feature.Tag = function () {
            function Tag(properties) {
              if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
            }
            Tag.prototype.location = null;
            Tag.prototype.name = "";
            Tag.prototype.id = "";
            Tag.create = function create(properties) {
              return new Tag(properties);
            };
            Tag.encode = function encode(message, writer) {
              if (!writer) writer = $Writer.create();
              if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
              if (message.name != null && message.hasOwnProperty("name")) writer.uint32(18).string(message.name);
              if (message.id != null && message.hasOwnProperty("id")) writer.uint32(26).string(message.id);
              return writer;
            };
            Tag.encodeDelimited = function encodeDelimited(message, writer) {
              return this.encode(message, writer).ldelim();
            };
            Tag.decode = function decode(reader, length) {
              if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
              var end = length === undefined ? reader.len : reader.pos + length,
                message = new $root.io.cucumber.messages.GherkinDocument.Feature.Tag();
              while (reader.pos < end) {
                var tag = reader.uint32();
                switch (tag >>> 3) {
                  case 1:
                    message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                    break;
                  case 2:
                    message.name = reader.string();
                    break;
                  case 3:
                    message.id = reader.string();
                    break;
                  default:
                    reader.skipType(tag & 7);
                    break;
                }
              }
              return message;
            };
            Tag.decodeDelimited = function decodeDelimited(reader) {
              if (!(reader instanceof $Reader)) reader = new $Reader(reader);
              return this.decode(reader, reader.uint32());
            };
            Tag.verify = function verify(message) {
              if (typeof message !== "object" || message === null) return "object expected";
              if (message.location != null && message.hasOwnProperty("location")) {
                var error = $root.io.cucumber.messages.Location.verify(message.location);
                if (error) return "location." + error;
              }
              if (message.name != null && message.hasOwnProperty("name")) if (!$util.isString(message.name)) return "name: string expected";
              if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
              return null;
            };
            Tag.fromObject = function fromObject(object) {
              if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.Tag) return object;
              var message = new $root.io.cucumber.messages.GherkinDocument.Feature.Tag();
              if (object.location != null) {
                if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Tag.location: object expected");
                message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
              }
              if (object.name != null) message.name = String(object.name);
              if (object.id != null) message.id = String(object.id);
              return message;
            };
            Tag.toObject = function toObject(message, options) {
              if (!options) options = {};
              var object = {};
              if (options.defaults) {
                object.location = null;
                object.name = "";
                object.id = "";
              }
              if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
              if (message.name != null && message.hasOwnProperty("name")) object.name = message.name;
              if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
              return object;
            };
            Tag.prototype.toJSON = function toJSON() {
              return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
            return Tag;
          }();
          Feature.FeatureChild = function () {
            function FeatureChild(properties) {
              if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
            }
            FeatureChild.prototype.rule = null;
            FeatureChild.prototype.background = null;
            FeatureChild.prototype.scenario = null;
            var $oneOfFields;
            Object.defineProperty(FeatureChild.prototype, "value", {
              get: $util.oneOfGetter($oneOfFields = ["rule", "background", "scenario"]),
              set: $util.oneOfSetter($oneOfFields)
            });
            FeatureChild.create = function create(properties) {
              return new FeatureChild(properties);
            };
            FeatureChild.encode = function encode(message, writer) {
              if (!writer) writer = $Writer.create();
              if (message.rule != null && message.hasOwnProperty("rule")) $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule.encode(message.rule, writer.uint32(10).fork()).ldelim();
              if (message.background != null && message.hasOwnProperty("background")) $root.io.cucumber.messages.GherkinDocument.Feature.Background.encode(message.background, writer.uint32(18).fork()).ldelim();
              if (message.scenario != null && message.hasOwnProperty("scenario")) $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.encode(message.scenario, writer.uint32(26).fork()).ldelim();
              return writer;
            };
            FeatureChild.encodeDelimited = function encodeDelimited(message, writer) {
              return this.encode(message, writer).ldelim();
            };
            FeatureChild.decode = function decode(reader, length) {
              if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
              var end = length === undefined ? reader.len : reader.pos + length,
                message = new $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild();
              while (reader.pos < end) {
                var tag = reader.uint32();
                switch (tag >>> 3) {
                  case 1:
                    message.rule = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule.decode(reader, reader.uint32());
                    break;
                  case 2:
                    message.background = $root.io.cucumber.messages.GherkinDocument.Feature.Background.decode(reader, reader.uint32());
                    break;
                  case 3:
                    message.scenario = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.decode(reader, reader.uint32());
                    break;
                  default:
                    reader.skipType(tag & 7);
                    break;
                }
              }
              return message;
            };
            FeatureChild.decodeDelimited = function decodeDelimited(reader) {
              if (!(reader instanceof $Reader)) reader = new $Reader(reader);
              return this.decode(reader, reader.uint32());
            };
            FeatureChild.verify = function verify(message) {
              if (typeof message !== "object" || message === null) return "object expected";
              var properties = {};
              if (message.rule != null && message.hasOwnProperty("rule")) {
                properties.value = 1;
                {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule.verify(message.rule);
                  if (error) return "rule." + error;
                }
              }
              if (message.background != null && message.hasOwnProperty("background")) {
                if (properties.value === 1) return "value: multiple values";
                properties.value = 1;
                {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.Background.verify(message.background);
                  if (error) return "background." + error;
                }
              }
              if (message.scenario != null && message.hasOwnProperty("scenario")) {
                if (properties.value === 1) return "value: multiple values";
                properties.value = 1;
                {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.verify(message.scenario);
                  if (error) return "scenario." + error;
                }
              }
              return null;
            };
            FeatureChild.fromObject = function fromObject(object) {
              if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild) return object;
              var message = new $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild();
              if (object.rule != null) {
                if (typeof object.rule !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.FeatureChild.rule: object expected");
                message.rule = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule.fromObject(object.rule);
              }
              if (object.background != null) {
                if (typeof object.background !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.FeatureChild.background: object expected");
                message.background = $root.io.cucumber.messages.GherkinDocument.Feature.Background.fromObject(object.background);
              }
              if (object.scenario != null) {
                if (typeof object.scenario !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.FeatureChild.scenario: object expected");
                message.scenario = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.fromObject(object.scenario);
              }
              return message;
            };
            FeatureChild.toObject = function toObject(message, options) {
              if (!options) options = {};
              var object = {};
              if (message.rule != null && message.hasOwnProperty("rule")) {
                object.rule = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule.toObject(message.rule, options);
                if (options.oneofs) object.value = "rule";
              }
              if (message.background != null && message.hasOwnProperty("background")) {
                object.background = $root.io.cucumber.messages.GherkinDocument.Feature.Background.toObject(message.background, options);
                if (options.oneofs) object.value = "background";
              }
              if (message.scenario != null && message.hasOwnProperty("scenario")) {
                object.scenario = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.toObject(message.scenario, options);
                if (options.oneofs) object.value = "scenario";
              }
              return object;
            };
            FeatureChild.prototype.toJSON = function toJSON() {
              return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
            FeatureChild.Rule = function () {
              function Rule(properties) {
                this.children = [];
                if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
              }
              Rule.prototype.location = null;
              Rule.prototype.keyword = "";
              Rule.prototype.name = "";
              Rule.prototype.description = "";
              Rule.prototype.children = $util.emptyArray;
              Rule.create = function create(properties) {
                return new Rule(properties);
              };
              Rule.encode = function encode(message, writer) {
                if (!writer) writer = $Writer.create();
                if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
                if (message.keyword != null && message.hasOwnProperty("keyword")) writer.uint32(18).string(message.keyword);
                if (message.name != null && message.hasOwnProperty("name")) writer.uint32(26).string(message.name);
                if (message.description != null && message.hasOwnProperty("description")) writer.uint32(34).string(message.description);
                if (message.children != null && message.children.length) for (var i = 0; i < message.children.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild.encode(message.children[i], writer.uint32(42).fork()).ldelim();
                return writer;
              };
              Rule.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
              };
              Rule.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length,
                  message = new $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule();
                while (reader.pos < end) {
                  var tag = reader.uint32();
                  switch (tag >>> 3) {
                    case 1:
                      message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                      break;
                    case 2:
                      message.keyword = reader.string();
                      break;
                    case 3:
                      message.name = reader.string();
                      break;
                    case 4:
                      message.description = reader.string();
                      break;
                    case 5:
                      if (!(message.children && message.children.length)) message.children = [];
                      message.children.push($root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild.decode(reader, reader.uint32()));
                      break;
                    default:
                      reader.skipType(tag & 7);
                      break;
                  }
                }
                return message;
              };
              Rule.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader)) reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
              };
              Rule.verify = function verify(message) {
                if (typeof message !== "object" || message === null) return "object expected";
                if (message.location != null && message.hasOwnProperty("location")) {
                  var error = $root.io.cucumber.messages.Location.verify(message.location);
                  if (error) return "location." + error;
                }
                if (message.keyword != null && message.hasOwnProperty("keyword")) if (!$util.isString(message.keyword)) return "keyword: string expected";
                if (message.name != null && message.hasOwnProperty("name")) if (!$util.isString(message.name)) return "name: string expected";
                if (message.description != null && message.hasOwnProperty("description")) if (!$util.isString(message.description)) return "description: string expected";
                if (message.children != null && message.hasOwnProperty("children")) {
                  if (!Array.isArray(message.children)) return "children: array expected";
                  for (var i = 0; i < message.children.length; ++i) {
                    var error = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild.verify(message.children[i]);
                    if (error) return "children." + error;
                  }
                }
                return null;
              };
              Rule.fromObject = function fromObject(object) {
                if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule) return object;
                var message = new $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule();
                if (object.location != null) {
                  if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule.location: object expected");
                  message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
                }
                if (object.keyword != null) message.keyword = String(object.keyword);
                if (object.name != null) message.name = String(object.name);
                if (object.description != null) message.description = String(object.description);
                if (object.children) {
                  if (!Array.isArray(object.children)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule.children: array expected");
                  message.children = [];
                  for (var i = 0; i < object.children.length; ++i) {
                    if (typeof object.children[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.FeatureChild.Rule.children: object expected");
                    message.children[i] = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild.fromObject(object.children[i]);
                  }
                }
                return message;
              };
              Rule.toObject = function toObject(message, options) {
                if (!options) options = {};
                var object = {};
                if (options.arrays || options.defaults) object.children = [];
                if (options.defaults) {
                  object.location = null;
                  object.keyword = "";
                  object.name = "";
                  object.description = "";
                }
                if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
                if (message.keyword != null && message.hasOwnProperty("keyword")) object.keyword = message.keyword;
                if (message.name != null && message.hasOwnProperty("name")) object.name = message.name;
                if (message.description != null && message.hasOwnProperty("description")) object.description = message.description;
                if (message.children && message.children.length) {
                  object.children = [];
                  for (var j = 0; j < message.children.length; ++j) object.children[j] = $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild.toObject(message.children[j], options);
                }
                return object;
              };
              Rule.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
              };
              return Rule;
            }();
            FeatureChild.RuleChild = function () {
              function RuleChild(properties) {
                if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
              }
              RuleChild.prototype.background = null;
              RuleChild.prototype.scenario = null;
              var $oneOfFields;
              Object.defineProperty(RuleChild.prototype, "value", {
                get: $util.oneOfGetter($oneOfFields = ["background", "scenario"]),
                set: $util.oneOfSetter($oneOfFields)
              });
              RuleChild.create = function create(properties) {
                return new RuleChild(properties);
              };
              RuleChild.encode = function encode(message, writer) {
                if (!writer) writer = $Writer.create();
                if (message.background != null && message.hasOwnProperty("background")) $root.io.cucumber.messages.GherkinDocument.Feature.Background.encode(message.background, writer.uint32(10).fork()).ldelim();
                if (message.scenario != null && message.hasOwnProperty("scenario")) $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.encode(message.scenario, writer.uint32(18).fork()).ldelim();
                return writer;
              };
              RuleChild.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
              };
              RuleChild.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length,
                  message = new $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild();
                while (reader.pos < end) {
                  var tag = reader.uint32();
                  switch (tag >>> 3) {
                    case 1:
                      message.background = $root.io.cucumber.messages.GherkinDocument.Feature.Background.decode(reader, reader.uint32());
                      break;
                    case 2:
                      message.scenario = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.decode(reader, reader.uint32());
                      break;
                    default:
                      reader.skipType(tag & 7);
                      break;
                  }
                }
                return message;
              };
              RuleChild.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader)) reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
              };
              RuleChild.verify = function verify(message) {
                if (typeof message !== "object" || message === null) return "object expected";
                var properties = {};
                if (message.background != null && message.hasOwnProperty("background")) {
                  properties.value = 1;
                  {
                    var error = $root.io.cucumber.messages.GherkinDocument.Feature.Background.verify(message.background);
                    if (error) return "background." + error;
                  }
                }
                if (message.scenario != null && message.hasOwnProperty("scenario")) {
                  if (properties.value === 1) return "value: multiple values";
                  properties.value = 1;
                  {
                    var error = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.verify(message.scenario);
                    if (error) return "scenario." + error;
                  }
                }
                return null;
              };
              RuleChild.fromObject = function fromObject(object) {
                if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild) return object;
                var message = new $root.io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild();
                if (object.background != null) {
                  if (typeof object.background !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild.background: object expected");
                  message.background = $root.io.cucumber.messages.GherkinDocument.Feature.Background.fromObject(object.background);
                }
                if (object.scenario != null) {
                  if (typeof object.scenario !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.FeatureChild.RuleChild.scenario: object expected");
                  message.scenario = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.fromObject(object.scenario);
                }
                return message;
              };
              RuleChild.toObject = function toObject(message, options) {
                if (!options) options = {};
                var object = {};
                if (message.background != null && message.hasOwnProperty("background")) {
                  object.background = $root.io.cucumber.messages.GherkinDocument.Feature.Background.toObject(message.background, options);
                  if (options.oneofs) object.value = "background";
                }
                if (message.scenario != null && message.hasOwnProperty("scenario")) {
                  object.scenario = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.toObject(message.scenario, options);
                  if (options.oneofs) object.value = "scenario";
                }
                return object;
              };
              RuleChild.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
              };
              return RuleChild;
            }();
            return FeatureChild;
          }();
          Feature.Background = function () {
            function Background(properties) {
              this.steps = [];
              if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
            }
            Background.prototype.location = null;
            Background.prototype.keyword = "";
            Background.prototype.name = "";
            Background.prototype.description = "";
            Background.prototype.steps = $util.emptyArray;
            Background.create = function create(properties) {
              return new Background(properties);
            };
            Background.encode = function encode(message, writer) {
              if (!writer) writer = $Writer.create();
              if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
              if (message.keyword != null && message.hasOwnProperty("keyword")) writer.uint32(18).string(message.keyword);
              if (message.name != null && message.hasOwnProperty("name")) writer.uint32(26).string(message.name);
              if (message.description != null && message.hasOwnProperty("description")) writer.uint32(34).string(message.description);
              if (message.steps != null && message.steps.length) for (var i = 0; i < message.steps.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.Step.encode(message.steps[i], writer.uint32(42).fork()).ldelim();
              return writer;
            };
            Background.encodeDelimited = function encodeDelimited(message, writer) {
              return this.encode(message, writer).ldelim();
            };
            Background.decode = function decode(reader, length) {
              if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
              var end = length === undefined ? reader.len : reader.pos + length,
                message = new $root.io.cucumber.messages.GherkinDocument.Feature.Background();
              while (reader.pos < end) {
                var tag = reader.uint32();
                switch (tag >>> 3) {
                  case 1:
                    message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                    break;
                  case 2:
                    message.keyword = reader.string();
                    break;
                  case 3:
                    message.name = reader.string();
                    break;
                  case 4:
                    message.description = reader.string();
                    break;
                  case 5:
                    if (!(message.steps && message.steps.length)) message.steps = [];
                    message.steps.push($root.io.cucumber.messages.GherkinDocument.Feature.Step.decode(reader, reader.uint32()));
                    break;
                  default:
                    reader.skipType(tag & 7);
                    break;
                }
              }
              return message;
            };
            Background.decodeDelimited = function decodeDelimited(reader) {
              if (!(reader instanceof $Reader)) reader = new $Reader(reader);
              return this.decode(reader, reader.uint32());
            };
            Background.verify = function verify(message) {
              if (typeof message !== "object" || message === null) return "object expected";
              if (message.location != null && message.hasOwnProperty("location")) {
                var error = $root.io.cucumber.messages.Location.verify(message.location);
                if (error) return "location." + error;
              }
              if (message.keyword != null && message.hasOwnProperty("keyword")) if (!$util.isString(message.keyword)) return "keyword: string expected";
              if (message.name != null && message.hasOwnProperty("name")) if (!$util.isString(message.name)) return "name: string expected";
              if (message.description != null && message.hasOwnProperty("description")) if (!$util.isString(message.description)) return "description: string expected";
              if (message.steps != null && message.hasOwnProperty("steps")) {
                if (!Array.isArray(message.steps)) return "steps: array expected";
                for (var i = 0; i < message.steps.length; ++i) {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.Step.verify(message.steps[i]);
                  if (error) return "steps." + error;
                }
              }
              return null;
            };
            Background.fromObject = function fromObject(object) {
              if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.Background) return object;
              var message = new $root.io.cucumber.messages.GherkinDocument.Feature.Background();
              if (object.location != null) {
                if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Background.location: object expected");
                message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
              }
              if (object.keyword != null) message.keyword = String(object.keyword);
              if (object.name != null) message.name = String(object.name);
              if (object.description != null) message.description = String(object.description);
              if (object.steps) {
                if (!Array.isArray(object.steps)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Background.steps: array expected");
                message.steps = [];
                for (var i = 0; i < object.steps.length; ++i) {
                  if (typeof object.steps[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Background.steps: object expected");
                  message.steps[i] = $root.io.cucumber.messages.GherkinDocument.Feature.Step.fromObject(object.steps[i]);
                }
              }
              return message;
            };
            Background.toObject = function toObject(message, options) {
              if (!options) options = {};
              var object = {};
              if (options.arrays || options.defaults) object.steps = [];
              if (options.defaults) {
                object.location = null;
                object.keyword = "";
                object.name = "";
                object.description = "";
              }
              if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
              if (message.keyword != null && message.hasOwnProperty("keyword")) object.keyword = message.keyword;
              if (message.name != null && message.hasOwnProperty("name")) object.name = message.name;
              if (message.description != null && message.hasOwnProperty("description")) object.description = message.description;
              if (message.steps && message.steps.length) {
                object.steps = [];
                for (var j = 0; j < message.steps.length; ++j) object.steps[j] = $root.io.cucumber.messages.GherkinDocument.Feature.Step.toObject(message.steps[j], options);
              }
              return object;
            };
            Background.prototype.toJSON = function toJSON() {
              return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
            return Background;
          }();
          Feature.Scenario = function () {
            function Scenario(properties) {
              this.tags = [];
              this.steps = [];
              this.examples = [];
              if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
            }
            Scenario.prototype.location = null;
            Scenario.prototype.tags = $util.emptyArray;
            Scenario.prototype.keyword = "";
            Scenario.prototype.name = "";
            Scenario.prototype.description = "";
            Scenario.prototype.steps = $util.emptyArray;
            Scenario.prototype.examples = $util.emptyArray;
            Scenario.prototype.id = "";
            Scenario.create = function create(properties) {
              return new Scenario(properties);
            };
            Scenario.encode = function encode(message, writer) {
              if (!writer) writer = $Writer.create();
              if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
              if (message.tags != null && message.tags.length) for (var i = 0; i < message.tags.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.Tag.encode(message.tags[i], writer.uint32(18).fork()).ldelim();
              if (message.keyword != null && message.hasOwnProperty("keyword")) writer.uint32(26).string(message.keyword);
              if (message.name != null && message.hasOwnProperty("name")) writer.uint32(34).string(message.name);
              if (message.description != null && message.hasOwnProperty("description")) writer.uint32(42).string(message.description);
              if (message.steps != null && message.steps.length) for (var i = 0; i < message.steps.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.Step.encode(message.steps[i], writer.uint32(50).fork()).ldelim();
              if (message.examples != null && message.examples.length) for (var i = 0; i < message.examples.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.encode(message.examples[i], writer.uint32(58).fork()).ldelim();
              if (message.id != null && message.hasOwnProperty("id")) writer.uint32(66).string(message.id);
              return writer;
            };
            Scenario.encodeDelimited = function encodeDelimited(message, writer) {
              return this.encode(message, writer).ldelim();
            };
            Scenario.decode = function decode(reader, length) {
              if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
              var end = length === undefined ? reader.len : reader.pos + length,
                message = new $root.io.cucumber.messages.GherkinDocument.Feature.Scenario();
              while (reader.pos < end) {
                var tag = reader.uint32();
                switch (tag >>> 3) {
                  case 1:
                    message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                    break;
                  case 2:
                    if (!(message.tags && message.tags.length)) message.tags = [];
                    message.tags.push($root.io.cucumber.messages.GherkinDocument.Feature.Tag.decode(reader, reader.uint32()));
                    break;
                  case 3:
                    message.keyword = reader.string();
                    break;
                  case 4:
                    message.name = reader.string();
                    break;
                  case 5:
                    message.description = reader.string();
                    break;
                  case 6:
                    if (!(message.steps && message.steps.length)) message.steps = [];
                    message.steps.push($root.io.cucumber.messages.GherkinDocument.Feature.Step.decode(reader, reader.uint32()));
                    break;
                  case 7:
                    if (!(message.examples && message.examples.length)) message.examples = [];
                    message.examples.push($root.io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.decode(reader, reader.uint32()));
                    break;
                  case 8:
                    message.id = reader.string();
                    break;
                  default:
                    reader.skipType(tag & 7);
                    break;
                }
              }
              return message;
            };
            Scenario.decodeDelimited = function decodeDelimited(reader) {
              if (!(reader instanceof $Reader)) reader = new $Reader(reader);
              return this.decode(reader, reader.uint32());
            };
            Scenario.verify = function verify(message) {
              if (typeof message !== "object" || message === null) return "object expected";
              if (message.location != null && message.hasOwnProperty("location")) {
                var error = $root.io.cucumber.messages.Location.verify(message.location);
                if (error) return "location." + error;
              }
              if (message.tags != null && message.hasOwnProperty("tags")) {
                if (!Array.isArray(message.tags)) return "tags: array expected";
                for (var i = 0; i < message.tags.length; ++i) {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.Tag.verify(message.tags[i]);
                  if (error) return "tags." + error;
                }
              }
              if (message.keyword != null && message.hasOwnProperty("keyword")) if (!$util.isString(message.keyword)) return "keyword: string expected";
              if (message.name != null && message.hasOwnProperty("name")) if (!$util.isString(message.name)) return "name: string expected";
              if (message.description != null && message.hasOwnProperty("description")) if (!$util.isString(message.description)) return "description: string expected";
              if (message.steps != null && message.hasOwnProperty("steps")) {
                if (!Array.isArray(message.steps)) return "steps: array expected";
                for (var i = 0; i < message.steps.length; ++i) {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.Step.verify(message.steps[i]);
                  if (error) return "steps." + error;
                }
              }
              if (message.examples != null && message.hasOwnProperty("examples")) {
                if (!Array.isArray(message.examples)) return "examples: array expected";
                for (var i = 0; i < message.examples.length; ++i) {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.verify(message.examples[i]);
                  if (error) return "examples." + error;
                }
              }
              if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
              return null;
            };
            Scenario.fromObject = function fromObject(object) {
              if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.Scenario) return object;
              var message = new $root.io.cucumber.messages.GherkinDocument.Feature.Scenario();
              if (object.location != null) {
                if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.location: object expected");
                message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
              }
              if (object.tags) {
                if (!Array.isArray(object.tags)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.tags: array expected");
                message.tags = [];
                for (var i = 0; i < object.tags.length; ++i) {
                  if (typeof object.tags[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.tags: object expected");
                  message.tags[i] = $root.io.cucumber.messages.GherkinDocument.Feature.Tag.fromObject(object.tags[i]);
                }
              }
              if (object.keyword != null) message.keyword = String(object.keyword);
              if (object.name != null) message.name = String(object.name);
              if (object.description != null) message.description = String(object.description);
              if (object.steps) {
                if (!Array.isArray(object.steps)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.steps: array expected");
                message.steps = [];
                for (var i = 0; i < object.steps.length; ++i) {
                  if (typeof object.steps[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.steps: object expected");
                  message.steps[i] = $root.io.cucumber.messages.GherkinDocument.Feature.Step.fromObject(object.steps[i]);
                }
              }
              if (object.examples) {
                if (!Array.isArray(object.examples)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.examples: array expected");
                message.examples = [];
                for (var i = 0; i < object.examples.length; ++i) {
                  if (typeof object.examples[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.examples: object expected");
                  message.examples[i] = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.fromObject(object.examples[i]);
                }
              }
              if (object.id != null) message.id = String(object.id);
              return message;
            };
            Scenario.toObject = function toObject(message, options) {
              if (!options) options = {};
              var object = {};
              if (options.arrays || options.defaults) {
                object.tags = [];
                object.steps = [];
                object.examples = [];
              }
              if (options.defaults) {
                object.location = null;
                object.keyword = "";
                object.name = "";
                object.description = "";
                object.id = "";
              }
              if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
              if (message.tags && message.tags.length) {
                object.tags = [];
                for (var j = 0; j < message.tags.length; ++j) object.tags[j] = $root.io.cucumber.messages.GherkinDocument.Feature.Tag.toObject(message.tags[j], options);
              }
              if (message.keyword != null && message.hasOwnProperty("keyword")) object.keyword = message.keyword;
              if (message.name != null && message.hasOwnProperty("name")) object.name = message.name;
              if (message.description != null && message.hasOwnProperty("description")) object.description = message.description;
              if (message.steps && message.steps.length) {
                object.steps = [];
                for (var j = 0; j < message.steps.length; ++j) object.steps[j] = $root.io.cucumber.messages.GherkinDocument.Feature.Step.toObject(message.steps[j], options);
              }
              if (message.examples && message.examples.length) {
                object.examples = [];
                for (var j = 0; j < message.examples.length; ++j) object.examples[j] = $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.toObject(message.examples[j], options);
              }
              if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
              return object;
            };
            Scenario.prototype.toJSON = function toJSON() {
              return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
            Scenario.Examples = function () {
              function Examples(properties) {
                this.tags = [];
                this.tableBody = [];
                if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
              }
              Examples.prototype.location = null;
              Examples.prototype.tags = $util.emptyArray;
              Examples.prototype.keyword = "";
              Examples.prototype.name = "";
              Examples.prototype.description = "";
              Examples.prototype.tableHeader = null;
              Examples.prototype.tableBody = $util.emptyArray;
              Examples.create = function create(properties) {
                return new Examples(properties);
              };
              Examples.encode = function encode(message, writer) {
                if (!writer) writer = $Writer.create();
                if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
                if (message.tags != null && message.tags.length) for (var i = 0; i < message.tags.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.Tag.encode(message.tags[i], writer.uint32(18).fork()).ldelim();
                if (message.keyword != null && message.hasOwnProperty("keyword")) writer.uint32(26).string(message.keyword);
                if (message.name != null && message.hasOwnProperty("name")) writer.uint32(34).string(message.name);
                if (message.description != null && message.hasOwnProperty("description")) writer.uint32(42).string(message.description);
                if (message.tableHeader != null && message.hasOwnProperty("tableHeader")) $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.encode(message.tableHeader, writer.uint32(50).fork()).ldelim();
                if (message.tableBody != null && message.tableBody.length) for (var i = 0; i < message.tableBody.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.encode(message.tableBody[i], writer.uint32(58).fork()).ldelim();
                return writer;
              };
              Examples.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
              };
              Examples.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length,
                  message = new $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples();
                while (reader.pos < end) {
                  var tag = reader.uint32();
                  switch (tag >>> 3) {
                    case 1:
                      message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                      break;
                    case 2:
                      if (!(message.tags && message.tags.length)) message.tags = [];
                      message.tags.push($root.io.cucumber.messages.GherkinDocument.Feature.Tag.decode(reader, reader.uint32()));
                      break;
                    case 3:
                      message.keyword = reader.string();
                      break;
                    case 4:
                      message.name = reader.string();
                      break;
                    case 5:
                      message.description = reader.string();
                      break;
                    case 6:
                      message.tableHeader = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.decode(reader, reader.uint32());
                      break;
                    case 7:
                      if (!(message.tableBody && message.tableBody.length)) message.tableBody = [];
                      message.tableBody.push($root.io.cucumber.messages.GherkinDocument.Feature.TableRow.decode(reader, reader.uint32()));
                      break;
                    default:
                      reader.skipType(tag & 7);
                      break;
                  }
                }
                return message;
              };
              Examples.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader)) reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
              };
              Examples.verify = function verify(message) {
                if (typeof message !== "object" || message === null) return "object expected";
                if (message.location != null && message.hasOwnProperty("location")) {
                  var error = $root.io.cucumber.messages.Location.verify(message.location);
                  if (error) return "location." + error;
                }
                if (message.tags != null && message.hasOwnProperty("tags")) {
                  if (!Array.isArray(message.tags)) return "tags: array expected";
                  for (var i = 0; i < message.tags.length; ++i) {
                    var error = $root.io.cucumber.messages.GherkinDocument.Feature.Tag.verify(message.tags[i]);
                    if (error) return "tags." + error;
                  }
                }
                if (message.keyword != null && message.hasOwnProperty("keyword")) if (!$util.isString(message.keyword)) return "keyword: string expected";
                if (message.name != null && message.hasOwnProperty("name")) if (!$util.isString(message.name)) return "name: string expected";
                if (message.description != null && message.hasOwnProperty("description")) if (!$util.isString(message.description)) return "description: string expected";
                if (message.tableHeader != null && message.hasOwnProperty("tableHeader")) {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.verify(message.tableHeader);
                  if (error) return "tableHeader." + error;
                }
                if (message.tableBody != null && message.hasOwnProperty("tableBody")) {
                  if (!Array.isArray(message.tableBody)) return "tableBody: array expected";
                  for (var i = 0; i < message.tableBody.length; ++i) {
                    var error = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.verify(message.tableBody[i]);
                    if (error) return "tableBody." + error;
                  }
                }
                return null;
              };
              Examples.fromObject = function fromObject(object) {
                if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples) return object;
                var message = new $root.io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples();
                if (object.location != null) {
                  if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.location: object expected");
                  message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
                }
                if (object.tags) {
                  if (!Array.isArray(object.tags)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.tags: array expected");
                  message.tags = [];
                  for (var i = 0; i < object.tags.length; ++i) {
                    if (typeof object.tags[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.tags: object expected");
                    message.tags[i] = $root.io.cucumber.messages.GherkinDocument.Feature.Tag.fromObject(object.tags[i]);
                  }
                }
                if (object.keyword != null) message.keyword = String(object.keyword);
                if (object.name != null) message.name = String(object.name);
                if (object.description != null) message.description = String(object.description);
                if (object.tableHeader != null) {
                  if (typeof object.tableHeader !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.tableHeader: object expected");
                  message.tableHeader = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.fromObject(object.tableHeader);
                }
                if (object.tableBody) {
                  if (!Array.isArray(object.tableBody)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.tableBody: array expected");
                  message.tableBody = [];
                  for (var i = 0; i < object.tableBody.length; ++i) {
                    if (typeof object.tableBody[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Scenario.Examples.tableBody: object expected");
                    message.tableBody[i] = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.fromObject(object.tableBody[i]);
                  }
                }
                return message;
              };
              Examples.toObject = function toObject(message, options) {
                if (!options) options = {};
                var object = {};
                if (options.arrays || options.defaults) {
                  object.tags = [];
                  object.tableBody = [];
                }
                if (options.defaults) {
                  object.location = null;
                  object.keyword = "";
                  object.name = "";
                  object.description = "";
                  object.tableHeader = null;
                }
                if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
                if (message.tags && message.tags.length) {
                  object.tags = [];
                  for (var j = 0; j < message.tags.length; ++j) object.tags[j] = $root.io.cucumber.messages.GherkinDocument.Feature.Tag.toObject(message.tags[j], options);
                }
                if (message.keyword != null && message.hasOwnProperty("keyword")) object.keyword = message.keyword;
                if (message.name != null && message.hasOwnProperty("name")) object.name = message.name;
                if (message.description != null && message.hasOwnProperty("description")) object.description = message.description;
                if (message.tableHeader != null && message.hasOwnProperty("tableHeader")) object.tableHeader = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.toObject(message.tableHeader, options);
                if (message.tableBody && message.tableBody.length) {
                  object.tableBody = [];
                  for (var j = 0; j < message.tableBody.length; ++j) object.tableBody[j] = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.toObject(message.tableBody[j], options);
                }
                return object;
              };
              Examples.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
              };
              return Examples;
            }();
            return Scenario;
          }();
          Feature.TableRow = function () {
            function TableRow(properties) {
              this.cells = [];
              if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
            }
            TableRow.prototype.location = null;
            TableRow.prototype.cells = $util.emptyArray;
            TableRow.prototype.id = "";
            TableRow.create = function create(properties) {
              return new TableRow(properties);
            };
            TableRow.encode = function encode(message, writer) {
              if (!writer) writer = $Writer.create();
              if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
              if (message.cells != null && message.cells.length) for (var i = 0; i < message.cells.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.TableCell.encode(message.cells[i], writer.uint32(18).fork()).ldelim();
              if (message.id != null && message.hasOwnProperty("id")) writer.uint32(26).string(message.id);
              return writer;
            };
            TableRow.encodeDelimited = function encodeDelimited(message, writer) {
              return this.encode(message, writer).ldelim();
            };
            TableRow.decode = function decode(reader, length) {
              if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
              var end = length === undefined ? reader.len : reader.pos + length,
                message = new $root.io.cucumber.messages.GherkinDocument.Feature.TableRow();
              while (reader.pos < end) {
                var tag = reader.uint32();
                switch (tag >>> 3) {
                  case 1:
                    message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                    break;
                  case 2:
                    if (!(message.cells && message.cells.length)) message.cells = [];
                    message.cells.push($root.io.cucumber.messages.GherkinDocument.Feature.TableRow.TableCell.decode(reader, reader.uint32()));
                    break;
                  case 3:
                    message.id = reader.string();
                    break;
                  default:
                    reader.skipType(tag & 7);
                    break;
                }
              }
              return message;
            };
            TableRow.decodeDelimited = function decodeDelimited(reader) {
              if (!(reader instanceof $Reader)) reader = new $Reader(reader);
              return this.decode(reader, reader.uint32());
            };
            TableRow.verify = function verify(message) {
              if (typeof message !== "object" || message === null) return "object expected";
              if (message.location != null && message.hasOwnProperty("location")) {
                var error = $root.io.cucumber.messages.Location.verify(message.location);
                if (error) return "location." + error;
              }
              if (message.cells != null && message.hasOwnProperty("cells")) {
                if (!Array.isArray(message.cells)) return "cells: array expected";
                for (var i = 0; i < message.cells.length; ++i) {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.TableCell.verify(message.cells[i]);
                  if (error) return "cells." + error;
                }
              }
              if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
              return null;
            };
            TableRow.fromObject = function fromObject(object) {
              if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.TableRow) return object;
              var message = new $root.io.cucumber.messages.GherkinDocument.Feature.TableRow();
              if (object.location != null) {
                if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.TableRow.location: object expected");
                message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
              }
              if (object.cells) {
                if (!Array.isArray(object.cells)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.TableRow.cells: array expected");
                message.cells = [];
                for (var i = 0; i < object.cells.length; ++i) {
                  if (typeof object.cells[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.TableRow.cells: object expected");
                  message.cells[i] = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.TableCell.fromObject(object.cells[i]);
                }
              }
              if (object.id != null) message.id = String(object.id);
              return message;
            };
            TableRow.toObject = function toObject(message, options) {
              if (!options) options = {};
              var object = {};
              if (options.arrays || options.defaults) object.cells = [];
              if (options.defaults) {
                object.location = null;
                object.id = "";
              }
              if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
              if (message.cells && message.cells.length) {
                object.cells = [];
                for (var j = 0; j < message.cells.length; ++j) object.cells[j] = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.TableCell.toObject(message.cells[j], options);
              }
              if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
              return object;
            };
            TableRow.prototype.toJSON = function toJSON() {
              return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
            TableRow.TableCell = function () {
              function TableCell(properties) {
                if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
              }
              TableCell.prototype.location = null;
              TableCell.prototype.value = "";
              TableCell.create = function create(properties) {
                return new TableCell(properties);
              };
              TableCell.encode = function encode(message, writer) {
                if (!writer) writer = $Writer.create();
                if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
                if (message.value != null && message.hasOwnProperty("value")) writer.uint32(18).string(message.value);
                return writer;
              };
              TableCell.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
              };
              TableCell.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length,
                  message = new $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.TableCell();
                while (reader.pos < end) {
                  var tag = reader.uint32();
                  switch (tag >>> 3) {
                    case 1:
                      message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                      break;
                    case 2:
                      message.value = reader.string();
                      break;
                    default:
                      reader.skipType(tag & 7);
                      break;
                  }
                }
                return message;
              };
              TableCell.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader)) reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
              };
              TableCell.verify = function verify(message) {
                if (typeof message !== "object" || message === null) return "object expected";
                if (message.location != null && message.hasOwnProperty("location")) {
                  var error = $root.io.cucumber.messages.Location.verify(message.location);
                  if (error) return "location." + error;
                }
                if (message.value != null && message.hasOwnProperty("value")) if (!$util.isString(message.value)) return "value: string expected";
                return null;
              };
              TableCell.fromObject = function fromObject(object) {
                if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.TableCell) return object;
                var message = new $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.TableCell();
                if (object.location != null) {
                  if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.TableRow.TableCell.location: object expected");
                  message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
                }
                if (object.value != null) message.value = String(object.value);
                return message;
              };
              TableCell.toObject = function toObject(message, options) {
                if (!options) options = {};
                var object = {};
                if (options.defaults) {
                  object.location = null;
                  object.value = "";
                }
                if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
                if (message.value != null && message.hasOwnProperty("value")) object.value = message.value;
                return object;
              };
              TableCell.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
              };
              return TableCell;
            }();
            return TableRow;
          }();
          Feature.Step = function () {
            function Step(properties) {
              if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
            }
            Step.prototype.location = null;
            Step.prototype.keyword = "";
            Step.prototype.text = "";
            Step.prototype.docString = null;
            Step.prototype.dataTable = null;
            Step.prototype.id = "";
            var $oneOfFields;
            Object.defineProperty(Step.prototype, "argument", {
              get: $util.oneOfGetter($oneOfFields = ["docString", "dataTable"]),
              set: $util.oneOfSetter($oneOfFields)
            });
            Step.create = function create(properties) {
              return new Step(properties);
            };
            Step.encode = function encode(message, writer) {
              if (!writer) writer = $Writer.create();
              if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
              if (message.keyword != null && message.hasOwnProperty("keyword")) writer.uint32(18).string(message.keyword);
              if (message.text != null && message.hasOwnProperty("text")) writer.uint32(26).string(message.text);
              if (message.docString != null && message.hasOwnProperty("docString")) $root.io.cucumber.messages.GherkinDocument.Feature.Step.DocString.encode(message.docString, writer.uint32(42).fork()).ldelim();
              if (message.dataTable != null && message.hasOwnProperty("dataTable")) $root.io.cucumber.messages.GherkinDocument.Feature.Step.DataTable.encode(message.dataTable, writer.uint32(50).fork()).ldelim();
              if (message.id != null && message.hasOwnProperty("id")) writer.uint32(58).string(message.id);
              return writer;
            };
            Step.encodeDelimited = function encodeDelimited(message, writer) {
              return this.encode(message, writer).ldelim();
            };
            Step.decode = function decode(reader, length) {
              if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
              var end = length === undefined ? reader.len : reader.pos + length,
                message = new $root.io.cucumber.messages.GherkinDocument.Feature.Step();
              while (reader.pos < end) {
                var tag = reader.uint32();
                switch (tag >>> 3) {
                  case 1:
                    message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                    break;
                  case 2:
                    message.keyword = reader.string();
                    break;
                  case 3:
                    message.text = reader.string();
                    break;
                  case 5:
                    message.docString = $root.io.cucumber.messages.GherkinDocument.Feature.Step.DocString.decode(reader, reader.uint32());
                    break;
                  case 6:
                    message.dataTable = $root.io.cucumber.messages.GherkinDocument.Feature.Step.DataTable.decode(reader, reader.uint32());
                    break;
                  case 7:
                    message.id = reader.string();
                    break;
                  default:
                    reader.skipType(tag & 7);
                    break;
                }
              }
              return message;
            };
            Step.decodeDelimited = function decodeDelimited(reader) {
              if (!(reader instanceof $Reader)) reader = new $Reader(reader);
              return this.decode(reader, reader.uint32());
            };
            Step.verify = function verify(message) {
              if (typeof message !== "object" || message === null) return "object expected";
              var properties = {};
              if (message.location != null && message.hasOwnProperty("location")) {
                var error = $root.io.cucumber.messages.Location.verify(message.location);
                if (error) return "location." + error;
              }
              if (message.keyword != null && message.hasOwnProperty("keyword")) if (!$util.isString(message.keyword)) return "keyword: string expected";
              if (message.text != null && message.hasOwnProperty("text")) if (!$util.isString(message.text)) return "text: string expected";
              if (message.docString != null && message.hasOwnProperty("docString")) {
                properties.argument = 1;
                {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.Step.DocString.verify(message.docString);
                  if (error) return "docString." + error;
                }
              }
              if (message.dataTable != null && message.hasOwnProperty("dataTable")) {
                if (properties.argument === 1) return "argument: multiple values";
                properties.argument = 1;
                {
                  var error = $root.io.cucumber.messages.GherkinDocument.Feature.Step.DataTable.verify(message.dataTable);
                  if (error) return "dataTable." + error;
                }
              }
              if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
              return null;
            };
            Step.fromObject = function fromObject(object) {
              if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.Step) return object;
              var message = new $root.io.cucumber.messages.GherkinDocument.Feature.Step();
              if (object.location != null) {
                if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Step.location: object expected");
                message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
              }
              if (object.keyword != null) message.keyword = String(object.keyword);
              if (object.text != null) message.text = String(object.text);
              if (object.docString != null) {
                if (typeof object.docString !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Step.docString: object expected");
                message.docString = $root.io.cucumber.messages.GherkinDocument.Feature.Step.DocString.fromObject(object.docString);
              }
              if (object.dataTable != null) {
                if (typeof object.dataTable !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Step.dataTable: object expected");
                message.dataTable = $root.io.cucumber.messages.GherkinDocument.Feature.Step.DataTable.fromObject(object.dataTable);
              }
              if (object.id != null) message.id = String(object.id);
              return message;
            };
            Step.toObject = function toObject(message, options) {
              if (!options) options = {};
              var object = {};
              if (options.defaults) {
                object.location = null;
                object.keyword = "";
                object.text = "";
                object.id = "";
              }
              if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
              if (message.keyword != null && message.hasOwnProperty("keyword")) object.keyword = message.keyword;
              if (message.text != null && message.hasOwnProperty("text")) object.text = message.text;
              if (message.docString != null && message.hasOwnProperty("docString")) {
                object.docString = $root.io.cucumber.messages.GherkinDocument.Feature.Step.DocString.toObject(message.docString, options);
                if (options.oneofs) object.argument = "docString";
              }
              if (message.dataTable != null && message.hasOwnProperty("dataTable")) {
                object.dataTable = $root.io.cucumber.messages.GherkinDocument.Feature.Step.DataTable.toObject(message.dataTable, options);
                if (options.oneofs) object.argument = "dataTable";
              }
              if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
              return object;
            };
            Step.prototype.toJSON = function toJSON() {
              return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
            Step.DataTable = function () {
              function DataTable(properties) {
                this.rows = [];
                if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
              }
              DataTable.prototype.location = null;
              DataTable.prototype.rows = $util.emptyArray;
              DataTable.create = function create(properties) {
                return new DataTable(properties);
              };
              DataTable.encode = function encode(message, writer) {
                if (!writer) writer = $Writer.create();
                if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
                if (message.rows != null && message.rows.length) for (var i = 0; i < message.rows.length; ++i) $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.encode(message.rows[i], writer.uint32(18).fork()).ldelim();
                return writer;
              };
              DataTable.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
              };
              DataTable.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length,
                  message = new $root.io.cucumber.messages.GherkinDocument.Feature.Step.DataTable();
                while (reader.pos < end) {
                  var tag = reader.uint32();
                  switch (tag >>> 3) {
                    case 1:
                      message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                      break;
                    case 2:
                      if (!(message.rows && message.rows.length)) message.rows = [];
                      message.rows.push($root.io.cucumber.messages.GherkinDocument.Feature.TableRow.decode(reader, reader.uint32()));
                      break;
                    default:
                      reader.skipType(tag & 7);
                      break;
                  }
                }
                return message;
              };
              DataTable.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader)) reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
              };
              DataTable.verify = function verify(message) {
                if (typeof message !== "object" || message === null) return "object expected";
                if (message.location != null && message.hasOwnProperty("location")) {
                  var error = $root.io.cucumber.messages.Location.verify(message.location);
                  if (error) return "location." + error;
                }
                if (message.rows != null && message.hasOwnProperty("rows")) {
                  if (!Array.isArray(message.rows)) return "rows: array expected";
                  for (var i = 0; i < message.rows.length; ++i) {
                    var error = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.verify(message.rows[i]);
                    if (error) return "rows." + error;
                  }
                }
                return null;
              };
              DataTable.fromObject = function fromObject(object) {
                if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.Step.DataTable) return object;
                var message = new $root.io.cucumber.messages.GherkinDocument.Feature.Step.DataTable();
                if (object.location != null) {
                  if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Step.DataTable.location: object expected");
                  message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
                }
                if (object.rows) {
                  if (!Array.isArray(object.rows)) throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Step.DataTable.rows: array expected");
                  message.rows = [];
                  for (var i = 0; i < object.rows.length; ++i) {
                    if (typeof object.rows[i] !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Step.DataTable.rows: object expected");
                    message.rows[i] = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.fromObject(object.rows[i]);
                  }
                }
                return message;
              };
              DataTable.toObject = function toObject(message, options) {
                if (!options) options = {};
                var object = {};
                if (options.arrays || options.defaults) object.rows = [];
                if (options.defaults) object.location = null;
                if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
                if (message.rows && message.rows.length) {
                  object.rows = [];
                  for (var j = 0; j < message.rows.length; ++j) object.rows[j] = $root.io.cucumber.messages.GherkinDocument.Feature.TableRow.toObject(message.rows[j], options);
                }
                return object;
              };
              DataTable.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
              };
              return DataTable;
            }();
            Step.DocString = function () {
              function DocString(properties) {
                if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
              }
              DocString.prototype.location = null;
              DocString.prototype.contentType = "";
              DocString.prototype.content = "";
              DocString.prototype.delimiter = "";
              DocString.create = function create(properties) {
                return new DocString(properties);
              };
              DocString.encode = function encode(message, writer) {
                if (!writer) writer = $Writer.create();
                if (message.location != null && message.hasOwnProperty("location")) $root.io.cucumber.messages.Location.encode(message.location, writer.uint32(10).fork()).ldelim();
                if (message.contentType != null && message.hasOwnProperty("contentType")) writer.uint32(18).string(message.contentType);
                if (message.content != null && message.hasOwnProperty("content")) writer.uint32(26).string(message.content);
                if (message.delimiter != null && message.hasOwnProperty("delimiter")) writer.uint32(34).string(message.delimiter);
                return writer;
              };
              DocString.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
              };
              DocString.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length,
                  message = new $root.io.cucumber.messages.GherkinDocument.Feature.Step.DocString();
                while (reader.pos < end) {
                  var tag = reader.uint32();
                  switch (tag >>> 3) {
                    case 1:
                      message.location = $root.io.cucumber.messages.Location.decode(reader, reader.uint32());
                      break;
                    case 2:
                      message.contentType = reader.string();
                      break;
                    case 3:
                      message.content = reader.string();
                      break;
                    case 4:
                      message.delimiter = reader.string();
                      break;
                    default:
                      reader.skipType(tag & 7);
                      break;
                  }
                }
                return message;
              };
              DocString.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader)) reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
              };
              DocString.verify = function verify(message) {
                if (typeof message !== "object" || message === null) return "object expected";
                if (message.location != null && message.hasOwnProperty("location")) {
                  var error = $root.io.cucumber.messages.Location.verify(message.location);
                  if (error) return "location." + error;
                }
                if (message.contentType != null && message.hasOwnProperty("contentType")) if (!$util.isString(message.contentType)) return "contentType: string expected";
                if (message.content != null && message.hasOwnProperty("content")) if (!$util.isString(message.content)) return "content: string expected";
                if (message.delimiter != null && message.hasOwnProperty("delimiter")) if (!$util.isString(message.delimiter)) return "delimiter: string expected";
                return null;
              };
              DocString.fromObject = function fromObject(object) {
                if (object instanceof $root.io.cucumber.messages.GherkinDocument.Feature.Step.DocString) return object;
                var message = new $root.io.cucumber.messages.GherkinDocument.Feature.Step.DocString();
                if (object.location != null) {
                  if (typeof object.location !== "object") throw TypeError(".io.cucumber.messages.GherkinDocument.Feature.Step.DocString.location: object expected");
                  message.location = $root.io.cucumber.messages.Location.fromObject(object.location);
                }
                if (object.contentType != null) message.contentType = String(object.contentType);
                if (object.content != null) message.content = String(object.content);
                if (object.delimiter != null) message.delimiter = String(object.delimiter);
                return message;
              };
              DocString.toObject = function toObject(message, options) {
                if (!options) options = {};
                var object = {};
                if (options.defaults) {
                  object.location = null;
                  object.contentType = "";
                  object.content = "";
                  object.delimiter = "";
                }
                if (message.location != null && message.hasOwnProperty("location")) object.location = $root.io.cucumber.messages.Location.toObject(message.location, options);
                if (message.contentType != null && message.hasOwnProperty("contentType")) object.contentType = message.contentType;
                if (message.content != null && message.hasOwnProperty("content")) object.content = message.content;
                if (message.delimiter != null && message.hasOwnProperty("delimiter")) object.delimiter = message.delimiter;
                return object;
              };
              DocString.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
              };
              return DocString;
            }();
            return Step;
          }();
          return Feature;
        }();
        return GherkinDocument;
      }();
      messages.Attachment = function () {
        function Attachment(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        Attachment.prototype.source = null;
        Attachment.prototype.data = "";
        Attachment.prototype.media = null;
        Attachment.prototype.testStepId = "";
        Attachment.prototype.testCaseStartedId = "";
        Attachment.create = function create(properties) {
          return new Attachment(properties);
        };
        Attachment.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.source != null && message.hasOwnProperty("source")) $root.io.cucumber.messages.SourceReference.encode(message.source, writer.uint32(10).fork()).ldelim();
          if (message.data != null && message.hasOwnProperty("data")) writer.uint32(18).string(message.data);
          if (message.media != null && message.hasOwnProperty("media")) $root.io.cucumber.messages.Media.encode(message.media, writer.uint32(26).fork()).ldelim();
          if (message.testStepId != null && message.hasOwnProperty("testStepId")) writer.uint32(34).string(message.testStepId);
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) writer.uint32(42).string(message.testCaseStartedId);
          return writer;
        };
        Attachment.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        Attachment.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.Attachment();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.source = $root.io.cucumber.messages.SourceReference.decode(reader, reader.uint32());
                break;
              case 2:
                message.data = reader.string();
                break;
              case 3:
                message.media = $root.io.cucumber.messages.Media.decode(reader, reader.uint32());
                break;
              case 4:
                message.testStepId = reader.string();
                break;
              case 5:
                message.testCaseStartedId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        Attachment.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        Attachment.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.source != null && message.hasOwnProperty("source")) {
            var error = $root.io.cucumber.messages.SourceReference.verify(message.source);
            if (error) return "source." + error;
          }
          if (message.data != null && message.hasOwnProperty("data")) if (!$util.isString(message.data)) return "data: string expected";
          if (message.media != null && message.hasOwnProperty("media")) {
            var error = $root.io.cucumber.messages.Media.verify(message.media);
            if (error) return "media." + error;
          }
          if (message.testStepId != null && message.hasOwnProperty("testStepId")) if (!$util.isString(message.testStepId)) return "testStepId: string expected";
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) if (!$util.isString(message.testCaseStartedId)) return "testCaseStartedId: string expected";
          return null;
        };
        Attachment.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.Attachment) return object;
          var message = new $root.io.cucumber.messages.Attachment();
          if (object.source != null) {
            if (typeof object.source !== "object") throw TypeError(".io.cucumber.messages.Attachment.source: object expected");
            message.source = $root.io.cucumber.messages.SourceReference.fromObject(object.source);
          }
          if (object.data != null) message.data = String(object.data);
          if (object.media != null) {
            if (typeof object.media !== "object") throw TypeError(".io.cucumber.messages.Attachment.media: object expected");
            message.media = $root.io.cucumber.messages.Media.fromObject(object.media);
          }
          if (object.testStepId != null) message.testStepId = String(object.testStepId);
          if (object.testCaseStartedId != null) message.testCaseStartedId = String(object.testCaseStartedId);
          return message;
        };
        Attachment.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.source = null;
            object.data = "";
            object.media = null;
            object.testStepId = "";
            object.testCaseStartedId = "";
          }
          if (message.source != null && message.hasOwnProperty("source")) object.source = $root.io.cucumber.messages.SourceReference.toObject(message.source, options);
          if (message.data != null && message.hasOwnProperty("data")) object.data = message.data;
          if (message.media != null && message.hasOwnProperty("media")) object.media = $root.io.cucumber.messages.Media.toObject(message.media, options);
          if (message.testStepId != null && message.hasOwnProperty("testStepId")) object.testStepId = message.testStepId;
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) object.testCaseStartedId = message.testCaseStartedId;
          return object;
        };
        Attachment.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return Attachment;
      }();
      messages.Pickle = function () {
        function Pickle(properties) {
          this.steps = [];
          this.tags = [];
          this.astNodeIds = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        Pickle.prototype.id = "";
        Pickle.prototype.uri = "";
        Pickle.prototype.name = "";
        Pickle.prototype.language = "";
        Pickle.prototype.steps = $util.emptyArray;
        Pickle.prototype.tags = $util.emptyArray;
        Pickle.prototype.astNodeIds = $util.emptyArray;
        Pickle.create = function create(properties) {
          return new Pickle(properties);
        };
        Pickle.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.id != null && message.hasOwnProperty("id")) writer.uint32(10).string(message.id);
          if (message.uri != null && message.hasOwnProperty("uri")) writer.uint32(18).string(message.uri);
          if (message.name != null && message.hasOwnProperty("name")) writer.uint32(26).string(message.name);
          if (message.language != null && message.hasOwnProperty("language")) writer.uint32(34).string(message.language);
          if (message.steps != null && message.steps.length) for (var i = 0; i < message.steps.length; ++i) $root.io.cucumber.messages.Pickle.PickleStep.encode(message.steps[i], writer.uint32(42).fork()).ldelim();
          if (message.tags != null && message.tags.length) for (var i = 0; i < message.tags.length; ++i) $root.io.cucumber.messages.Pickle.PickleTag.encode(message.tags[i], writer.uint32(50).fork()).ldelim();
          if (message.astNodeIds != null && message.astNodeIds.length) for (var i = 0; i < message.astNodeIds.length; ++i) writer.uint32(58).string(message.astNodeIds[i]);
          return writer;
        };
        Pickle.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        Pickle.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.Pickle();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.id = reader.string();
                break;
              case 2:
                message.uri = reader.string();
                break;
              case 3:
                message.name = reader.string();
                break;
              case 4:
                message.language = reader.string();
                break;
              case 5:
                if (!(message.steps && message.steps.length)) message.steps = [];
                message.steps.push($root.io.cucumber.messages.Pickle.PickleStep.decode(reader, reader.uint32()));
                break;
              case 6:
                if (!(message.tags && message.tags.length)) message.tags = [];
                message.tags.push($root.io.cucumber.messages.Pickle.PickleTag.decode(reader, reader.uint32()));
                break;
              case 7:
                if (!(message.astNodeIds && message.astNodeIds.length)) message.astNodeIds = [];
                message.astNodeIds.push(reader.string());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        Pickle.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        Pickle.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
          if (message.uri != null && message.hasOwnProperty("uri")) if (!$util.isString(message.uri)) return "uri: string expected";
          if (message.name != null && message.hasOwnProperty("name")) if (!$util.isString(message.name)) return "name: string expected";
          if (message.language != null && message.hasOwnProperty("language")) if (!$util.isString(message.language)) return "language: string expected";
          if (message.steps != null && message.hasOwnProperty("steps")) {
            if (!Array.isArray(message.steps)) return "steps: array expected";
            for (var i = 0; i < message.steps.length; ++i) {
              var error = $root.io.cucumber.messages.Pickle.PickleStep.verify(message.steps[i]);
              if (error) return "steps." + error;
            }
          }
          if (message.tags != null && message.hasOwnProperty("tags")) {
            if (!Array.isArray(message.tags)) return "tags: array expected";
            for (var i = 0; i < message.tags.length; ++i) {
              var error = $root.io.cucumber.messages.Pickle.PickleTag.verify(message.tags[i]);
              if (error) return "tags." + error;
            }
          }
          if (message.astNodeIds != null && message.hasOwnProperty("astNodeIds")) {
            if (!Array.isArray(message.astNodeIds)) return "astNodeIds: array expected";
            for (var i = 0; i < message.astNodeIds.length; ++i) if (!$util.isString(message.astNodeIds[i])) return "astNodeIds: string[] expected";
          }
          return null;
        };
        Pickle.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.Pickle) return object;
          var message = new $root.io.cucumber.messages.Pickle();
          if (object.id != null) message.id = String(object.id);
          if (object.uri != null) message.uri = String(object.uri);
          if (object.name != null) message.name = String(object.name);
          if (object.language != null) message.language = String(object.language);
          if (object.steps) {
            if (!Array.isArray(object.steps)) throw TypeError(".io.cucumber.messages.Pickle.steps: array expected");
            message.steps = [];
            for (var i = 0; i < object.steps.length; ++i) {
              if (typeof object.steps[i] !== "object") throw TypeError(".io.cucumber.messages.Pickle.steps: object expected");
              message.steps[i] = $root.io.cucumber.messages.Pickle.PickleStep.fromObject(object.steps[i]);
            }
          }
          if (object.tags) {
            if (!Array.isArray(object.tags)) throw TypeError(".io.cucumber.messages.Pickle.tags: array expected");
            message.tags = [];
            for (var i = 0; i < object.tags.length; ++i) {
              if (typeof object.tags[i] !== "object") throw TypeError(".io.cucumber.messages.Pickle.tags: object expected");
              message.tags[i] = $root.io.cucumber.messages.Pickle.PickleTag.fromObject(object.tags[i]);
            }
          }
          if (object.astNodeIds) {
            if (!Array.isArray(object.astNodeIds)) throw TypeError(".io.cucumber.messages.Pickle.astNodeIds: array expected");
            message.astNodeIds = [];
            for (var i = 0; i < object.astNodeIds.length; ++i) message.astNodeIds[i] = String(object.astNodeIds[i]);
          }
          return message;
        };
        Pickle.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) {
            object.steps = [];
            object.tags = [];
            object.astNodeIds = [];
          }
          if (options.defaults) {
            object.id = "";
            object.uri = "";
            object.name = "";
            object.language = "";
          }
          if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
          if (message.uri != null && message.hasOwnProperty("uri")) object.uri = message.uri;
          if (message.name != null && message.hasOwnProperty("name")) object.name = message.name;
          if (message.language != null && message.hasOwnProperty("language")) object.language = message.language;
          if (message.steps && message.steps.length) {
            object.steps = [];
            for (var j = 0; j < message.steps.length; ++j) object.steps[j] = $root.io.cucumber.messages.Pickle.PickleStep.toObject(message.steps[j], options);
          }
          if (message.tags && message.tags.length) {
            object.tags = [];
            for (var j = 0; j < message.tags.length; ++j) object.tags[j] = $root.io.cucumber.messages.Pickle.PickleTag.toObject(message.tags[j], options);
          }
          if (message.astNodeIds && message.astNodeIds.length) {
            object.astNodeIds = [];
            for (var j = 0; j < message.astNodeIds.length; ++j) object.astNodeIds[j] = message.astNodeIds[j];
          }
          return object;
        };
        Pickle.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        Pickle.PickleTag = function () {
          function PickleTag(properties) {
            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
          }
          PickleTag.prototype.name = "";
          PickleTag.prototype.astNodeId = "";
          PickleTag.create = function create(properties) {
            return new PickleTag(properties);
          };
          PickleTag.encode = function encode(message, writer) {
            if (!writer) writer = $Writer.create();
            if (message.name != null && message.hasOwnProperty("name")) writer.uint32(10).string(message.name);
            if (message.astNodeId != null && message.hasOwnProperty("astNodeId")) writer.uint32(18).string(message.astNodeId);
            return writer;
          };
          PickleTag.encodeDelimited = function encodeDelimited(message, writer) {
            return this.encode(message, writer).ldelim();
          };
          PickleTag.decode = function decode(reader, length) {
            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
            var end = length === undefined ? reader.len : reader.pos + length,
              message = new $root.io.cucumber.messages.Pickle.PickleTag();
            while (reader.pos < end) {
              var tag = reader.uint32();
              switch (tag >>> 3) {
                case 1:
                  message.name = reader.string();
                  break;
                case 2:
                  message.astNodeId = reader.string();
                  break;
                default:
                  reader.skipType(tag & 7);
                  break;
              }
            }
            return message;
          };
          PickleTag.decodeDelimited = function decodeDelimited(reader) {
            if (!(reader instanceof $Reader)) reader = new $Reader(reader);
            return this.decode(reader, reader.uint32());
          };
          PickleTag.verify = function verify(message) {
            if (typeof message !== "object" || message === null) return "object expected";
            if (message.name != null && message.hasOwnProperty("name")) if (!$util.isString(message.name)) return "name: string expected";
            if (message.astNodeId != null && message.hasOwnProperty("astNodeId")) if (!$util.isString(message.astNodeId)) return "astNodeId: string expected";
            return null;
          };
          PickleTag.fromObject = function fromObject(object) {
            if (object instanceof $root.io.cucumber.messages.Pickle.PickleTag) return object;
            var message = new $root.io.cucumber.messages.Pickle.PickleTag();
            if (object.name != null) message.name = String(object.name);
            if (object.astNodeId != null) message.astNodeId = String(object.astNodeId);
            return message;
          };
          PickleTag.toObject = function toObject(message, options) {
            if (!options) options = {};
            var object = {};
            if (options.defaults) {
              object.name = "";
              object.astNodeId = "";
            }
            if (message.name != null && message.hasOwnProperty("name")) object.name = message.name;
            if (message.astNodeId != null && message.hasOwnProperty("astNodeId")) object.astNodeId = message.astNodeId;
            return object;
          };
          PickleTag.prototype.toJSON = function toJSON() {
            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
          };
          return PickleTag;
        }();
        Pickle.PickleStep = function () {
          function PickleStep(properties) {
            this.astNodeIds = [];
            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
          }
          PickleStep.prototype.text = "";
          PickleStep.prototype.argument = null;
          PickleStep.prototype.id = "";
          PickleStep.prototype.astNodeIds = $util.emptyArray;
          PickleStep.create = function create(properties) {
            return new PickleStep(properties);
          };
          PickleStep.encode = function encode(message, writer) {
            if (!writer) writer = $Writer.create();
            if (message.text != null && message.hasOwnProperty("text")) writer.uint32(10).string(message.text);
            if (message.argument != null && message.hasOwnProperty("argument")) $root.io.cucumber.messages.PickleStepArgument.encode(message.argument, writer.uint32(18).fork()).ldelim();
            if (message.id != null && message.hasOwnProperty("id")) writer.uint32(26).string(message.id);
            if (message.astNodeIds != null && message.astNodeIds.length) for (var i = 0; i < message.astNodeIds.length; ++i) writer.uint32(34).string(message.astNodeIds[i]);
            return writer;
          };
          PickleStep.encodeDelimited = function encodeDelimited(message, writer) {
            return this.encode(message, writer).ldelim();
          };
          PickleStep.decode = function decode(reader, length) {
            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
            var end = length === undefined ? reader.len : reader.pos + length,
              message = new $root.io.cucumber.messages.Pickle.PickleStep();
            while (reader.pos < end) {
              var tag = reader.uint32();
              switch (tag >>> 3) {
                case 1:
                  message.text = reader.string();
                  break;
                case 2:
                  message.argument = $root.io.cucumber.messages.PickleStepArgument.decode(reader, reader.uint32());
                  break;
                case 3:
                  message.id = reader.string();
                  break;
                case 4:
                  if (!(message.astNodeIds && message.astNodeIds.length)) message.astNodeIds = [];
                  message.astNodeIds.push(reader.string());
                  break;
                default:
                  reader.skipType(tag & 7);
                  break;
              }
            }
            return message;
          };
          PickleStep.decodeDelimited = function decodeDelimited(reader) {
            if (!(reader instanceof $Reader)) reader = new $Reader(reader);
            return this.decode(reader, reader.uint32());
          };
          PickleStep.verify = function verify(message) {
            if (typeof message !== "object" || message === null) return "object expected";
            if (message.text != null && message.hasOwnProperty("text")) if (!$util.isString(message.text)) return "text: string expected";
            if (message.argument != null && message.hasOwnProperty("argument")) {
              var error = $root.io.cucumber.messages.PickleStepArgument.verify(message.argument);
              if (error) return "argument." + error;
            }
            if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
            if (message.astNodeIds != null && message.hasOwnProperty("astNodeIds")) {
              if (!Array.isArray(message.astNodeIds)) return "astNodeIds: array expected";
              for (var i = 0; i < message.astNodeIds.length; ++i) if (!$util.isString(message.astNodeIds[i])) return "astNodeIds: string[] expected";
            }
            return null;
          };
          PickleStep.fromObject = function fromObject(object) {
            if (object instanceof $root.io.cucumber.messages.Pickle.PickleStep) return object;
            var message = new $root.io.cucumber.messages.Pickle.PickleStep();
            if (object.text != null) message.text = String(object.text);
            if (object.argument != null) {
              if (typeof object.argument !== "object") throw TypeError(".io.cucumber.messages.Pickle.PickleStep.argument: object expected");
              message.argument = $root.io.cucumber.messages.PickleStepArgument.fromObject(object.argument);
            }
            if (object.id != null) message.id = String(object.id);
            if (object.astNodeIds) {
              if (!Array.isArray(object.astNodeIds)) throw TypeError(".io.cucumber.messages.Pickle.PickleStep.astNodeIds: array expected");
              message.astNodeIds = [];
              for (var i = 0; i < object.astNodeIds.length; ++i) message.astNodeIds[i] = String(object.astNodeIds[i]);
            }
            return message;
          };
          PickleStep.toObject = function toObject(message, options) {
            if (!options) options = {};
            var object = {};
            if (options.arrays || options.defaults) object.astNodeIds = [];
            if (options.defaults) {
              object.text = "";
              object.argument = null;
              object.id = "";
            }
            if (message.text != null && message.hasOwnProperty("text")) object.text = message.text;
            if (message.argument != null && message.hasOwnProperty("argument")) object.argument = $root.io.cucumber.messages.PickleStepArgument.toObject(message.argument, options);
            if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
            if (message.astNodeIds && message.astNodeIds.length) {
              object.astNodeIds = [];
              for (var j = 0; j < message.astNodeIds.length; ++j) object.astNodeIds[j] = message.astNodeIds[j];
            }
            return object;
          };
          PickleStep.prototype.toJSON = function toJSON() {
            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
          };
          return PickleStep;
        }();
        return Pickle;
      }();
      messages.PickleStepArgument = function () {
        function PickleStepArgument(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        PickleStepArgument.prototype.docString = null;
        PickleStepArgument.prototype.dataTable = null;
        var $oneOfFields;
        Object.defineProperty(PickleStepArgument.prototype, "message", {
          get: $util.oneOfGetter($oneOfFields = ["docString", "dataTable"]),
          set: $util.oneOfSetter($oneOfFields)
        });
        PickleStepArgument.create = function create(properties) {
          return new PickleStepArgument(properties);
        };
        PickleStepArgument.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.docString != null && message.hasOwnProperty("docString")) $root.io.cucumber.messages.PickleStepArgument.PickleDocString.encode(message.docString, writer.uint32(10).fork()).ldelim();
          if (message.dataTable != null && message.hasOwnProperty("dataTable")) $root.io.cucumber.messages.PickleStepArgument.PickleTable.encode(message.dataTable, writer.uint32(18).fork()).ldelim();
          return writer;
        };
        PickleStepArgument.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        PickleStepArgument.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.PickleStepArgument();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.docString = $root.io.cucumber.messages.PickleStepArgument.PickleDocString.decode(reader, reader.uint32());
                break;
              case 2:
                message.dataTable = $root.io.cucumber.messages.PickleStepArgument.PickleTable.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        PickleStepArgument.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        PickleStepArgument.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          var properties = {};
          if (message.docString != null && message.hasOwnProperty("docString")) {
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.PickleStepArgument.PickleDocString.verify(message.docString);
              if (error) return "docString." + error;
            }
          }
          if (message.dataTable != null && message.hasOwnProperty("dataTable")) {
            if (properties.message === 1) return "message: multiple values";
            properties.message = 1;
            {
              var error = $root.io.cucumber.messages.PickleStepArgument.PickleTable.verify(message.dataTable);
              if (error) return "dataTable." + error;
            }
          }
          return null;
        };
        PickleStepArgument.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.PickleStepArgument) return object;
          var message = new $root.io.cucumber.messages.PickleStepArgument();
          if (object.docString != null) {
            if (typeof object.docString !== "object") throw TypeError(".io.cucumber.messages.PickleStepArgument.docString: object expected");
            message.docString = $root.io.cucumber.messages.PickleStepArgument.PickleDocString.fromObject(object.docString);
          }
          if (object.dataTable != null) {
            if (typeof object.dataTable !== "object") throw TypeError(".io.cucumber.messages.PickleStepArgument.dataTable: object expected");
            message.dataTable = $root.io.cucumber.messages.PickleStepArgument.PickleTable.fromObject(object.dataTable);
          }
          return message;
        };
        PickleStepArgument.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (message.docString != null && message.hasOwnProperty("docString")) {
            object.docString = $root.io.cucumber.messages.PickleStepArgument.PickleDocString.toObject(message.docString, options);
            if (options.oneofs) object.message = "docString";
          }
          if (message.dataTable != null && message.hasOwnProperty("dataTable")) {
            object.dataTable = $root.io.cucumber.messages.PickleStepArgument.PickleTable.toObject(message.dataTable, options);
            if (options.oneofs) object.message = "dataTable";
          }
          return object;
        };
        PickleStepArgument.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        PickleStepArgument.PickleDocString = function () {
          function PickleDocString(properties) {
            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
          }
          PickleDocString.prototype.contentType = "";
          PickleDocString.prototype.content = "";
          PickleDocString.create = function create(properties) {
            return new PickleDocString(properties);
          };
          PickleDocString.encode = function encode(message, writer) {
            if (!writer) writer = $Writer.create();
            if (message.contentType != null && message.hasOwnProperty("contentType")) writer.uint32(10).string(message.contentType);
            if (message.content != null && message.hasOwnProperty("content")) writer.uint32(18).string(message.content);
            return writer;
          };
          PickleDocString.encodeDelimited = function encodeDelimited(message, writer) {
            return this.encode(message, writer).ldelim();
          };
          PickleDocString.decode = function decode(reader, length) {
            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
            var end = length === undefined ? reader.len : reader.pos + length,
              message = new $root.io.cucumber.messages.PickleStepArgument.PickleDocString();
            while (reader.pos < end) {
              var tag = reader.uint32();
              switch (tag >>> 3) {
                case 1:
                  message.contentType = reader.string();
                  break;
                case 2:
                  message.content = reader.string();
                  break;
                default:
                  reader.skipType(tag & 7);
                  break;
              }
            }
            return message;
          };
          PickleDocString.decodeDelimited = function decodeDelimited(reader) {
            if (!(reader instanceof $Reader)) reader = new $Reader(reader);
            return this.decode(reader, reader.uint32());
          };
          PickleDocString.verify = function verify(message) {
            if (typeof message !== "object" || message === null) return "object expected";
            if (message.contentType != null && message.hasOwnProperty("contentType")) if (!$util.isString(message.contentType)) return "contentType: string expected";
            if (message.content != null && message.hasOwnProperty("content")) if (!$util.isString(message.content)) return "content: string expected";
            return null;
          };
          PickleDocString.fromObject = function fromObject(object) {
            if (object instanceof $root.io.cucumber.messages.PickleStepArgument.PickleDocString) return object;
            var message = new $root.io.cucumber.messages.PickleStepArgument.PickleDocString();
            if (object.contentType != null) message.contentType = String(object.contentType);
            if (object.content != null) message.content = String(object.content);
            return message;
          };
          PickleDocString.toObject = function toObject(message, options) {
            if (!options) options = {};
            var object = {};
            if (options.defaults) {
              object.contentType = "";
              object.content = "";
            }
            if (message.contentType != null && message.hasOwnProperty("contentType")) object.contentType = message.contentType;
            if (message.content != null && message.hasOwnProperty("content")) object.content = message.content;
            return object;
          };
          PickleDocString.prototype.toJSON = function toJSON() {
            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
          };
          return PickleDocString;
        }();
        PickleStepArgument.PickleTable = function () {
          function PickleTable(properties) {
            this.rows = [];
            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
          }
          PickleTable.prototype.rows = $util.emptyArray;
          PickleTable.create = function create(properties) {
            return new PickleTable(properties);
          };
          PickleTable.encode = function encode(message, writer) {
            if (!writer) writer = $Writer.create();
            if (message.rows != null && message.rows.length) for (var i = 0; i < message.rows.length; ++i) $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.encode(message.rows[i], writer.uint32(10).fork()).ldelim();
            return writer;
          };
          PickleTable.encodeDelimited = function encodeDelimited(message, writer) {
            return this.encode(message, writer).ldelim();
          };
          PickleTable.decode = function decode(reader, length) {
            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
            var end = length === undefined ? reader.len : reader.pos + length,
              message = new $root.io.cucumber.messages.PickleStepArgument.PickleTable();
            while (reader.pos < end) {
              var tag = reader.uint32();
              switch (tag >>> 3) {
                case 1:
                  if (!(message.rows && message.rows.length)) message.rows = [];
                  message.rows.push($root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.decode(reader, reader.uint32()));
                  break;
                default:
                  reader.skipType(tag & 7);
                  break;
              }
            }
            return message;
          };
          PickleTable.decodeDelimited = function decodeDelimited(reader) {
            if (!(reader instanceof $Reader)) reader = new $Reader(reader);
            return this.decode(reader, reader.uint32());
          };
          PickleTable.verify = function verify(message) {
            if (typeof message !== "object" || message === null) return "object expected";
            if (message.rows != null && message.hasOwnProperty("rows")) {
              if (!Array.isArray(message.rows)) return "rows: array expected";
              for (var i = 0; i < message.rows.length; ++i) {
                var error = $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.verify(message.rows[i]);
                if (error) return "rows." + error;
              }
            }
            return null;
          };
          PickleTable.fromObject = function fromObject(object) {
            if (object instanceof $root.io.cucumber.messages.PickleStepArgument.PickleTable) return object;
            var message = new $root.io.cucumber.messages.PickleStepArgument.PickleTable();
            if (object.rows) {
              if (!Array.isArray(object.rows)) throw TypeError(".io.cucumber.messages.PickleStepArgument.PickleTable.rows: array expected");
              message.rows = [];
              for (var i = 0; i < object.rows.length; ++i) {
                if (typeof object.rows[i] !== "object") throw TypeError(".io.cucumber.messages.PickleStepArgument.PickleTable.rows: object expected");
                message.rows[i] = $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.fromObject(object.rows[i]);
              }
            }
            return message;
          };
          PickleTable.toObject = function toObject(message, options) {
            if (!options) options = {};
            var object = {};
            if (options.arrays || options.defaults) object.rows = [];
            if (message.rows && message.rows.length) {
              object.rows = [];
              for (var j = 0; j < message.rows.length; ++j) object.rows[j] = $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.toObject(message.rows[j], options);
            }
            return object;
          };
          PickleTable.prototype.toJSON = function toJSON() {
            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
          };
          PickleTable.PickleTableRow = function () {
            function PickleTableRow(properties) {
              this.cells = [];
              if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
            }
            PickleTableRow.prototype.cells = $util.emptyArray;
            PickleTableRow.create = function create(properties) {
              return new PickleTableRow(properties);
            };
            PickleTableRow.encode = function encode(message, writer) {
              if (!writer) writer = $Writer.create();
              if (message.cells != null && message.cells.length) for (var i = 0; i < message.cells.length; ++i) $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.PickleTableCell.encode(message.cells[i], writer.uint32(10).fork()).ldelim();
              return writer;
            };
            PickleTableRow.encodeDelimited = function encodeDelimited(message, writer) {
              return this.encode(message, writer).ldelim();
            };
            PickleTableRow.decode = function decode(reader, length) {
              if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
              var end = length === undefined ? reader.len : reader.pos + length,
                message = new $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow();
              while (reader.pos < end) {
                var tag = reader.uint32();
                switch (tag >>> 3) {
                  case 1:
                    if (!(message.cells && message.cells.length)) message.cells = [];
                    message.cells.push($root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.PickleTableCell.decode(reader, reader.uint32()));
                    break;
                  default:
                    reader.skipType(tag & 7);
                    break;
                }
              }
              return message;
            };
            PickleTableRow.decodeDelimited = function decodeDelimited(reader) {
              if (!(reader instanceof $Reader)) reader = new $Reader(reader);
              return this.decode(reader, reader.uint32());
            };
            PickleTableRow.verify = function verify(message) {
              if (typeof message !== "object" || message === null) return "object expected";
              if (message.cells != null && message.hasOwnProperty("cells")) {
                if (!Array.isArray(message.cells)) return "cells: array expected";
                for (var i = 0; i < message.cells.length; ++i) {
                  var error = $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.PickleTableCell.verify(message.cells[i]);
                  if (error) return "cells." + error;
                }
              }
              return null;
            };
            PickleTableRow.fromObject = function fromObject(object) {
              if (object instanceof $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow) return object;
              var message = new $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow();
              if (object.cells) {
                if (!Array.isArray(object.cells)) throw TypeError(".io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.cells: array expected");
                message.cells = [];
                for (var i = 0; i < object.cells.length; ++i) {
                  if (typeof object.cells[i] !== "object") throw TypeError(".io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.cells: object expected");
                  message.cells[i] = $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.PickleTableCell.fromObject(object.cells[i]);
                }
              }
              return message;
            };
            PickleTableRow.toObject = function toObject(message, options) {
              if (!options) options = {};
              var object = {};
              if (options.arrays || options.defaults) object.cells = [];
              if (message.cells && message.cells.length) {
                object.cells = [];
                for (var j = 0; j < message.cells.length; ++j) object.cells[j] = $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.PickleTableCell.toObject(message.cells[j], options);
              }
              return object;
            };
            PickleTableRow.prototype.toJSON = function toJSON() {
              return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
            PickleTableRow.PickleTableCell = function () {
              function PickleTableCell(properties) {
                if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
              }
              PickleTableCell.prototype.value = "";
              PickleTableCell.create = function create(properties) {
                return new PickleTableCell(properties);
              };
              PickleTableCell.encode = function encode(message, writer) {
                if (!writer) writer = $Writer.create();
                if (message.value != null && message.hasOwnProperty("value")) writer.uint32(10).string(message.value);
                return writer;
              };
              PickleTableCell.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
              };
              PickleTableCell.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length,
                  message = new $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.PickleTableCell();
                while (reader.pos < end) {
                  var tag = reader.uint32();
                  switch (tag >>> 3) {
                    case 1:
                      message.value = reader.string();
                      break;
                    default:
                      reader.skipType(tag & 7);
                      break;
                  }
                }
                return message;
              };
              PickleTableCell.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader)) reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
              };
              PickleTableCell.verify = function verify(message) {
                if (typeof message !== "object" || message === null) return "object expected";
                if (message.value != null && message.hasOwnProperty("value")) if (!$util.isString(message.value)) return "value: string expected";
                return null;
              };
              PickleTableCell.fromObject = function fromObject(object) {
                if (object instanceof $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.PickleTableCell) return object;
                var message = new $root.io.cucumber.messages.PickleStepArgument.PickleTable.PickleTableRow.PickleTableCell();
                if (object.value != null) message.value = String(object.value);
                return message;
              };
              PickleTableCell.toObject = function toObject(message, options) {
                if (!options) options = {};
                var object = {};
                if (options.defaults) object.value = "";
                if (message.value != null && message.hasOwnProperty("value")) object.value = message.value;
                return object;
              };
              PickleTableCell.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
              };
              return PickleTableCell;
            }();
            return PickleTableRow;
          }();
          return PickleTable;
        }();
        return PickleStepArgument;
      }();
      messages.TestCase = function () {
        function TestCase(properties) {
          this.testSteps = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestCase.prototype.id = "";
        TestCase.prototype.pickleId = "";
        TestCase.prototype.testSteps = $util.emptyArray;
        TestCase.create = function create(properties) {
          return new TestCase(properties);
        };
        TestCase.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.id != null && message.hasOwnProperty("id")) writer.uint32(10).string(message.id);
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) writer.uint32(18).string(message.pickleId);
          if (message.testSteps != null && message.testSteps.length) for (var i = 0; i < message.testSteps.length; ++i) $root.io.cucumber.messages.TestCase.TestStep.encode(message.testSteps[i], writer.uint32(26).fork()).ldelim();
          return writer;
        };
        TestCase.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestCase.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestCase();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.id = reader.string();
                break;
              case 2:
                message.pickleId = reader.string();
                break;
              case 3:
                if (!(message.testSteps && message.testSteps.length)) message.testSteps = [];
                message.testSteps.push($root.io.cucumber.messages.TestCase.TestStep.decode(reader, reader.uint32()));
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestCase.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestCase.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) if (!$util.isString(message.pickleId)) return "pickleId: string expected";
          if (message.testSteps != null && message.hasOwnProperty("testSteps")) {
            if (!Array.isArray(message.testSteps)) return "testSteps: array expected";
            for (var i = 0; i < message.testSteps.length; ++i) {
              var error = $root.io.cucumber.messages.TestCase.TestStep.verify(message.testSteps[i]);
              if (error) return "testSteps." + error;
            }
          }
          return null;
        };
        TestCase.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestCase) return object;
          var message = new $root.io.cucumber.messages.TestCase();
          if (object.id != null) message.id = String(object.id);
          if (object.pickleId != null) message.pickleId = String(object.pickleId);
          if (object.testSteps) {
            if (!Array.isArray(object.testSteps)) throw TypeError(".io.cucumber.messages.TestCase.testSteps: array expected");
            message.testSteps = [];
            for (var i = 0; i < object.testSteps.length; ++i) {
              if (typeof object.testSteps[i] !== "object") throw TypeError(".io.cucumber.messages.TestCase.testSteps: object expected");
              message.testSteps[i] = $root.io.cucumber.messages.TestCase.TestStep.fromObject(object.testSteps[i]);
            }
          }
          return message;
        };
        TestCase.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) object.testSteps = [];
          if (options.defaults) {
            object.id = "";
            object.pickleId = "";
          }
          if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) object.pickleId = message.pickleId;
          if (message.testSteps && message.testSteps.length) {
            object.testSteps = [];
            for (var j = 0; j < message.testSteps.length; ++j) object.testSteps[j] = $root.io.cucumber.messages.TestCase.TestStep.toObject(message.testSteps[j], options);
          }
          return object;
        };
        TestCase.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        TestCase.TestStep = function () {
          function TestStep(properties) {
            this.stepDefinitionIds = [];
            this.stepMatchArguments = [];
            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
          }
          TestStep.prototype.id = "";
          TestStep.prototype.pickleStepId = "";
          TestStep.prototype.stepDefinitionIds = $util.emptyArray;
          TestStep.prototype.stepMatchArguments = $util.emptyArray;
          TestStep.prototype.hookId = "";
          TestStep.create = function create(properties) {
            return new TestStep(properties);
          };
          TestStep.encode = function encode(message, writer) {
            if (!writer) writer = $Writer.create();
            if (message.id != null && message.hasOwnProperty("id")) writer.uint32(10).string(message.id);
            if (message.pickleStepId != null && message.hasOwnProperty("pickleStepId")) writer.uint32(18).string(message.pickleStepId);
            if (message.stepDefinitionIds != null && message.stepDefinitionIds.length) for (var i = 0; i < message.stepDefinitionIds.length; ++i) writer.uint32(26).string(message.stepDefinitionIds[i]);
            if (message.stepMatchArguments != null && message.stepMatchArguments.length) for (var i = 0; i < message.stepMatchArguments.length; ++i) $root.io.cucumber.messages.StepMatchArgument.encode(message.stepMatchArguments[i], writer.uint32(34).fork()).ldelim();
            if (message.hookId != null && message.hasOwnProperty("hookId")) writer.uint32(42).string(message.hookId);
            return writer;
          };
          TestStep.encodeDelimited = function encodeDelimited(message, writer) {
            return this.encode(message, writer).ldelim();
          };
          TestStep.decode = function decode(reader, length) {
            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
            var end = length === undefined ? reader.len : reader.pos + length,
              message = new $root.io.cucumber.messages.TestCase.TestStep();
            while (reader.pos < end) {
              var tag = reader.uint32();
              switch (tag >>> 3) {
                case 1:
                  message.id = reader.string();
                  break;
                case 2:
                  message.pickleStepId = reader.string();
                  break;
                case 3:
                  if (!(message.stepDefinitionIds && message.stepDefinitionIds.length)) message.stepDefinitionIds = [];
                  message.stepDefinitionIds.push(reader.string());
                  break;
                case 4:
                  if (!(message.stepMatchArguments && message.stepMatchArguments.length)) message.stepMatchArguments = [];
                  message.stepMatchArguments.push($root.io.cucumber.messages.StepMatchArgument.decode(reader, reader.uint32()));
                  break;
                case 5:
                  message.hookId = reader.string();
                  break;
                default:
                  reader.skipType(tag & 7);
                  break;
              }
            }
            return message;
          };
          TestStep.decodeDelimited = function decodeDelimited(reader) {
            if (!(reader instanceof $Reader)) reader = new $Reader(reader);
            return this.decode(reader, reader.uint32());
          };
          TestStep.verify = function verify(message) {
            if (typeof message !== "object" || message === null) return "object expected";
            if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
            if (message.pickleStepId != null && message.hasOwnProperty("pickleStepId")) if (!$util.isString(message.pickleStepId)) return "pickleStepId: string expected";
            if (message.stepDefinitionIds != null && message.hasOwnProperty("stepDefinitionIds")) {
              if (!Array.isArray(message.stepDefinitionIds)) return "stepDefinitionIds: array expected";
              for (var i = 0; i < message.stepDefinitionIds.length; ++i) if (!$util.isString(message.stepDefinitionIds[i])) return "stepDefinitionIds: string[] expected";
            }
            if (message.stepMatchArguments != null && message.hasOwnProperty("stepMatchArguments")) {
              if (!Array.isArray(message.stepMatchArguments)) return "stepMatchArguments: array expected";
              for (var i = 0; i < message.stepMatchArguments.length; ++i) {
                var error = $root.io.cucumber.messages.StepMatchArgument.verify(message.stepMatchArguments[i]);
                if (error) return "stepMatchArguments." + error;
              }
            }
            if (message.hookId != null && message.hasOwnProperty("hookId")) if (!$util.isString(message.hookId)) return "hookId: string expected";
            return null;
          };
          TestStep.fromObject = function fromObject(object) {
            if (object instanceof $root.io.cucumber.messages.TestCase.TestStep) return object;
            var message = new $root.io.cucumber.messages.TestCase.TestStep();
            if (object.id != null) message.id = String(object.id);
            if (object.pickleStepId != null) message.pickleStepId = String(object.pickleStepId);
            if (object.stepDefinitionIds) {
              if (!Array.isArray(object.stepDefinitionIds)) throw TypeError(".io.cucumber.messages.TestCase.TestStep.stepDefinitionIds: array expected");
              message.stepDefinitionIds = [];
              for (var i = 0; i < object.stepDefinitionIds.length; ++i) message.stepDefinitionIds[i] = String(object.stepDefinitionIds[i]);
            }
            if (object.stepMatchArguments) {
              if (!Array.isArray(object.stepMatchArguments)) throw TypeError(".io.cucumber.messages.TestCase.TestStep.stepMatchArguments: array expected");
              message.stepMatchArguments = [];
              for (var i = 0; i < object.stepMatchArguments.length; ++i) {
                if (typeof object.stepMatchArguments[i] !== "object") throw TypeError(".io.cucumber.messages.TestCase.TestStep.stepMatchArguments: object expected");
                message.stepMatchArguments[i] = $root.io.cucumber.messages.StepMatchArgument.fromObject(object.stepMatchArguments[i]);
              }
            }
            if (object.hookId != null) message.hookId = String(object.hookId);
            return message;
          };
          TestStep.toObject = function toObject(message, options) {
            if (!options) options = {};
            var object = {};
            if (options.arrays || options.defaults) {
              object.stepDefinitionIds = [];
              object.stepMatchArguments = [];
            }
            if (options.defaults) {
              object.id = "";
              object.pickleStepId = "";
              object.hookId = "";
            }
            if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
            if (message.pickleStepId != null && message.hasOwnProperty("pickleStepId")) object.pickleStepId = message.pickleStepId;
            if (message.stepDefinitionIds && message.stepDefinitionIds.length) {
              object.stepDefinitionIds = [];
              for (var j = 0; j < message.stepDefinitionIds.length; ++j) object.stepDefinitionIds[j] = message.stepDefinitionIds[j];
            }
            if (message.stepMatchArguments && message.stepMatchArguments.length) {
              object.stepMatchArguments = [];
              for (var j = 0; j < message.stepMatchArguments.length; ++j) object.stepMatchArguments[j] = $root.io.cucumber.messages.StepMatchArgument.toObject(message.stepMatchArguments[j], options);
            }
            if (message.hookId != null && message.hasOwnProperty("hookId")) object.hookId = message.hookId;
            return object;
          };
          TestStep.prototype.toJSON = function toJSON() {
            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
          };
          return TestStep;
        }();
        return TestCase;
      }();
      messages.PickleAccepted = function () {
        function PickleAccepted(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        PickleAccepted.prototype.pickleId = "";
        PickleAccepted.create = function create(properties) {
          return new PickleAccepted(properties);
        };
        PickleAccepted.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) writer.uint32(10).string(message.pickleId);
          return writer;
        };
        PickleAccepted.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        PickleAccepted.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.PickleAccepted();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.pickleId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        PickleAccepted.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        PickleAccepted.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) if (!$util.isString(message.pickleId)) return "pickleId: string expected";
          return null;
        };
        PickleAccepted.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.PickleAccepted) return object;
          var message = new $root.io.cucumber.messages.PickleAccepted();
          if (object.pickleId != null) message.pickleId = String(object.pickleId);
          return message;
        };
        PickleAccepted.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) object.pickleId = "";
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) object.pickleId = message.pickleId;
          return object;
        };
        PickleAccepted.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return PickleAccepted;
      }();
      messages.PickleRejected = function () {
        function PickleRejected(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        PickleRejected.prototype.pickleId = "";
        PickleRejected.create = function create(properties) {
          return new PickleRejected(properties);
        };
        PickleRejected.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) writer.uint32(18).string(message.pickleId);
          return writer;
        };
        PickleRejected.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        PickleRejected.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.PickleRejected();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 2:
                message.pickleId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        PickleRejected.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        PickleRejected.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) if (!$util.isString(message.pickleId)) return "pickleId: string expected";
          return null;
        };
        PickleRejected.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.PickleRejected) return object;
          var message = new $root.io.cucumber.messages.PickleRejected();
          if (object.pickleId != null) message.pickleId = String(object.pickleId);
          return message;
        };
        PickleRejected.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) object.pickleId = "";
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) object.pickleId = message.pickleId;
          return object;
        };
        PickleRejected.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return PickleRejected;
      }();
      messages.TestRunStarted = function () {
        function TestRunStarted(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestRunStarted.prototype.timestamp = null;
        TestRunStarted.create = function create(properties) {
          return new TestRunStarted(properties);
        };
        TestRunStarted.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) $root.io.cucumber.messages.Timestamp.encode(message.timestamp, writer.uint32(10).fork()).ldelim();
          return writer;
        };
        TestRunStarted.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestRunStarted.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestRunStarted();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.timestamp = $root.io.cucumber.messages.Timestamp.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestRunStarted.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestRunStarted.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) {
            var error = $root.io.cucumber.messages.Timestamp.verify(message.timestamp);
            if (error) return "timestamp." + error;
          }
          return null;
        };
        TestRunStarted.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestRunStarted) return object;
          var message = new $root.io.cucumber.messages.TestRunStarted();
          if (object.timestamp != null) {
            if (typeof object.timestamp !== "object") throw TypeError(".io.cucumber.messages.TestRunStarted.timestamp: object expected");
            message.timestamp = $root.io.cucumber.messages.Timestamp.fromObject(object.timestamp);
          }
          return message;
        };
        TestRunStarted.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) object.timestamp = null;
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) object.timestamp = $root.io.cucumber.messages.Timestamp.toObject(message.timestamp, options);
          return object;
        };
        TestRunStarted.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return TestRunStarted;
      }();
      messages.TestCasePreparedStep = function () {
        function TestCasePreparedStep(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestCasePreparedStep.prototype.sourceLocation = null;
        TestCasePreparedStep.prototype.actionLocation = null;
        TestCasePreparedStep.create = function create(properties) {
          return new TestCasePreparedStep(properties);
        };
        TestCasePreparedStep.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.sourceLocation != null && message.hasOwnProperty("sourceLocation")) $root.io.cucumber.messages.SourceReference.encode(message.sourceLocation, writer.uint32(10).fork()).ldelim();
          if (message.actionLocation != null && message.hasOwnProperty("actionLocation")) $root.io.cucumber.messages.SourceReference.encode(message.actionLocation, writer.uint32(18).fork()).ldelim();
          return writer;
        };
        TestCasePreparedStep.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestCasePreparedStep.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestCasePreparedStep();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.sourceLocation = $root.io.cucumber.messages.SourceReference.decode(reader, reader.uint32());
                break;
              case 2:
                message.actionLocation = $root.io.cucumber.messages.SourceReference.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestCasePreparedStep.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestCasePreparedStep.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.sourceLocation != null && message.hasOwnProperty("sourceLocation")) {
            var error = $root.io.cucumber.messages.SourceReference.verify(message.sourceLocation);
            if (error) return "sourceLocation." + error;
          }
          if (message.actionLocation != null && message.hasOwnProperty("actionLocation")) {
            var error = $root.io.cucumber.messages.SourceReference.verify(message.actionLocation);
            if (error) return "actionLocation." + error;
          }
          return null;
        };
        TestCasePreparedStep.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestCasePreparedStep) return object;
          var message = new $root.io.cucumber.messages.TestCasePreparedStep();
          if (object.sourceLocation != null) {
            if (typeof object.sourceLocation !== "object") throw TypeError(".io.cucumber.messages.TestCasePreparedStep.sourceLocation: object expected");
            message.sourceLocation = $root.io.cucumber.messages.SourceReference.fromObject(object.sourceLocation);
          }
          if (object.actionLocation != null) {
            if (typeof object.actionLocation !== "object") throw TypeError(".io.cucumber.messages.TestCasePreparedStep.actionLocation: object expected");
            message.actionLocation = $root.io.cucumber.messages.SourceReference.fromObject(object.actionLocation);
          }
          return message;
        };
        TestCasePreparedStep.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.sourceLocation = null;
            object.actionLocation = null;
          }
          if (message.sourceLocation != null && message.hasOwnProperty("sourceLocation")) object.sourceLocation = $root.io.cucumber.messages.SourceReference.toObject(message.sourceLocation, options);
          if (message.actionLocation != null && message.hasOwnProperty("actionLocation")) object.actionLocation = $root.io.cucumber.messages.SourceReference.toObject(message.actionLocation, options);
          return object;
        };
        TestCasePreparedStep.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return TestCasePreparedStep;
      }();
      messages.TestCasePrepared = function () {
        function TestCasePrepared(properties) {
          this.steps = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestCasePrepared.prototype.pickleId = "";
        TestCasePrepared.prototype.steps = $util.emptyArray;
        TestCasePrepared.create = function create(properties) {
          return new TestCasePrepared(properties);
        };
        TestCasePrepared.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) writer.uint32(10).string(message.pickleId);
          if (message.steps != null && message.steps.length) for (var i = 0; i < message.steps.length; ++i) $root.io.cucumber.messages.TestCasePreparedStep.encode(message.steps[i], writer.uint32(18).fork()).ldelim();
          return writer;
        };
        TestCasePrepared.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestCasePrepared.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestCasePrepared();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.pickleId = reader.string();
                break;
              case 2:
                if (!(message.steps && message.steps.length)) message.steps = [];
                message.steps.push($root.io.cucumber.messages.TestCasePreparedStep.decode(reader, reader.uint32()));
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestCasePrepared.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestCasePrepared.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) if (!$util.isString(message.pickleId)) return "pickleId: string expected";
          if (message.steps != null && message.hasOwnProperty("steps")) {
            if (!Array.isArray(message.steps)) return "steps: array expected";
            for (var i = 0; i < message.steps.length; ++i) {
              var error = $root.io.cucumber.messages.TestCasePreparedStep.verify(message.steps[i]);
              if (error) return "steps." + error;
            }
          }
          return null;
        };
        TestCasePrepared.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestCasePrepared) return object;
          var message = new $root.io.cucumber.messages.TestCasePrepared();
          if (object.pickleId != null) message.pickleId = String(object.pickleId);
          if (object.steps) {
            if (!Array.isArray(object.steps)) throw TypeError(".io.cucumber.messages.TestCasePrepared.steps: array expected");
            message.steps = [];
            for (var i = 0; i < object.steps.length; ++i) {
              if (typeof object.steps[i] !== "object") throw TypeError(".io.cucumber.messages.TestCasePrepared.steps: object expected");
              message.steps[i] = $root.io.cucumber.messages.TestCasePreparedStep.fromObject(object.steps[i]);
            }
          }
          return message;
        };
        TestCasePrepared.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) object.steps = [];
          if (options.defaults) object.pickleId = "";
          if (message.pickleId != null && message.hasOwnProperty("pickleId")) object.pickleId = message.pickleId;
          if (message.steps && message.steps.length) {
            object.steps = [];
            for (var j = 0; j < message.steps.length; ++j) object.steps[j] = $root.io.cucumber.messages.TestCasePreparedStep.toObject(message.steps[j], options);
          }
          return object;
        };
        TestCasePrepared.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return TestCasePrepared;
      }();
      messages.TestCaseStarted = function () {
        function TestCaseStarted(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestCaseStarted.prototype.timestamp = null;
        TestCaseStarted.prototype.platform = null;
        TestCaseStarted.prototype.attempt = 0;
        TestCaseStarted.prototype.testCaseId = "";
        TestCaseStarted.prototype.id = "";
        TestCaseStarted.create = function create(properties) {
          return new TestCaseStarted(properties);
        };
        TestCaseStarted.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) $root.io.cucumber.messages.Timestamp.encode(message.timestamp, writer.uint32(10).fork()).ldelim();
          if (message.platform != null && message.hasOwnProperty("platform")) $root.io.cucumber.messages.TestCaseStarted.Platform.encode(message.platform, writer.uint32(18).fork()).ldelim();
          if (message.attempt != null && message.hasOwnProperty("attempt")) writer.uint32(24).uint32(message.attempt);
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) writer.uint32(34).string(message.testCaseId);
          if (message.id != null && message.hasOwnProperty("id")) writer.uint32(42).string(message.id);
          return writer;
        };
        TestCaseStarted.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestCaseStarted.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestCaseStarted();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.timestamp = $root.io.cucumber.messages.Timestamp.decode(reader, reader.uint32());
                break;
              case 2:
                message.platform = $root.io.cucumber.messages.TestCaseStarted.Platform.decode(reader, reader.uint32());
                break;
              case 3:
                message.attempt = reader.uint32();
                break;
              case 4:
                message.testCaseId = reader.string();
                break;
              case 5:
                message.id = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestCaseStarted.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestCaseStarted.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) {
            var error = $root.io.cucumber.messages.Timestamp.verify(message.timestamp);
            if (error) return "timestamp." + error;
          }
          if (message.platform != null && message.hasOwnProperty("platform")) {
            var error = $root.io.cucumber.messages.TestCaseStarted.Platform.verify(message.platform);
            if (error) return "platform." + error;
          }
          if (message.attempt != null && message.hasOwnProperty("attempt")) if (!$util.isInteger(message.attempt)) return "attempt: integer expected";
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) if (!$util.isString(message.testCaseId)) return "testCaseId: string expected";
          if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
          return null;
        };
        TestCaseStarted.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestCaseStarted) return object;
          var message = new $root.io.cucumber.messages.TestCaseStarted();
          if (object.timestamp != null) {
            if (typeof object.timestamp !== "object") throw TypeError(".io.cucumber.messages.TestCaseStarted.timestamp: object expected");
            message.timestamp = $root.io.cucumber.messages.Timestamp.fromObject(object.timestamp);
          }
          if (object.platform != null) {
            if (typeof object.platform !== "object") throw TypeError(".io.cucumber.messages.TestCaseStarted.platform: object expected");
            message.platform = $root.io.cucumber.messages.TestCaseStarted.Platform.fromObject(object.platform);
          }
          if (object.attempt != null) message.attempt = object.attempt >>> 0;
          if (object.testCaseId != null) message.testCaseId = String(object.testCaseId);
          if (object.id != null) message.id = String(object.id);
          return message;
        };
        TestCaseStarted.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.timestamp = null;
            object.platform = null;
            object.attempt = 0;
            object.testCaseId = "";
            object.id = "";
          }
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) object.timestamp = $root.io.cucumber.messages.Timestamp.toObject(message.timestamp, options);
          if (message.platform != null && message.hasOwnProperty("platform")) object.platform = $root.io.cucumber.messages.TestCaseStarted.Platform.toObject(message.platform, options);
          if (message.attempt != null && message.hasOwnProperty("attempt")) object.attempt = message.attempt;
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) object.testCaseId = message.testCaseId;
          if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
          return object;
        };
        TestCaseStarted.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        TestCaseStarted.Platform = function () {
          function Platform(properties) {
            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
          }
          Platform.prototype.implementation = "";
          Platform.prototype.version = "";
          Platform.prototype.os = "";
          Platform.prototype.cpu = "";
          Platform.create = function create(properties) {
            return new Platform(properties);
          };
          Platform.encode = function encode(message, writer) {
            if (!writer) writer = $Writer.create();
            if (message.implementation != null && message.hasOwnProperty("implementation")) writer.uint32(10).string(message.implementation);
            if (message.version != null && message.hasOwnProperty("version")) writer.uint32(18).string(message.version);
            if (message.os != null && message.hasOwnProperty("os")) writer.uint32(26).string(message.os);
            if (message.cpu != null && message.hasOwnProperty("cpu")) writer.uint32(34).string(message.cpu);
            return writer;
          };
          Platform.encodeDelimited = function encodeDelimited(message, writer) {
            return this.encode(message, writer).ldelim();
          };
          Platform.decode = function decode(reader, length) {
            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
            var end = length === undefined ? reader.len : reader.pos + length,
              message = new $root.io.cucumber.messages.TestCaseStarted.Platform();
            while (reader.pos < end) {
              var tag = reader.uint32();
              switch (tag >>> 3) {
                case 1:
                  message.implementation = reader.string();
                  break;
                case 2:
                  message.version = reader.string();
                  break;
                case 3:
                  message.os = reader.string();
                  break;
                case 4:
                  message.cpu = reader.string();
                  break;
                default:
                  reader.skipType(tag & 7);
                  break;
              }
            }
            return message;
          };
          Platform.decodeDelimited = function decodeDelimited(reader) {
            if (!(reader instanceof $Reader)) reader = new $Reader(reader);
            return this.decode(reader, reader.uint32());
          };
          Platform.verify = function verify(message) {
            if (typeof message !== "object" || message === null) return "object expected";
            if (message.implementation != null && message.hasOwnProperty("implementation")) if (!$util.isString(message.implementation)) return "implementation: string expected";
            if (message.version != null && message.hasOwnProperty("version")) if (!$util.isString(message.version)) return "version: string expected";
            if (message.os != null && message.hasOwnProperty("os")) if (!$util.isString(message.os)) return "os: string expected";
            if (message.cpu != null && message.hasOwnProperty("cpu")) if (!$util.isString(message.cpu)) return "cpu: string expected";
            return null;
          };
          Platform.fromObject = function fromObject(object) {
            if (object instanceof $root.io.cucumber.messages.TestCaseStarted.Platform) return object;
            var message = new $root.io.cucumber.messages.TestCaseStarted.Platform();
            if (object.implementation != null) message.implementation = String(object.implementation);
            if (object.version != null) message.version = String(object.version);
            if (object.os != null) message.os = String(object.os);
            if (object.cpu != null) message.cpu = String(object.cpu);
            return message;
          };
          Platform.toObject = function toObject(message, options) {
            if (!options) options = {};
            var object = {};
            if (options.defaults) {
              object.implementation = "";
              object.version = "";
              object.os = "";
              object.cpu = "";
            }
            if (message.implementation != null && message.hasOwnProperty("implementation")) object.implementation = message.implementation;
            if (message.version != null && message.hasOwnProperty("version")) object.version = message.version;
            if (message.os != null && message.hasOwnProperty("os")) object.os = message.os;
            if (message.cpu != null && message.hasOwnProperty("cpu")) object.cpu = message.cpu;
            return object;
          };
          Platform.prototype.toJSON = function toJSON() {
            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
          };
          return Platform;
        }();
        return TestCaseStarted;
      }();
      messages.TestCaseFinished = function () {
        function TestCaseFinished(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestCaseFinished.prototype.timestamp = null;
        TestCaseFinished.prototype.testResult = null;
        TestCaseFinished.prototype.testCaseStartedId = "";
        TestCaseFinished.create = function create(properties) {
          return new TestCaseFinished(properties);
        };
        TestCaseFinished.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) $root.io.cucumber.messages.Timestamp.encode(message.timestamp, writer.uint32(10).fork()).ldelim();
          if (message.testResult != null && message.hasOwnProperty("testResult")) $root.io.cucumber.messages.TestResult.encode(message.testResult, writer.uint32(18).fork()).ldelim();
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) writer.uint32(26).string(message.testCaseStartedId);
          return writer;
        };
        TestCaseFinished.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestCaseFinished.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestCaseFinished();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.timestamp = $root.io.cucumber.messages.Timestamp.decode(reader, reader.uint32());
                break;
              case 2:
                message.testResult = $root.io.cucumber.messages.TestResult.decode(reader, reader.uint32());
                break;
              case 3:
                message.testCaseStartedId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestCaseFinished.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestCaseFinished.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) {
            var error = $root.io.cucumber.messages.Timestamp.verify(message.timestamp);
            if (error) return "timestamp." + error;
          }
          if (message.testResult != null && message.hasOwnProperty("testResult")) {
            var error = $root.io.cucumber.messages.TestResult.verify(message.testResult);
            if (error) return "testResult." + error;
          }
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) if (!$util.isString(message.testCaseStartedId)) return "testCaseStartedId: string expected";
          return null;
        };
        TestCaseFinished.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestCaseFinished) return object;
          var message = new $root.io.cucumber.messages.TestCaseFinished();
          if (object.timestamp != null) {
            if (typeof object.timestamp !== "object") throw TypeError(".io.cucumber.messages.TestCaseFinished.timestamp: object expected");
            message.timestamp = $root.io.cucumber.messages.Timestamp.fromObject(object.timestamp);
          }
          if (object.testResult != null) {
            if (typeof object.testResult !== "object") throw TypeError(".io.cucumber.messages.TestCaseFinished.testResult: object expected");
            message.testResult = $root.io.cucumber.messages.TestResult.fromObject(object.testResult);
          }
          if (object.testCaseStartedId != null) message.testCaseStartedId = String(object.testCaseStartedId);
          return message;
        };
        TestCaseFinished.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.timestamp = null;
            object.testResult = null;
            object.testCaseStartedId = "";
          }
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) object.timestamp = $root.io.cucumber.messages.Timestamp.toObject(message.timestamp, options);
          if (message.testResult != null && message.hasOwnProperty("testResult")) object.testResult = $root.io.cucumber.messages.TestResult.toObject(message.testResult, options);
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) object.testCaseStartedId = message.testCaseStartedId;
          return object;
        };
        TestCaseFinished.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return TestCaseFinished;
      }();
      messages.TestStepStarted = function () {
        function TestStepStarted(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestStepStarted.prototype.timestamp = null;
        TestStepStarted.prototype.testStepId = "";
        TestStepStarted.prototype.testCaseStartedId = "";
        TestStepStarted.create = function create(properties) {
          return new TestStepStarted(properties);
        };
        TestStepStarted.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) $root.io.cucumber.messages.Timestamp.encode(message.timestamp, writer.uint32(10).fork()).ldelim();
          if (message.testStepId != null && message.hasOwnProperty("testStepId")) writer.uint32(18).string(message.testStepId);
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) writer.uint32(26).string(message.testCaseStartedId);
          return writer;
        };
        TestStepStarted.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestStepStarted.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestStepStarted();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.timestamp = $root.io.cucumber.messages.Timestamp.decode(reader, reader.uint32());
                break;
              case 2:
                message.testStepId = reader.string();
                break;
              case 3:
                message.testCaseStartedId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestStepStarted.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestStepStarted.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) {
            var error = $root.io.cucumber.messages.Timestamp.verify(message.timestamp);
            if (error) return "timestamp." + error;
          }
          if (message.testStepId != null && message.hasOwnProperty("testStepId")) if (!$util.isString(message.testStepId)) return "testStepId: string expected";
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) if (!$util.isString(message.testCaseStartedId)) return "testCaseStartedId: string expected";
          return null;
        };
        TestStepStarted.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestStepStarted) return object;
          var message = new $root.io.cucumber.messages.TestStepStarted();
          if (object.timestamp != null) {
            if (typeof object.timestamp !== "object") throw TypeError(".io.cucumber.messages.TestStepStarted.timestamp: object expected");
            message.timestamp = $root.io.cucumber.messages.Timestamp.fromObject(object.timestamp);
          }
          if (object.testStepId != null) message.testStepId = String(object.testStepId);
          if (object.testCaseStartedId != null) message.testCaseStartedId = String(object.testCaseStartedId);
          return message;
        };
        TestStepStarted.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.timestamp = null;
            object.testStepId = "";
            object.testCaseStartedId = "";
          }
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) object.timestamp = $root.io.cucumber.messages.Timestamp.toObject(message.timestamp, options);
          if (message.testStepId != null && message.hasOwnProperty("testStepId")) object.testStepId = message.testStepId;
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) object.testCaseStartedId = message.testCaseStartedId;
          return object;
        };
        TestStepStarted.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return TestStepStarted;
      }();
      messages.TestStepFinished = function () {
        function TestStepFinished(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestStepFinished.prototype.testResult = null;
        TestStepFinished.prototype.timestamp = null;
        TestStepFinished.prototype.testStepId = "";
        TestStepFinished.prototype.testCaseStartedId = "";
        TestStepFinished.create = function create(properties) {
          return new TestStepFinished(properties);
        };
        TestStepFinished.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.testResult != null && message.hasOwnProperty("testResult")) $root.io.cucumber.messages.TestResult.encode(message.testResult, writer.uint32(10).fork()).ldelim();
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) $root.io.cucumber.messages.Timestamp.encode(message.timestamp, writer.uint32(18).fork()).ldelim();
          if (message.testStepId != null && message.hasOwnProperty("testStepId")) writer.uint32(26).string(message.testStepId);
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) writer.uint32(34).string(message.testCaseStartedId);
          return writer;
        };
        TestStepFinished.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestStepFinished.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestStepFinished();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.testResult = $root.io.cucumber.messages.TestResult.decode(reader, reader.uint32());
                break;
              case 2:
                message.timestamp = $root.io.cucumber.messages.Timestamp.decode(reader, reader.uint32());
                break;
              case 3:
                message.testStepId = reader.string();
                break;
              case 4:
                message.testCaseStartedId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestStepFinished.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestStepFinished.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.testResult != null && message.hasOwnProperty("testResult")) {
            var error = $root.io.cucumber.messages.TestResult.verify(message.testResult);
            if (error) return "testResult." + error;
          }
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) {
            var error = $root.io.cucumber.messages.Timestamp.verify(message.timestamp);
            if (error) return "timestamp." + error;
          }
          if (message.testStepId != null && message.hasOwnProperty("testStepId")) if (!$util.isString(message.testStepId)) return "testStepId: string expected";
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) if (!$util.isString(message.testCaseStartedId)) return "testCaseStartedId: string expected";
          return null;
        };
        TestStepFinished.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestStepFinished) return object;
          var message = new $root.io.cucumber.messages.TestStepFinished();
          if (object.testResult != null) {
            if (typeof object.testResult !== "object") throw TypeError(".io.cucumber.messages.TestStepFinished.testResult: object expected");
            message.testResult = $root.io.cucumber.messages.TestResult.fromObject(object.testResult);
          }
          if (object.timestamp != null) {
            if (typeof object.timestamp !== "object") throw TypeError(".io.cucumber.messages.TestStepFinished.timestamp: object expected");
            message.timestamp = $root.io.cucumber.messages.Timestamp.fromObject(object.timestamp);
          }
          if (object.testStepId != null) message.testStepId = String(object.testStepId);
          if (object.testCaseStartedId != null) message.testCaseStartedId = String(object.testCaseStartedId);
          return message;
        };
        TestStepFinished.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.testResult = null;
            object.timestamp = null;
            object.testStepId = "";
            object.testCaseStartedId = "";
          }
          if (message.testResult != null && message.hasOwnProperty("testResult")) object.testResult = $root.io.cucumber.messages.TestResult.toObject(message.testResult, options);
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) object.timestamp = $root.io.cucumber.messages.Timestamp.toObject(message.timestamp, options);
          if (message.testStepId != null && message.hasOwnProperty("testStepId")) object.testStepId = message.testStepId;
          if (message.testCaseStartedId != null && message.hasOwnProperty("testCaseStartedId")) object.testCaseStartedId = message.testCaseStartedId;
          return object;
        };
        TestStepFinished.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return TestStepFinished;
      }();
      messages.TestResult = function () {
        function TestResult(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestResult.prototype.status = 0;
        TestResult.prototype.message = "";
        TestResult.prototype.duration = null;
        TestResult.prototype.willBeRetried = false;
        TestResult.create = function create(properties) {
          return new TestResult(properties);
        };
        TestResult.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.status != null && message.hasOwnProperty("status")) writer.uint32(8).int32(message.status);
          if (message.message != null && message.hasOwnProperty("message")) writer.uint32(18).string(message.message);
          if (message.duration != null && message.hasOwnProperty("duration")) $root.io.cucumber.messages.Duration.encode(message.duration, writer.uint32(26).fork()).ldelim();
          if (message.willBeRetried != null && message.hasOwnProperty("willBeRetried")) writer.uint32(32).bool(message.willBeRetried);
          return writer;
        };
        TestResult.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestResult.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestResult();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.status = reader.int32();
                break;
              case 2:
                message.message = reader.string();
                break;
              case 3:
                message.duration = $root.io.cucumber.messages.Duration.decode(reader, reader.uint32());
                break;
              case 4:
                message.willBeRetried = reader.bool();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestResult.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestResult.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.status != null && message.hasOwnProperty("status")) switch (message.status) {
            default:
              return "status: enum value expected";
            case 0:
            case 1:
            case 2:
            case 3:
            case 4:
            case 5:
            case 6:
              break;
          }
          if (message.message != null && message.hasOwnProperty("message")) if (!$util.isString(message.message)) return "message: string expected";
          if (message.duration != null && message.hasOwnProperty("duration")) {
            var error = $root.io.cucumber.messages.Duration.verify(message.duration);
            if (error) return "duration." + error;
          }
          if (message.willBeRetried != null && message.hasOwnProperty("willBeRetried")) if (typeof message.willBeRetried !== "boolean") return "willBeRetried: boolean expected";
          return null;
        };
        TestResult.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestResult) return object;
          var message = new $root.io.cucumber.messages.TestResult();
          switch (object.status) {
            case "UNKNOWN":
            case 0:
              message.status = 0;
              break;
            case "PASSED":
            case 1:
              message.status = 1;
              break;
            case "SKIPPED":
            case 2:
              message.status = 2;
              break;
            case "PENDING":
            case 3:
              message.status = 3;
              break;
            case "UNDEFINED":
            case 4:
              message.status = 4;
              break;
            case "AMBIGUOUS":
            case 5:
              message.status = 5;
              break;
            case "FAILED":
            case 6:
              message.status = 6;
              break;
          }
          if (object.message != null) message.message = String(object.message);
          if (object.duration != null) {
            if (typeof object.duration !== "object") throw TypeError(".io.cucumber.messages.TestResult.duration: object expected");
            message.duration = $root.io.cucumber.messages.Duration.fromObject(object.duration);
          }
          if (object.willBeRetried != null) message.willBeRetried = Boolean(object.willBeRetried);
          return message;
        };
        TestResult.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.status = options.enums === String ? "UNKNOWN" : 0;
            object.message = "";
            object.duration = null;
            object.willBeRetried = false;
          }
          if (message.status != null && message.hasOwnProperty("status")) object.status = options.enums === String ? $root.io.cucumber.messages.TestResult.Status[message.status] : message.status;
          if (message.message != null && message.hasOwnProperty("message")) object.message = message.message;
          if (message.duration != null && message.hasOwnProperty("duration")) object.duration = $root.io.cucumber.messages.Duration.toObject(message.duration, options);
          if (message.willBeRetried != null && message.hasOwnProperty("willBeRetried")) object.willBeRetried = message.willBeRetried;
          return object;
        };
        TestResult.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        TestResult.Status = function () {
          var valuesById = {},
            values = Object.create(valuesById);
          values[valuesById[0] = "UNKNOWN"] = 0;
          values[valuesById[1] = "PASSED"] = 1;
          values[valuesById[2] = "SKIPPED"] = 2;
          values[valuesById[3] = "PENDING"] = 3;
          values[valuesById[4] = "UNDEFINED"] = 4;
          values[valuesById[5] = "AMBIGUOUS"] = 5;
          values[valuesById[6] = "FAILED"] = 6;
          return values;
        }();
        return TestResult;
      }();
      messages.TestRunFinished = function () {
        function TestRunFinished(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        TestRunFinished.prototype.success = false;
        TestRunFinished.prototype.timestamp = null;
        TestRunFinished.create = function create(properties) {
          return new TestRunFinished(properties);
        };
        TestRunFinished.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.success != null && message.hasOwnProperty("success")) writer.uint32(8).bool(message.success);
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) $root.io.cucumber.messages.Timestamp.encode(message.timestamp, writer.uint32(18).fork()).ldelim();
          return writer;
        };
        TestRunFinished.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        TestRunFinished.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.TestRunFinished();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.success = reader.bool();
                break;
              case 2:
                message.timestamp = $root.io.cucumber.messages.Timestamp.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        TestRunFinished.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        TestRunFinished.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.success != null && message.hasOwnProperty("success")) if (typeof message.success !== "boolean") return "success: boolean expected";
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) {
            var error = $root.io.cucumber.messages.Timestamp.verify(message.timestamp);
            if (error) return "timestamp." + error;
          }
          return null;
        };
        TestRunFinished.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.TestRunFinished) return object;
          var message = new $root.io.cucumber.messages.TestRunFinished();
          if (object.success != null) message.success = Boolean(object.success);
          if (object.timestamp != null) {
            if (typeof object.timestamp !== "object") throw TypeError(".io.cucumber.messages.TestRunFinished.timestamp: object expected");
            message.timestamp = $root.io.cucumber.messages.Timestamp.fromObject(object.timestamp);
          }
          return message;
        };
        TestRunFinished.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.success = false;
            object.timestamp = null;
          }
          if (message.success != null && message.hasOwnProperty("success")) object.success = message.success;
          if (message.timestamp != null && message.hasOwnProperty("timestamp")) object.timestamp = $root.io.cucumber.messages.Timestamp.toObject(message.timestamp, options);
          return object;
        };
        TestRunFinished.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return TestRunFinished;
      }();
      messages.CommandStart = function () {
        function CommandStart(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        CommandStart.prototype.baseDirectory = "";
        CommandStart.prototype.sourcesConfig = null;
        CommandStart.prototype.runtimeConfig = null;
        CommandStart.prototype.supportCodeConfig = null;
        CommandStart.create = function create(properties) {
          return new CommandStart(properties);
        };
        CommandStart.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.baseDirectory != null && message.hasOwnProperty("baseDirectory")) writer.uint32(18).string(message.baseDirectory);
          if (message.sourcesConfig != null && message.hasOwnProperty("sourcesConfig")) $root.io.cucumber.messages.SourcesConfig.encode(message.sourcesConfig, writer.uint32(26).fork()).ldelim();
          if (message.runtimeConfig != null && message.hasOwnProperty("runtimeConfig")) $root.io.cucumber.messages.RuntimeConfig.encode(message.runtimeConfig, writer.uint32(34).fork()).ldelim();
          if (message.supportCodeConfig != null && message.hasOwnProperty("supportCodeConfig")) $root.io.cucumber.messages.SupportCodeConfig.encode(message.supportCodeConfig, writer.uint32(42).fork()).ldelim();
          return writer;
        };
        CommandStart.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        CommandStart.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.CommandStart();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 2:
                message.baseDirectory = reader.string();
                break;
              case 3:
                message.sourcesConfig = $root.io.cucumber.messages.SourcesConfig.decode(reader, reader.uint32());
                break;
              case 4:
                message.runtimeConfig = $root.io.cucumber.messages.RuntimeConfig.decode(reader, reader.uint32());
                break;
              case 5:
                message.supportCodeConfig = $root.io.cucumber.messages.SupportCodeConfig.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        CommandStart.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        CommandStart.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.baseDirectory != null && message.hasOwnProperty("baseDirectory")) if (!$util.isString(message.baseDirectory)) return "baseDirectory: string expected";
          if (message.sourcesConfig != null && message.hasOwnProperty("sourcesConfig")) {
            var error = $root.io.cucumber.messages.SourcesConfig.verify(message.sourcesConfig);
            if (error) return "sourcesConfig." + error;
          }
          if (message.runtimeConfig != null && message.hasOwnProperty("runtimeConfig")) {
            var error = $root.io.cucumber.messages.RuntimeConfig.verify(message.runtimeConfig);
            if (error) return "runtimeConfig." + error;
          }
          if (message.supportCodeConfig != null && message.hasOwnProperty("supportCodeConfig")) {
            var error = $root.io.cucumber.messages.SupportCodeConfig.verify(message.supportCodeConfig);
            if (error) return "supportCodeConfig." + error;
          }
          return null;
        };
        CommandStart.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.CommandStart) return object;
          var message = new $root.io.cucumber.messages.CommandStart();
          if (object.baseDirectory != null) message.baseDirectory = String(object.baseDirectory);
          if (object.sourcesConfig != null) {
            if (typeof object.sourcesConfig !== "object") throw TypeError(".io.cucumber.messages.CommandStart.sourcesConfig: object expected");
            message.sourcesConfig = $root.io.cucumber.messages.SourcesConfig.fromObject(object.sourcesConfig);
          }
          if (object.runtimeConfig != null) {
            if (typeof object.runtimeConfig !== "object") throw TypeError(".io.cucumber.messages.CommandStart.runtimeConfig: object expected");
            message.runtimeConfig = $root.io.cucumber.messages.RuntimeConfig.fromObject(object.runtimeConfig);
          }
          if (object.supportCodeConfig != null) {
            if (typeof object.supportCodeConfig !== "object") throw TypeError(".io.cucumber.messages.CommandStart.supportCodeConfig: object expected");
            message.supportCodeConfig = $root.io.cucumber.messages.SupportCodeConfig.fromObject(object.supportCodeConfig);
          }
          return message;
        };
        CommandStart.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.baseDirectory = "";
            object.sourcesConfig = null;
            object.runtimeConfig = null;
            object.supportCodeConfig = null;
          }
          if (message.baseDirectory != null && message.hasOwnProperty("baseDirectory")) object.baseDirectory = message.baseDirectory;
          if (message.sourcesConfig != null && message.hasOwnProperty("sourcesConfig")) object.sourcesConfig = $root.io.cucumber.messages.SourcesConfig.toObject(message.sourcesConfig, options);
          if (message.runtimeConfig != null && message.hasOwnProperty("runtimeConfig")) object.runtimeConfig = $root.io.cucumber.messages.RuntimeConfig.toObject(message.runtimeConfig, options);
          if (message.supportCodeConfig != null && message.hasOwnProperty("supportCodeConfig")) object.supportCodeConfig = $root.io.cucumber.messages.SupportCodeConfig.toObject(message.supportCodeConfig, options);
          return object;
        };
        CommandStart.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return CommandStart;
      }();
      messages.SourcesConfig = function () {
        function SourcesConfig(properties) {
          this.absolutePaths = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        SourcesConfig.prototype.absolutePaths = $util.emptyArray;
        SourcesConfig.prototype.language = "";
        SourcesConfig.prototype.filters = null;
        SourcesConfig.prototype.order = null;
        SourcesConfig.create = function create(properties) {
          return new SourcesConfig(properties);
        };
        SourcesConfig.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.absolutePaths != null && message.absolutePaths.length) for (var i = 0; i < message.absolutePaths.length; ++i) writer.uint32(10).string(message.absolutePaths[i]);
          if (message.language != null && message.hasOwnProperty("language")) writer.uint32(18).string(message.language);
          if (message.filters != null && message.hasOwnProperty("filters")) $root.io.cucumber.messages.SourcesFilterConfig.encode(message.filters, writer.uint32(26).fork()).ldelim();
          if (message.order != null && message.hasOwnProperty("order")) $root.io.cucumber.messages.SourcesOrder.encode(message.order, writer.uint32(34).fork()).ldelim();
          return writer;
        };
        SourcesConfig.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        SourcesConfig.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.SourcesConfig();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                if (!(message.absolutePaths && message.absolutePaths.length)) message.absolutePaths = [];
                message.absolutePaths.push(reader.string());
                break;
              case 2:
                message.language = reader.string();
                break;
              case 3:
                message.filters = $root.io.cucumber.messages.SourcesFilterConfig.decode(reader, reader.uint32());
                break;
              case 4:
                message.order = $root.io.cucumber.messages.SourcesOrder.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        SourcesConfig.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        SourcesConfig.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.absolutePaths != null && message.hasOwnProperty("absolutePaths")) {
            if (!Array.isArray(message.absolutePaths)) return "absolutePaths: array expected";
            for (var i = 0; i < message.absolutePaths.length; ++i) if (!$util.isString(message.absolutePaths[i])) return "absolutePaths: string[] expected";
          }
          if (message.language != null && message.hasOwnProperty("language")) if (!$util.isString(message.language)) return "language: string expected";
          if (message.filters != null && message.hasOwnProperty("filters")) {
            var error = $root.io.cucumber.messages.SourcesFilterConfig.verify(message.filters);
            if (error) return "filters." + error;
          }
          if (message.order != null && message.hasOwnProperty("order")) {
            var error = $root.io.cucumber.messages.SourcesOrder.verify(message.order);
            if (error) return "order." + error;
          }
          return null;
        };
        SourcesConfig.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.SourcesConfig) return object;
          var message = new $root.io.cucumber.messages.SourcesConfig();
          if (object.absolutePaths) {
            if (!Array.isArray(object.absolutePaths)) throw TypeError(".io.cucumber.messages.SourcesConfig.absolutePaths: array expected");
            message.absolutePaths = [];
            for (var i = 0; i < object.absolutePaths.length; ++i) message.absolutePaths[i] = String(object.absolutePaths[i]);
          }
          if (object.language != null) message.language = String(object.language);
          if (object.filters != null) {
            if (typeof object.filters !== "object") throw TypeError(".io.cucumber.messages.SourcesConfig.filters: object expected");
            message.filters = $root.io.cucumber.messages.SourcesFilterConfig.fromObject(object.filters);
          }
          if (object.order != null) {
            if (typeof object.order !== "object") throw TypeError(".io.cucumber.messages.SourcesConfig.order: object expected");
            message.order = $root.io.cucumber.messages.SourcesOrder.fromObject(object.order);
          }
          return message;
        };
        SourcesConfig.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) object.absolutePaths = [];
          if (options.defaults) {
            object.language = "";
            object.filters = null;
            object.order = null;
          }
          if (message.absolutePaths && message.absolutePaths.length) {
            object.absolutePaths = [];
            for (var j = 0; j < message.absolutePaths.length; ++j) object.absolutePaths[j] = message.absolutePaths[j];
          }
          if (message.language != null && message.hasOwnProperty("language")) object.language = message.language;
          if (message.filters != null && message.hasOwnProperty("filters")) object.filters = $root.io.cucumber.messages.SourcesFilterConfig.toObject(message.filters, options);
          if (message.order != null && message.hasOwnProperty("order")) object.order = $root.io.cucumber.messages.SourcesOrder.toObject(message.order, options);
          return object;
        };
        SourcesConfig.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return SourcesConfig;
      }();
      messages.SourcesFilterConfig = function () {
        function SourcesFilterConfig(properties) {
          this.nameRegularExpressions = [];
          this.uriToLinesMapping = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        SourcesFilterConfig.prototype.tagExpression = "";
        SourcesFilterConfig.prototype.nameRegularExpressions = $util.emptyArray;
        SourcesFilterConfig.prototype.uriToLinesMapping = $util.emptyArray;
        SourcesFilterConfig.create = function create(properties) {
          return new SourcesFilterConfig(properties);
        };
        SourcesFilterConfig.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.tagExpression != null && message.hasOwnProperty("tagExpression")) writer.uint32(10).string(message.tagExpression);
          if (message.nameRegularExpressions != null && message.nameRegularExpressions.length) for (var i = 0; i < message.nameRegularExpressions.length; ++i) writer.uint32(18).string(message.nameRegularExpressions[i]);
          if (message.uriToLinesMapping != null && message.uriToLinesMapping.length) for (var i = 0; i < message.uriToLinesMapping.length; ++i) $root.io.cucumber.messages.UriToLinesMapping.encode(message.uriToLinesMapping[i], writer.uint32(26).fork()).ldelim();
          return writer;
        };
        SourcesFilterConfig.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        SourcesFilterConfig.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.SourcesFilterConfig();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.tagExpression = reader.string();
                break;
              case 2:
                if (!(message.nameRegularExpressions && message.nameRegularExpressions.length)) message.nameRegularExpressions = [];
                message.nameRegularExpressions.push(reader.string());
                break;
              case 3:
                if (!(message.uriToLinesMapping && message.uriToLinesMapping.length)) message.uriToLinesMapping = [];
                message.uriToLinesMapping.push($root.io.cucumber.messages.UriToLinesMapping.decode(reader, reader.uint32()));
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        SourcesFilterConfig.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        SourcesFilterConfig.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.tagExpression != null && message.hasOwnProperty("tagExpression")) if (!$util.isString(message.tagExpression)) return "tagExpression: string expected";
          if (message.nameRegularExpressions != null && message.hasOwnProperty("nameRegularExpressions")) {
            if (!Array.isArray(message.nameRegularExpressions)) return "nameRegularExpressions: array expected";
            for (var i = 0; i < message.nameRegularExpressions.length; ++i) if (!$util.isString(message.nameRegularExpressions[i])) return "nameRegularExpressions: string[] expected";
          }
          if (message.uriToLinesMapping != null && message.hasOwnProperty("uriToLinesMapping")) {
            if (!Array.isArray(message.uriToLinesMapping)) return "uriToLinesMapping: array expected";
            for (var i = 0; i < message.uriToLinesMapping.length; ++i) {
              var error = $root.io.cucumber.messages.UriToLinesMapping.verify(message.uriToLinesMapping[i]);
              if (error) return "uriToLinesMapping." + error;
            }
          }
          return null;
        };
        SourcesFilterConfig.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.SourcesFilterConfig) return object;
          var message = new $root.io.cucumber.messages.SourcesFilterConfig();
          if (object.tagExpression != null) message.tagExpression = String(object.tagExpression);
          if (object.nameRegularExpressions) {
            if (!Array.isArray(object.nameRegularExpressions)) throw TypeError(".io.cucumber.messages.SourcesFilterConfig.nameRegularExpressions: array expected");
            message.nameRegularExpressions = [];
            for (var i = 0; i < object.nameRegularExpressions.length; ++i) message.nameRegularExpressions[i] = String(object.nameRegularExpressions[i]);
          }
          if (object.uriToLinesMapping) {
            if (!Array.isArray(object.uriToLinesMapping)) throw TypeError(".io.cucumber.messages.SourcesFilterConfig.uriToLinesMapping: array expected");
            message.uriToLinesMapping = [];
            for (var i = 0; i < object.uriToLinesMapping.length; ++i) {
              if (typeof object.uriToLinesMapping[i] !== "object") throw TypeError(".io.cucumber.messages.SourcesFilterConfig.uriToLinesMapping: object expected");
              message.uriToLinesMapping[i] = $root.io.cucumber.messages.UriToLinesMapping.fromObject(object.uriToLinesMapping[i]);
            }
          }
          return message;
        };
        SourcesFilterConfig.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) {
            object.nameRegularExpressions = [];
            object.uriToLinesMapping = [];
          }
          if (options.defaults) object.tagExpression = "";
          if (message.tagExpression != null && message.hasOwnProperty("tagExpression")) object.tagExpression = message.tagExpression;
          if (message.nameRegularExpressions && message.nameRegularExpressions.length) {
            object.nameRegularExpressions = [];
            for (var j = 0; j < message.nameRegularExpressions.length; ++j) object.nameRegularExpressions[j] = message.nameRegularExpressions[j];
          }
          if (message.uriToLinesMapping && message.uriToLinesMapping.length) {
            object.uriToLinesMapping = [];
            for (var j = 0; j < message.uriToLinesMapping.length; ++j) object.uriToLinesMapping[j] = $root.io.cucumber.messages.UriToLinesMapping.toObject(message.uriToLinesMapping[j], options);
          }
          return object;
        };
        SourcesFilterConfig.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return SourcesFilterConfig;
      }();
      messages.UriToLinesMapping = function () {
        function UriToLinesMapping(properties) {
          this.lines = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        UriToLinesMapping.prototype.absolutePath = "";
        UriToLinesMapping.prototype.lines = $util.emptyArray;
        UriToLinesMapping.create = function create(properties) {
          return new UriToLinesMapping(properties);
        };
        UriToLinesMapping.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.absolutePath != null && message.hasOwnProperty("absolutePath")) writer.uint32(10).string(message.absolutePath);
          if (message.lines != null && message.lines.length) {
            writer.uint32(18).fork();
            for (var i = 0; i < message.lines.length; ++i) writer.uint64(message.lines[i]);
            writer.ldelim();
          }
          return writer;
        };
        UriToLinesMapping.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        UriToLinesMapping.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.UriToLinesMapping();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.absolutePath = reader.string();
                break;
              case 2:
                if (!(message.lines && message.lines.length)) message.lines = [];
                if ((tag & 7) === 2) {
                  var end2 = reader.uint32() + reader.pos;
                  while (reader.pos < end2) message.lines.push(reader.uint64());
                } else message.lines.push(reader.uint64());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        UriToLinesMapping.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        UriToLinesMapping.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.absolutePath != null && message.hasOwnProperty("absolutePath")) if (!$util.isString(message.absolutePath)) return "absolutePath: string expected";
          if (message.lines != null && message.hasOwnProperty("lines")) {
            if (!Array.isArray(message.lines)) return "lines: array expected";
            for (var i = 0; i < message.lines.length; ++i) if (!$util.isInteger(message.lines[i]) && !(message.lines[i] && $util.isInteger(message.lines[i].low) && $util.isInteger(message.lines[i].high))) return "lines: integer|Long[] expected";
          }
          return null;
        };
        UriToLinesMapping.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.UriToLinesMapping) return object;
          var message = new $root.io.cucumber.messages.UriToLinesMapping();
          if (object.absolutePath != null) message.absolutePath = String(object.absolutePath);
          if (object.lines) {
            if (!Array.isArray(object.lines)) throw TypeError(".io.cucumber.messages.UriToLinesMapping.lines: array expected");
            message.lines = [];
            for (var i = 0; i < object.lines.length; ++i) if ($util.Long) (message.lines[i] = $util.Long.fromValue(object.lines[i])).unsigned = true;else if (typeof object.lines[i] === "string") message.lines[i] = parseInt(object.lines[i], 10);else if (typeof object.lines[i] === "number") message.lines[i] = object.lines[i];else if (typeof object.lines[i] === "object") message.lines[i] = new $util.LongBits(object.lines[i].low >>> 0, object.lines[i].high >>> 0).toNumber(true);
          }
          return message;
        };
        UriToLinesMapping.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) object.lines = [];
          if (options.defaults) object.absolutePath = "";
          if (message.absolutePath != null && message.hasOwnProperty("absolutePath")) object.absolutePath = message.absolutePath;
          if (message.lines && message.lines.length) {
            object.lines = [];
            for (var j = 0; j < message.lines.length; ++j) if (typeof message.lines[j] === "number") object.lines[j] = options.longs === String ? String(message.lines[j]) : message.lines[j];else object.lines[j] = options.longs === String ? $util.Long.prototype.toString.call(message.lines[j]) : options.longs === Number ? new $util.LongBits(message.lines[j].low >>> 0, message.lines[j].high >>> 0).toNumber(true) : message.lines[j];
          }
          return object;
        };
        UriToLinesMapping.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return UriToLinesMapping;
      }();
      messages.SourcesOrder = function () {
        function SourcesOrder(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        SourcesOrder.prototype.type = 0;
        SourcesOrder.prototype.seed = $util.Long ? $util.Long.fromBits(0, 0, true) : 0;
        SourcesOrder.create = function create(properties) {
          return new SourcesOrder(properties);
        };
        SourcesOrder.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.type != null && message.hasOwnProperty("type")) writer.uint32(8).int32(message.type);
          if (message.seed != null && message.hasOwnProperty("seed")) writer.uint32(16).uint64(message.seed);
          return writer;
        };
        SourcesOrder.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        SourcesOrder.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.SourcesOrder();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.type = reader.int32();
                break;
              case 2:
                message.seed = reader.uint64();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        SourcesOrder.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        SourcesOrder.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.type != null && message.hasOwnProperty("type")) switch (message.type) {
            default:
              return "type: enum value expected";
            case 0:
            case 1:
              break;
          }
          if (message.seed != null && message.hasOwnProperty("seed")) if (!$util.isInteger(message.seed) && !(message.seed && $util.isInteger(message.seed.low) && $util.isInteger(message.seed.high))) return "seed: integer|Long expected";
          return null;
        };
        SourcesOrder.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.SourcesOrder) return object;
          var message = new $root.io.cucumber.messages.SourcesOrder();
          switch (object.type) {
            case "ORDER_OF_DEFINITION":
            case 0:
              message.type = 0;
              break;
            case "RANDOM":
            case 1:
              message.type = 1;
              break;
          }
          if (object.seed != null) if ($util.Long) (message.seed = $util.Long.fromValue(object.seed)).unsigned = true;else if (typeof object.seed === "string") message.seed = parseInt(object.seed, 10);else if (typeof object.seed === "number") message.seed = object.seed;else if (typeof object.seed === "object") message.seed = new $util.LongBits(object.seed.low >>> 0, object.seed.high >>> 0).toNumber(true);
          return message;
        };
        SourcesOrder.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.type = options.enums === String ? "ORDER_OF_DEFINITION" : 0;
            if ($util.Long) {
              var long = new $util.Long(0, 0, true);
              object.seed = options.longs === String ? long.toString() : options.longs === Number ? long.toNumber() : long;
            } else object.seed = options.longs === String ? "0" : 0;
          }
          if (message.type != null && message.hasOwnProperty("type")) object.type = options.enums === String ? $root.io.cucumber.messages.SourcesOrderType[message.type] : message.type;
          if (message.seed != null && message.hasOwnProperty("seed")) if (typeof message.seed === "number") object.seed = options.longs === String ? String(message.seed) : message.seed;else object.seed = options.longs === String ? $util.Long.prototype.toString.call(message.seed) : options.longs === Number ? new $util.LongBits(message.seed.low >>> 0, message.seed.high >>> 0).toNumber(true) : message.seed;
          return object;
        };
        SourcesOrder.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return SourcesOrder;
      }();
      messages.SourcesOrderType = function () {
        var valuesById = {},
          values = Object.create(valuesById);
        values[valuesById[0] = "ORDER_OF_DEFINITION"] = 0;
        values[valuesById[1] = "RANDOM"] = 1;
        return values;
      }();
      messages.RuntimeConfig = function () {
        function RuntimeConfig(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        RuntimeConfig.prototype.isFailFast = false;
        RuntimeConfig.prototype.isDryRun = false;
        RuntimeConfig.prototype.isStrict = false;
        RuntimeConfig.prototype.maxParallel = $util.Long ? $util.Long.fromBits(0, 0, true) : 0;
        RuntimeConfig.create = function create(properties) {
          return new RuntimeConfig(properties);
        };
        RuntimeConfig.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.isFailFast != null && message.hasOwnProperty("isFailFast")) writer.uint32(8).bool(message.isFailFast);
          if (message.isDryRun != null && message.hasOwnProperty("isDryRun")) writer.uint32(16).bool(message.isDryRun);
          if (message.isStrict != null && message.hasOwnProperty("isStrict")) writer.uint32(24).bool(message.isStrict);
          if (message.maxParallel != null && message.hasOwnProperty("maxParallel")) writer.uint32(32).uint64(message.maxParallel);
          return writer;
        };
        RuntimeConfig.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        RuntimeConfig.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.RuntimeConfig();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.isFailFast = reader.bool();
                break;
              case 2:
                message.isDryRun = reader.bool();
                break;
              case 3:
                message.isStrict = reader.bool();
                break;
              case 4:
                message.maxParallel = reader.uint64();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        RuntimeConfig.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        RuntimeConfig.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.isFailFast != null && message.hasOwnProperty("isFailFast")) if (typeof message.isFailFast !== "boolean") return "isFailFast: boolean expected";
          if (message.isDryRun != null && message.hasOwnProperty("isDryRun")) if (typeof message.isDryRun !== "boolean") return "isDryRun: boolean expected";
          if (message.isStrict != null && message.hasOwnProperty("isStrict")) if (typeof message.isStrict !== "boolean") return "isStrict: boolean expected";
          if (message.maxParallel != null && message.hasOwnProperty("maxParallel")) if (!$util.isInteger(message.maxParallel) && !(message.maxParallel && $util.isInteger(message.maxParallel.low) && $util.isInteger(message.maxParallel.high))) return "maxParallel: integer|Long expected";
          return null;
        };
        RuntimeConfig.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.RuntimeConfig) return object;
          var message = new $root.io.cucumber.messages.RuntimeConfig();
          if (object.isFailFast != null) message.isFailFast = Boolean(object.isFailFast);
          if (object.isDryRun != null) message.isDryRun = Boolean(object.isDryRun);
          if (object.isStrict != null) message.isStrict = Boolean(object.isStrict);
          if (object.maxParallel != null) if ($util.Long) (message.maxParallel = $util.Long.fromValue(object.maxParallel)).unsigned = true;else if (typeof object.maxParallel === "string") message.maxParallel = parseInt(object.maxParallel, 10);else if (typeof object.maxParallel === "number") message.maxParallel = object.maxParallel;else if (typeof object.maxParallel === "object") message.maxParallel = new $util.LongBits(object.maxParallel.low >>> 0, object.maxParallel.high >>> 0).toNumber(true);
          return message;
        };
        RuntimeConfig.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.isFailFast = false;
            object.isDryRun = false;
            object.isStrict = false;
            if ($util.Long) {
              var long = new $util.Long(0, 0, true);
              object.maxParallel = options.longs === String ? long.toString() : options.longs === Number ? long.toNumber() : long;
            } else object.maxParallel = options.longs === String ? "0" : 0;
          }
          if (message.isFailFast != null && message.hasOwnProperty("isFailFast")) object.isFailFast = message.isFailFast;
          if (message.isDryRun != null && message.hasOwnProperty("isDryRun")) object.isDryRun = message.isDryRun;
          if (message.isStrict != null && message.hasOwnProperty("isStrict")) object.isStrict = message.isStrict;
          if (message.maxParallel != null && message.hasOwnProperty("maxParallel")) if (typeof message.maxParallel === "number") object.maxParallel = options.longs === String ? String(message.maxParallel) : message.maxParallel;else object.maxParallel = options.longs === String ? $util.Long.prototype.toString.call(message.maxParallel) : options.longs === Number ? new $util.LongBits(message.maxParallel.low >>> 0, message.maxParallel.high >>> 0).toNumber(true) : message.maxParallel;
          return object;
        };
        RuntimeConfig.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return RuntimeConfig;
      }();
      messages.SupportCodeConfig = function () {
        function SupportCodeConfig(properties) {
          this.beforeTestCaseHooks = [];
          this.afterTestCaseHooks = [];
          this.stepDefinitions = [];
          this.parameterTypes = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        SupportCodeConfig.prototype.beforeTestCaseHooks = $util.emptyArray;
        SupportCodeConfig.prototype.afterTestCaseHooks = $util.emptyArray;
        SupportCodeConfig.prototype.stepDefinitions = $util.emptyArray;
        SupportCodeConfig.prototype.parameterTypes = $util.emptyArray;
        SupportCodeConfig.create = function create(properties) {
          return new SupportCodeConfig(properties);
        };
        SupportCodeConfig.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.beforeTestCaseHooks != null && message.beforeTestCaseHooks.length) for (var i = 0; i < message.beforeTestCaseHooks.length; ++i) $root.io.cucumber.messages.Hook.encode(message.beforeTestCaseHooks[i], writer.uint32(10).fork()).ldelim();
          if (message.afterTestCaseHooks != null && message.afterTestCaseHooks.length) for (var i = 0; i < message.afterTestCaseHooks.length; ++i) $root.io.cucumber.messages.Hook.encode(message.afterTestCaseHooks[i], writer.uint32(18).fork()).ldelim();
          if (message.stepDefinitions != null && message.stepDefinitions.length) for (var i = 0; i < message.stepDefinitions.length; ++i) $root.io.cucumber.messages.StepDefinition.encode(message.stepDefinitions[i], writer.uint32(26).fork()).ldelim();
          if (message.parameterTypes != null && message.parameterTypes.length) for (var i = 0; i < message.parameterTypes.length; ++i) $root.io.cucumber.messages.ParameterType.encode(message.parameterTypes[i], writer.uint32(34).fork()).ldelim();
          return writer;
        };
        SupportCodeConfig.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        SupportCodeConfig.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.SupportCodeConfig();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                if (!(message.beforeTestCaseHooks && message.beforeTestCaseHooks.length)) message.beforeTestCaseHooks = [];
                message.beforeTestCaseHooks.push($root.io.cucumber.messages.Hook.decode(reader, reader.uint32()));
                break;
              case 2:
                if (!(message.afterTestCaseHooks && message.afterTestCaseHooks.length)) message.afterTestCaseHooks = [];
                message.afterTestCaseHooks.push($root.io.cucumber.messages.Hook.decode(reader, reader.uint32()));
                break;
              case 3:
                if (!(message.stepDefinitions && message.stepDefinitions.length)) message.stepDefinitions = [];
                message.stepDefinitions.push($root.io.cucumber.messages.StepDefinition.decode(reader, reader.uint32()));
                break;
              case 4:
                if (!(message.parameterTypes && message.parameterTypes.length)) message.parameterTypes = [];
                message.parameterTypes.push($root.io.cucumber.messages.ParameterType.decode(reader, reader.uint32()));
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        SupportCodeConfig.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        SupportCodeConfig.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.beforeTestCaseHooks != null && message.hasOwnProperty("beforeTestCaseHooks")) {
            if (!Array.isArray(message.beforeTestCaseHooks)) return "beforeTestCaseHooks: array expected";
            for (var i = 0; i < message.beforeTestCaseHooks.length; ++i) {
              var error = $root.io.cucumber.messages.Hook.verify(message.beforeTestCaseHooks[i]);
              if (error) return "beforeTestCaseHooks." + error;
            }
          }
          if (message.afterTestCaseHooks != null && message.hasOwnProperty("afterTestCaseHooks")) {
            if (!Array.isArray(message.afterTestCaseHooks)) return "afterTestCaseHooks: array expected";
            for (var i = 0; i < message.afterTestCaseHooks.length; ++i) {
              var error = $root.io.cucumber.messages.Hook.verify(message.afterTestCaseHooks[i]);
              if (error) return "afterTestCaseHooks." + error;
            }
          }
          if (message.stepDefinitions != null && message.hasOwnProperty("stepDefinitions")) {
            if (!Array.isArray(message.stepDefinitions)) return "stepDefinitions: array expected";
            for (var i = 0; i < message.stepDefinitions.length; ++i) {
              var error = $root.io.cucumber.messages.StepDefinition.verify(message.stepDefinitions[i]);
              if (error) return "stepDefinitions." + error;
            }
          }
          if (message.parameterTypes != null && message.hasOwnProperty("parameterTypes")) {
            if (!Array.isArray(message.parameterTypes)) return "parameterTypes: array expected";
            for (var i = 0; i < message.parameterTypes.length; ++i) {
              var error = $root.io.cucumber.messages.ParameterType.verify(message.parameterTypes[i]);
              if (error) return "parameterTypes." + error;
            }
          }
          return null;
        };
        SupportCodeConfig.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.SupportCodeConfig) return object;
          var message = new $root.io.cucumber.messages.SupportCodeConfig();
          if (object.beforeTestCaseHooks) {
            if (!Array.isArray(object.beforeTestCaseHooks)) throw TypeError(".io.cucumber.messages.SupportCodeConfig.beforeTestCaseHooks: array expected");
            message.beforeTestCaseHooks = [];
            for (var i = 0; i < object.beforeTestCaseHooks.length; ++i) {
              if (typeof object.beforeTestCaseHooks[i] !== "object") throw TypeError(".io.cucumber.messages.SupportCodeConfig.beforeTestCaseHooks: object expected");
              message.beforeTestCaseHooks[i] = $root.io.cucumber.messages.Hook.fromObject(object.beforeTestCaseHooks[i]);
            }
          }
          if (object.afterTestCaseHooks) {
            if (!Array.isArray(object.afterTestCaseHooks)) throw TypeError(".io.cucumber.messages.SupportCodeConfig.afterTestCaseHooks: array expected");
            message.afterTestCaseHooks = [];
            for (var i = 0; i < object.afterTestCaseHooks.length; ++i) {
              if (typeof object.afterTestCaseHooks[i] !== "object") throw TypeError(".io.cucumber.messages.SupportCodeConfig.afterTestCaseHooks: object expected");
              message.afterTestCaseHooks[i] = $root.io.cucumber.messages.Hook.fromObject(object.afterTestCaseHooks[i]);
            }
          }
          if (object.stepDefinitions) {
            if (!Array.isArray(object.stepDefinitions)) throw TypeError(".io.cucumber.messages.SupportCodeConfig.stepDefinitions: array expected");
            message.stepDefinitions = [];
            for (var i = 0; i < object.stepDefinitions.length; ++i) {
              if (typeof object.stepDefinitions[i] !== "object") throw TypeError(".io.cucumber.messages.SupportCodeConfig.stepDefinitions: object expected");
              message.stepDefinitions[i] = $root.io.cucumber.messages.StepDefinition.fromObject(object.stepDefinitions[i]);
            }
          }
          if (object.parameterTypes) {
            if (!Array.isArray(object.parameterTypes)) throw TypeError(".io.cucumber.messages.SupportCodeConfig.parameterTypes: array expected");
            message.parameterTypes = [];
            for (var i = 0; i < object.parameterTypes.length; ++i) {
              if (typeof object.parameterTypes[i] !== "object") throw TypeError(".io.cucumber.messages.SupportCodeConfig.parameterTypes: object expected");
              message.parameterTypes[i] = $root.io.cucumber.messages.ParameterType.fromObject(object.parameterTypes[i]);
            }
          }
          return message;
        };
        SupportCodeConfig.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) {
            object.beforeTestCaseHooks = [];
            object.afterTestCaseHooks = [];
            object.stepDefinitions = [];
            object.parameterTypes = [];
          }
          if (message.beforeTestCaseHooks && message.beforeTestCaseHooks.length) {
            object.beforeTestCaseHooks = [];
            for (var j = 0; j < message.beforeTestCaseHooks.length; ++j) object.beforeTestCaseHooks[j] = $root.io.cucumber.messages.Hook.toObject(message.beforeTestCaseHooks[j], options);
          }
          if (message.afterTestCaseHooks && message.afterTestCaseHooks.length) {
            object.afterTestCaseHooks = [];
            for (var j = 0; j < message.afterTestCaseHooks.length; ++j) object.afterTestCaseHooks[j] = $root.io.cucumber.messages.Hook.toObject(message.afterTestCaseHooks[j], options);
          }
          if (message.stepDefinitions && message.stepDefinitions.length) {
            object.stepDefinitions = [];
            for (var j = 0; j < message.stepDefinitions.length; ++j) object.stepDefinitions[j] = $root.io.cucumber.messages.StepDefinition.toObject(message.stepDefinitions[j], options);
          }
          if (message.parameterTypes && message.parameterTypes.length) {
            object.parameterTypes = [];
            for (var j = 0; j < message.parameterTypes.length; ++j) object.parameterTypes[j] = $root.io.cucumber.messages.ParameterType.toObject(message.parameterTypes[j], options);
          }
          return object;
        };
        SupportCodeConfig.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return SupportCodeConfig;
      }();
      messages.Hook = function () {
        function Hook(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        Hook.prototype.id = "";
        Hook.prototype.tagExpression = "";
        Hook.prototype.sourceReference = null;
        Hook.create = function create(properties) {
          return new Hook(properties);
        };
        Hook.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.id != null && message.hasOwnProperty("id")) writer.uint32(10).string(message.id);
          if (message.tagExpression != null && message.hasOwnProperty("tagExpression")) writer.uint32(18).string(message.tagExpression);
          if (message.sourceReference != null && message.hasOwnProperty("sourceReference")) $root.io.cucumber.messages.SourceReference.encode(message.sourceReference, writer.uint32(26).fork()).ldelim();
          return writer;
        };
        Hook.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        Hook.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.Hook();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.id = reader.string();
                break;
              case 2:
                message.tagExpression = reader.string();
                break;
              case 3:
                message.sourceReference = $root.io.cucumber.messages.SourceReference.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        Hook.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        Hook.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
          if (message.tagExpression != null && message.hasOwnProperty("tagExpression")) if (!$util.isString(message.tagExpression)) return "tagExpression: string expected";
          if (message.sourceReference != null && message.hasOwnProperty("sourceReference")) {
            var error = $root.io.cucumber.messages.SourceReference.verify(message.sourceReference);
            if (error) return "sourceReference." + error;
          }
          return null;
        };
        Hook.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.Hook) return object;
          var message = new $root.io.cucumber.messages.Hook();
          if (object.id != null) message.id = String(object.id);
          if (object.tagExpression != null) message.tagExpression = String(object.tagExpression);
          if (object.sourceReference != null) {
            if (typeof object.sourceReference !== "object") throw TypeError(".io.cucumber.messages.Hook.sourceReference: object expected");
            message.sourceReference = $root.io.cucumber.messages.SourceReference.fromObject(object.sourceReference);
          }
          return message;
        };
        Hook.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.id = "";
            object.tagExpression = "";
            object.sourceReference = null;
          }
          if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
          if (message.tagExpression != null && message.hasOwnProperty("tagExpression")) object.tagExpression = message.tagExpression;
          if (message.sourceReference != null && message.hasOwnProperty("sourceReference")) object.sourceReference = $root.io.cucumber.messages.SourceReference.toObject(message.sourceReference, options);
          return object;
        };
        Hook.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return Hook;
      }();
      messages.StepDefinition = function () {
        function StepDefinition(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        StepDefinition.prototype.id = "";
        StepDefinition.prototype.pattern = null;
        StepDefinition.prototype.sourceReference = null;
        StepDefinition.create = function create(properties) {
          return new StepDefinition(properties);
        };
        StepDefinition.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.id != null && message.hasOwnProperty("id")) writer.uint32(10).string(message.id);
          if (message.pattern != null && message.hasOwnProperty("pattern")) $root.io.cucumber.messages.StepDefinitionPattern.encode(message.pattern, writer.uint32(18).fork()).ldelim();
          if (message.sourceReference != null && message.hasOwnProperty("sourceReference")) $root.io.cucumber.messages.SourceReference.encode(message.sourceReference, writer.uint32(26).fork()).ldelim();
          return writer;
        };
        StepDefinition.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        StepDefinition.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.StepDefinition();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.id = reader.string();
                break;
              case 2:
                message.pattern = $root.io.cucumber.messages.StepDefinitionPattern.decode(reader, reader.uint32());
                break;
              case 3:
                message.sourceReference = $root.io.cucumber.messages.SourceReference.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        StepDefinition.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        StepDefinition.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.id != null && message.hasOwnProperty("id")) if (!$util.isString(message.id)) return "id: string expected";
          if (message.pattern != null && message.hasOwnProperty("pattern")) {
            var error = $root.io.cucumber.messages.StepDefinitionPattern.verify(message.pattern);
            if (error) return "pattern." + error;
          }
          if (message.sourceReference != null && message.hasOwnProperty("sourceReference")) {
            var error = $root.io.cucumber.messages.SourceReference.verify(message.sourceReference);
            if (error) return "sourceReference." + error;
          }
          return null;
        };
        StepDefinition.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.StepDefinition) return object;
          var message = new $root.io.cucumber.messages.StepDefinition();
          if (object.id != null) message.id = String(object.id);
          if (object.pattern != null) {
            if (typeof object.pattern !== "object") throw TypeError(".io.cucumber.messages.StepDefinition.pattern: object expected");
            message.pattern = $root.io.cucumber.messages.StepDefinitionPattern.fromObject(object.pattern);
          }
          if (object.sourceReference != null) {
            if (typeof object.sourceReference !== "object") throw TypeError(".io.cucumber.messages.StepDefinition.sourceReference: object expected");
            message.sourceReference = $root.io.cucumber.messages.SourceReference.fromObject(object.sourceReference);
          }
          return message;
        };
        StepDefinition.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.id = "";
            object.pattern = null;
            object.sourceReference = null;
          }
          if (message.id != null && message.hasOwnProperty("id")) object.id = message.id;
          if (message.pattern != null && message.hasOwnProperty("pattern")) object.pattern = $root.io.cucumber.messages.StepDefinitionPattern.toObject(message.pattern, options);
          if (message.sourceReference != null && message.hasOwnProperty("sourceReference")) object.sourceReference = $root.io.cucumber.messages.SourceReference.toObject(message.sourceReference, options);
          return object;
        };
        StepDefinition.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return StepDefinition;
      }();
      messages.StepDefinitionPattern = function () {
        function StepDefinitionPattern(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        StepDefinitionPattern.prototype.source = "";
        StepDefinitionPattern.prototype.type = 0;
        StepDefinitionPattern.create = function create(properties) {
          return new StepDefinitionPattern(properties);
        };
        StepDefinitionPattern.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.source != null && message.hasOwnProperty("source")) writer.uint32(10).string(message.source);
          if (message.type != null && message.hasOwnProperty("type")) writer.uint32(16).int32(message.type);
          return writer;
        };
        StepDefinitionPattern.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        StepDefinitionPattern.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.StepDefinitionPattern();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.source = reader.string();
                break;
              case 2:
                message.type = reader.int32();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        StepDefinitionPattern.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        StepDefinitionPattern.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.source != null && message.hasOwnProperty("source")) if (!$util.isString(message.source)) return "source: string expected";
          if (message.type != null && message.hasOwnProperty("type")) switch (message.type) {
            default:
              return "type: enum value expected";
            case 0:
            case 1:
              break;
          }
          return null;
        };
        StepDefinitionPattern.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.StepDefinitionPattern) return object;
          var message = new $root.io.cucumber.messages.StepDefinitionPattern();
          if (object.source != null) message.source = String(object.source);
          switch (object.type) {
            case "CUCUMBER_EXPRESSION":
            case 0:
              message.type = 0;
              break;
            case "REGULAR_EXPRESSION":
            case 1:
              message.type = 1;
              break;
          }
          return message;
        };
        StepDefinitionPattern.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.source = "";
            object.type = options.enums === String ? "CUCUMBER_EXPRESSION" : 0;
          }
          if (message.source != null && message.hasOwnProperty("source")) object.source = message.source;
          if (message.type != null && message.hasOwnProperty("type")) object.type = options.enums === String ? $root.io.cucumber.messages.StepDefinitionPatternType[message.type] : message.type;
          return object;
        };
        StepDefinitionPattern.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return StepDefinitionPattern;
      }();
      messages.StepDefinitionPatternType = function () {
        var valuesById = {},
          values = Object.create(valuesById);
        values[valuesById[0] = "CUCUMBER_EXPRESSION"] = 0;
        values[valuesById[1] = "REGULAR_EXPRESSION"] = 1;
        return values;
      }();
      messages.ParameterType = function () {
        function ParameterType(properties) {
          this.regularExpressions = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        ParameterType.prototype.name = "";
        ParameterType.prototype.regularExpressions = $util.emptyArray;
        ParameterType.prototype.preferForRegularExpressionMatch = false;
        ParameterType.prototype.useForSnippets = false;
        ParameterType.create = function create(properties) {
          return new ParameterType(properties);
        };
        ParameterType.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.name != null && message.hasOwnProperty("name")) writer.uint32(10).string(message.name);
          if (message.regularExpressions != null && message.regularExpressions.length) for (var i = 0; i < message.regularExpressions.length; ++i) writer.uint32(18).string(message.regularExpressions[i]);
          if (message.preferForRegularExpressionMatch != null && message.hasOwnProperty("preferForRegularExpressionMatch")) writer.uint32(24).bool(message.preferForRegularExpressionMatch);
          if (message.useForSnippets != null && message.hasOwnProperty("useForSnippets")) writer.uint32(32).bool(message.useForSnippets);
          return writer;
        };
        ParameterType.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        ParameterType.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.ParameterType();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.name = reader.string();
                break;
              case 2:
                if (!(message.regularExpressions && message.regularExpressions.length)) message.regularExpressions = [];
                message.regularExpressions.push(reader.string());
                break;
              case 3:
                message.preferForRegularExpressionMatch = reader.bool();
                break;
              case 4:
                message.useForSnippets = reader.bool();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        ParameterType.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        ParameterType.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.name != null && message.hasOwnProperty("name")) if (!$util.isString(message.name)) return "name: string expected";
          if (message.regularExpressions != null && message.hasOwnProperty("regularExpressions")) {
            if (!Array.isArray(message.regularExpressions)) return "regularExpressions: array expected";
            for (var i = 0; i < message.regularExpressions.length; ++i) if (!$util.isString(message.regularExpressions[i])) return "regularExpressions: string[] expected";
          }
          if (message.preferForRegularExpressionMatch != null && message.hasOwnProperty("preferForRegularExpressionMatch")) if (typeof message.preferForRegularExpressionMatch !== "boolean") return "preferForRegularExpressionMatch: boolean expected";
          if (message.useForSnippets != null && message.hasOwnProperty("useForSnippets")) if (typeof message.useForSnippets !== "boolean") return "useForSnippets: boolean expected";
          return null;
        };
        ParameterType.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.ParameterType) return object;
          var message = new $root.io.cucumber.messages.ParameterType();
          if (object.name != null) message.name = String(object.name);
          if (object.regularExpressions) {
            if (!Array.isArray(object.regularExpressions)) throw TypeError(".io.cucumber.messages.ParameterType.regularExpressions: array expected");
            message.regularExpressions = [];
            for (var i = 0; i < object.regularExpressions.length; ++i) message.regularExpressions[i] = String(object.regularExpressions[i]);
          }
          if (object.preferForRegularExpressionMatch != null) message.preferForRegularExpressionMatch = Boolean(object.preferForRegularExpressionMatch);
          if (object.useForSnippets != null) message.useForSnippets = Boolean(object.useForSnippets);
          return message;
        };
        ParameterType.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) object.regularExpressions = [];
          if (options.defaults) {
            object.name = "";
            object.preferForRegularExpressionMatch = false;
            object.useForSnippets = false;
          }
          if (message.name != null && message.hasOwnProperty("name")) object.name = message.name;
          if (message.regularExpressions && message.regularExpressions.length) {
            object.regularExpressions = [];
            for (var j = 0; j < message.regularExpressions.length; ++j) object.regularExpressions[j] = message.regularExpressions[j];
          }
          if (message.preferForRegularExpressionMatch != null && message.hasOwnProperty("preferForRegularExpressionMatch")) object.preferForRegularExpressionMatch = message.preferForRegularExpressionMatch;
          if (message.useForSnippets != null && message.hasOwnProperty("useForSnippets")) object.useForSnippets = message.useForSnippets;
          return object;
        };
        ParameterType.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return ParameterType;
      }();
      messages.CommandActionComplete = function () {
        function CommandActionComplete(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        CommandActionComplete.prototype.completedId = "";
        CommandActionComplete.prototype.testResult = null;
        CommandActionComplete.prototype.snippet = "";
        var $oneOfFields;
        Object.defineProperty(CommandActionComplete.prototype, "result", {
          get: $util.oneOfGetter($oneOfFields = ["testResult", "snippet"]),
          set: $util.oneOfSetter($oneOfFields)
        });
        CommandActionComplete.create = function create(properties) {
          return new CommandActionComplete(properties);
        };
        CommandActionComplete.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.completedId != null && message.hasOwnProperty("completedId")) writer.uint32(10).string(message.completedId);
          if (message.testResult != null && message.hasOwnProperty("testResult")) $root.io.cucumber.messages.TestResult.encode(message.testResult, writer.uint32(18).fork()).ldelim();
          if (message.snippet != null && message.hasOwnProperty("snippet")) writer.uint32(26).string(message.snippet);
          return writer;
        };
        CommandActionComplete.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        CommandActionComplete.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.CommandActionComplete();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.completedId = reader.string();
                break;
              case 2:
                message.testResult = $root.io.cucumber.messages.TestResult.decode(reader, reader.uint32());
                break;
              case 3:
                message.snippet = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        CommandActionComplete.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        CommandActionComplete.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          var properties = {};
          if (message.completedId != null && message.hasOwnProperty("completedId")) if (!$util.isString(message.completedId)) return "completedId: string expected";
          if (message.testResult != null && message.hasOwnProperty("testResult")) {
            properties.result = 1;
            {
              var error = $root.io.cucumber.messages.TestResult.verify(message.testResult);
              if (error) return "testResult." + error;
            }
          }
          if (message.snippet != null && message.hasOwnProperty("snippet")) {
            if (properties.result === 1) return "result: multiple values";
            properties.result = 1;
            if (!$util.isString(message.snippet)) return "snippet: string expected";
          }
          return null;
        };
        CommandActionComplete.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.CommandActionComplete) return object;
          var message = new $root.io.cucumber.messages.CommandActionComplete();
          if (object.completedId != null) message.completedId = String(object.completedId);
          if (object.testResult != null) {
            if (typeof object.testResult !== "object") throw TypeError(".io.cucumber.messages.CommandActionComplete.testResult: object expected");
            message.testResult = $root.io.cucumber.messages.TestResult.fromObject(object.testResult);
          }
          if (object.snippet != null) message.snippet = String(object.snippet);
          return message;
        };
        CommandActionComplete.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) object.completedId = "";
          if (message.completedId != null && message.hasOwnProperty("completedId")) object.completedId = message.completedId;
          if (message.testResult != null && message.hasOwnProperty("testResult")) {
            object.testResult = $root.io.cucumber.messages.TestResult.toObject(message.testResult, options);
            if (options.oneofs) object.result = "testResult";
          }
          if (message.snippet != null && message.hasOwnProperty("snippet")) {
            object.snippet = message.snippet;
            if (options.oneofs) object.result = "snippet";
          }
          return object;
        };
        CommandActionComplete.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return CommandActionComplete;
      }();
      messages.CommandRunBeforeTestRunHooks = function () {
        function CommandRunBeforeTestRunHooks(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        CommandRunBeforeTestRunHooks.prototype.actionId = "";
        CommandRunBeforeTestRunHooks.create = function create(properties) {
          return new CommandRunBeforeTestRunHooks(properties);
        };
        CommandRunBeforeTestRunHooks.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.actionId != null && message.hasOwnProperty("actionId")) writer.uint32(10).string(message.actionId);
          return writer;
        };
        CommandRunBeforeTestRunHooks.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        CommandRunBeforeTestRunHooks.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.CommandRunBeforeTestRunHooks();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.actionId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        CommandRunBeforeTestRunHooks.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        CommandRunBeforeTestRunHooks.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.actionId != null && message.hasOwnProperty("actionId")) if (!$util.isString(message.actionId)) return "actionId: string expected";
          return null;
        };
        CommandRunBeforeTestRunHooks.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.CommandRunBeforeTestRunHooks) return object;
          var message = new $root.io.cucumber.messages.CommandRunBeforeTestRunHooks();
          if (object.actionId != null) message.actionId = String(object.actionId);
          return message;
        };
        CommandRunBeforeTestRunHooks.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) object.actionId = "";
          if (message.actionId != null && message.hasOwnProperty("actionId")) object.actionId = message.actionId;
          return object;
        };
        CommandRunBeforeTestRunHooks.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return CommandRunBeforeTestRunHooks;
      }();
      messages.CommandRunAfterTestRunHooks = function () {
        function CommandRunAfterTestRunHooks(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        CommandRunAfterTestRunHooks.prototype.actionId = "";
        CommandRunAfterTestRunHooks.create = function create(properties) {
          return new CommandRunAfterTestRunHooks(properties);
        };
        CommandRunAfterTestRunHooks.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.actionId != null && message.hasOwnProperty("actionId")) writer.uint32(10).string(message.actionId);
          return writer;
        };
        CommandRunAfterTestRunHooks.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        CommandRunAfterTestRunHooks.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.CommandRunAfterTestRunHooks();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.actionId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        CommandRunAfterTestRunHooks.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        CommandRunAfterTestRunHooks.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.actionId != null && message.hasOwnProperty("actionId")) if (!$util.isString(message.actionId)) return "actionId: string expected";
          return null;
        };
        CommandRunAfterTestRunHooks.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.CommandRunAfterTestRunHooks) return object;
          var message = new $root.io.cucumber.messages.CommandRunAfterTestRunHooks();
          if (object.actionId != null) message.actionId = String(object.actionId);
          return message;
        };
        CommandRunAfterTestRunHooks.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) object.actionId = "";
          if (message.actionId != null && message.hasOwnProperty("actionId")) object.actionId = message.actionId;
          return object;
        };
        CommandRunAfterTestRunHooks.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return CommandRunAfterTestRunHooks;
      }();
      messages.CommandInitializeTestCase = function () {
        function CommandInitializeTestCase(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        CommandInitializeTestCase.prototype.actionId = "";
        CommandInitializeTestCase.prototype.pickle = null;
        CommandInitializeTestCase.create = function create(properties) {
          return new CommandInitializeTestCase(properties);
        };
        CommandInitializeTestCase.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.actionId != null && message.hasOwnProperty("actionId")) writer.uint32(10).string(message.actionId);
          if (message.pickle != null && message.hasOwnProperty("pickle")) $root.io.cucumber.messages.Pickle.encode(message.pickle, writer.uint32(18).fork()).ldelim();
          return writer;
        };
        CommandInitializeTestCase.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        CommandInitializeTestCase.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.CommandInitializeTestCase();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.actionId = reader.string();
                break;
              case 2:
                message.pickle = $root.io.cucumber.messages.Pickle.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        CommandInitializeTestCase.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        CommandInitializeTestCase.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.actionId != null && message.hasOwnProperty("actionId")) if (!$util.isString(message.actionId)) return "actionId: string expected";
          if (message.pickle != null && message.hasOwnProperty("pickle")) {
            var error = $root.io.cucumber.messages.Pickle.verify(message.pickle);
            if (error) return "pickle." + error;
          }
          return null;
        };
        CommandInitializeTestCase.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.CommandInitializeTestCase) return object;
          var message = new $root.io.cucumber.messages.CommandInitializeTestCase();
          if (object.actionId != null) message.actionId = String(object.actionId);
          if (object.pickle != null) {
            if (typeof object.pickle !== "object") throw TypeError(".io.cucumber.messages.CommandInitializeTestCase.pickle: object expected");
            message.pickle = $root.io.cucumber.messages.Pickle.fromObject(object.pickle);
          }
          return message;
        };
        CommandInitializeTestCase.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.actionId = "";
            object.pickle = null;
          }
          if (message.actionId != null && message.hasOwnProperty("actionId")) object.actionId = message.actionId;
          if (message.pickle != null && message.hasOwnProperty("pickle")) object.pickle = $root.io.cucumber.messages.Pickle.toObject(message.pickle, options);
          return object;
        };
        CommandInitializeTestCase.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return CommandInitializeTestCase;
      }();
      messages.CommandRunBeforeTestCaseHook = function () {
        function CommandRunBeforeTestCaseHook(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        CommandRunBeforeTestCaseHook.prototype.actionId = "";
        CommandRunBeforeTestCaseHook.prototype.hookId = "";
        CommandRunBeforeTestCaseHook.prototype.testCaseId = "";
        CommandRunBeforeTestCaseHook.create = function create(properties) {
          return new CommandRunBeforeTestCaseHook(properties);
        };
        CommandRunBeforeTestCaseHook.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.actionId != null && message.hasOwnProperty("actionId")) writer.uint32(10).string(message.actionId);
          if (message.hookId != null && message.hasOwnProperty("hookId")) writer.uint32(18).string(message.hookId);
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) writer.uint32(26).string(message.testCaseId);
          return writer;
        };
        CommandRunBeforeTestCaseHook.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        CommandRunBeforeTestCaseHook.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.CommandRunBeforeTestCaseHook();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.actionId = reader.string();
                break;
              case 2:
                message.hookId = reader.string();
                break;
              case 3:
                message.testCaseId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        CommandRunBeforeTestCaseHook.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        CommandRunBeforeTestCaseHook.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.actionId != null && message.hasOwnProperty("actionId")) if (!$util.isString(message.actionId)) return "actionId: string expected";
          if (message.hookId != null && message.hasOwnProperty("hookId")) if (!$util.isString(message.hookId)) return "hookId: string expected";
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) if (!$util.isString(message.testCaseId)) return "testCaseId: string expected";
          return null;
        };
        CommandRunBeforeTestCaseHook.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.CommandRunBeforeTestCaseHook) return object;
          var message = new $root.io.cucumber.messages.CommandRunBeforeTestCaseHook();
          if (object.actionId != null) message.actionId = String(object.actionId);
          if (object.hookId != null) message.hookId = String(object.hookId);
          if (object.testCaseId != null) message.testCaseId = String(object.testCaseId);
          return message;
        };
        CommandRunBeforeTestCaseHook.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.actionId = "";
            object.hookId = "";
            object.testCaseId = "";
          }
          if (message.actionId != null && message.hasOwnProperty("actionId")) object.actionId = message.actionId;
          if (message.hookId != null && message.hasOwnProperty("hookId")) object.hookId = message.hookId;
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) object.testCaseId = message.testCaseId;
          return object;
        };
        CommandRunBeforeTestCaseHook.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return CommandRunBeforeTestCaseHook;
      }();
      messages.CommandRunAfterTestCaseHook = function () {
        function CommandRunAfterTestCaseHook(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        CommandRunAfterTestCaseHook.prototype.actionId = "";
        CommandRunAfterTestCaseHook.prototype.hookId = "";
        CommandRunAfterTestCaseHook.prototype.testCaseId = "";
        CommandRunAfterTestCaseHook.create = function create(properties) {
          return new CommandRunAfterTestCaseHook(properties);
        };
        CommandRunAfterTestCaseHook.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.actionId != null && message.hasOwnProperty("actionId")) writer.uint32(10).string(message.actionId);
          if (message.hookId != null && message.hasOwnProperty("hookId")) writer.uint32(18).string(message.hookId);
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) writer.uint32(26).string(message.testCaseId);
          return writer;
        };
        CommandRunAfterTestCaseHook.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        CommandRunAfterTestCaseHook.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.CommandRunAfterTestCaseHook();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.actionId = reader.string();
                break;
              case 2:
                message.hookId = reader.string();
                break;
              case 3:
                message.testCaseId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        CommandRunAfterTestCaseHook.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        CommandRunAfterTestCaseHook.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.actionId != null && message.hasOwnProperty("actionId")) if (!$util.isString(message.actionId)) return "actionId: string expected";
          if (message.hookId != null && message.hasOwnProperty("hookId")) if (!$util.isString(message.hookId)) return "hookId: string expected";
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) if (!$util.isString(message.testCaseId)) return "testCaseId: string expected";
          return null;
        };
        CommandRunAfterTestCaseHook.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.CommandRunAfterTestCaseHook) return object;
          var message = new $root.io.cucumber.messages.CommandRunAfterTestCaseHook();
          if (object.actionId != null) message.actionId = String(object.actionId);
          if (object.hookId != null) message.hookId = String(object.hookId);
          if (object.testCaseId != null) message.testCaseId = String(object.testCaseId);
          return message;
        };
        CommandRunAfterTestCaseHook.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.actionId = "";
            object.hookId = "";
            object.testCaseId = "";
          }
          if (message.actionId != null && message.hasOwnProperty("actionId")) object.actionId = message.actionId;
          if (message.hookId != null && message.hasOwnProperty("hookId")) object.hookId = message.hookId;
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) object.testCaseId = message.testCaseId;
          return object;
        };
        CommandRunAfterTestCaseHook.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return CommandRunAfterTestCaseHook;
      }();
      messages.CommandRunTestStep = function () {
        function CommandRunTestStep(properties) {
          this.stepMatchArguments = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        CommandRunTestStep.prototype.actionId = "";
        CommandRunTestStep.prototype.stepDefinitionId = "";
        CommandRunTestStep.prototype.stepMatchArguments = $util.emptyArray;
        CommandRunTestStep.prototype.pickleStepArgument = null;
        CommandRunTestStep.prototype.testCaseId = "";
        CommandRunTestStep.create = function create(properties) {
          return new CommandRunTestStep(properties);
        };
        CommandRunTestStep.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.actionId != null && message.hasOwnProperty("actionId")) writer.uint32(10).string(message.actionId);
          if (message.stepDefinitionId != null && message.hasOwnProperty("stepDefinitionId")) writer.uint32(18).string(message.stepDefinitionId);
          if (message.stepMatchArguments != null && message.stepMatchArguments.length) for (var i = 0; i < message.stepMatchArguments.length; ++i) $root.io.cucumber.messages.StepMatchArgument.encode(message.stepMatchArguments[i], writer.uint32(26).fork()).ldelim();
          if (message.pickleStepArgument != null && message.hasOwnProperty("pickleStepArgument")) $root.io.cucumber.messages.PickleStepArgument.encode(message.pickleStepArgument, writer.uint32(34).fork()).ldelim();
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) writer.uint32(42).string(message.testCaseId);
          return writer;
        };
        CommandRunTestStep.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        CommandRunTestStep.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.CommandRunTestStep();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.actionId = reader.string();
                break;
              case 2:
                message.stepDefinitionId = reader.string();
                break;
              case 3:
                if (!(message.stepMatchArguments && message.stepMatchArguments.length)) message.stepMatchArguments = [];
                message.stepMatchArguments.push($root.io.cucumber.messages.StepMatchArgument.decode(reader, reader.uint32()));
                break;
              case 4:
                message.pickleStepArgument = $root.io.cucumber.messages.PickleStepArgument.decode(reader, reader.uint32());
                break;
              case 5:
                message.testCaseId = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        CommandRunTestStep.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        CommandRunTestStep.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.actionId != null && message.hasOwnProperty("actionId")) if (!$util.isString(message.actionId)) return "actionId: string expected";
          if (message.stepDefinitionId != null && message.hasOwnProperty("stepDefinitionId")) if (!$util.isString(message.stepDefinitionId)) return "stepDefinitionId: string expected";
          if (message.stepMatchArguments != null && message.hasOwnProperty("stepMatchArguments")) {
            if (!Array.isArray(message.stepMatchArguments)) return "stepMatchArguments: array expected";
            for (var i = 0; i < message.stepMatchArguments.length; ++i) {
              var error = $root.io.cucumber.messages.StepMatchArgument.verify(message.stepMatchArguments[i]);
              if (error) return "stepMatchArguments." + error;
            }
          }
          if (message.pickleStepArgument != null && message.hasOwnProperty("pickleStepArgument")) {
            var error = $root.io.cucumber.messages.PickleStepArgument.verify(message.pickleStepArgument);
            if (error) return "pickleStepArgument." + error;
          }
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) if (!$util.isString(message.testCaseId)) return "testCaseId: string expected";
          return null;
        };
        CommandRunTestStep.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.CommandRunTestStep) return object;
          var message = new $root.io.cucumber.messages.CommandRunTestStep();
          if (object.actionId != null) message.actionId = String(object.actionId);
          if (object.stepDefinitionId != null) message.stepDefinitionId = String(object.stepDefinitionId);
          if (object.stepMatchArguments) {
            if (!Array.isArray(object.stepMatchArguments)) throw TypeError(".io.cucumber.messages.CommandRunTestStep.stepMatchArguments: array expected");
            message.stepMatchArguments = [];
            for (var i = 0; i < object.stepMatchArguments.length; ++i) {
              if (typeof object.stepMatchArguments[i] !== "object") throw TypeError(".io.cucumber.messages.CommandRunTestStep.stepMatchArguments: object expected");
              message.stepMatchArguments[i] = $root.io.cucumber.messages.StepMatchArgument.fromObject(object.stepMatchArguments[i]);
            }
          }
          if (object.pickleStepArgument != null) {
            if (typeof object.pickleStepArgument !== "object") throw TypeError(".io.cucumber.messages.CommandRunTestStep.pickleStepArgument: object expected");
            message.pickleStepArgument = $root.io.cucumber.messages.PickleStepArgument.fromObject(object.pickleStepArgument);
          }
          if (object.testCaseId != null) message.testCaseId = String(object.testCaseId);
          return message;
        };
        CommandRunTestStep.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) object.stepMatchArguments = [];
          if (options.defaults) {
            object.actionId = "";
            object.stepDefinitionId = "";
            object.pickleStepArgument = null;
            object.testCaseId = "";
          }
          if (message.actionId != null && message.hasOwnProperty("actionId")) object.actionId = message.actionId;
          if (message.stepDefinitionId != null && message.hasOwnProperty("stepDefinitionId")) object.stepDefinitionId = message.stepDefinitionId;
          if (message.stepMatchArguments && message.stepMatchArguments.length) {
            object.stepMatchArguments = [];
            for (var j = 0; j < message.stepMatchArguments.length; ++j) object.stepMatchArguments[j] = $root.io.cucumber.messages.StepMatchArgument.toObject(message.stepMatchArguments[j], options);
          }
          if (message.pickleStepArgument != null && message.hasOwnProperty("pickleStepArgument")) object.pickleStepArgument = $root.io.cucumber.messages.PickleStepArgument.toObject(message.pickleStepArgument, options);
          if (message.testCaseId != null && message.hasOwnProperty("testCaseId")) object.testCaseId = message.testCaseId;
          return object;
        };
        CommandRunTestStep.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return CommandRunTestStep;
      }();
      messages.StepMatchArgument = function () {
        function StepMatchArgument(properties) {
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        StepMatchArgument.prototype.parameterTypeName = "";
        StepMatchArgument.prototype.group = null;
        StepMatchArgument.create = function create(properties) {
          return new StepMatchArgument(properties);
        };
        StepMatchArgument.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.parameterTypeName != null && message.hasOwnProperty("parameterTypeName")) writer.uint32(10).string(message.parameterTypeName);
          if (message.group != null && message.hasOwnProperty("group")) $root.io.cucumber.messages.StepMatchArgument.Group.encode(message.group, writer.uint32(18).fork()).ldelim();
          return writer;
        };
        StepMatchArgument.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        StepMatchArgument.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.StepMatchArgument();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.parameterTypeName = reader.string();
                break;
              case 2:
                message.group = $root.io.cucumber.messages.StepMatchArgument.Group.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        StepMatchArgument.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        StepMatchArgument.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.parameterTypeName != null && message.hasOwnProperty("parameterTypeName")) if (!$util.isString(message.parameterTypeName)) return "parameterTypeName: string expected";
          if (message.group != null && message.hasOwnProperty("group")) {
            var error = $root.io.cucumber.messages.StepMatchArgument.Group.verify(message.group);
            if (error) return "group." + error;
          }
          return null;
        };
        StepMatchArgument.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.StepMatchArgument) return object;
          var message = new $root.io.cucumber.messages.StepMatchArgument();
          if (object.parameterTypeName != null) message.parameterTypeName = String(object.parameterTypeName);
          if (object.group != null) {
            if (typeof object.group !== "object") throw TypeError(".io.cucumber.messages.StepMatchArgument.group: object expected");
            message.group = $root.io.cucumber.messages.StepMatchArgument.Group.fromObject(object.group);
          }
          return message;
        };
        StepMatchArgument.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.defaults) {
            object.parameterTypeName = "";
            object.group = null;
          }
          if (message.parameterTypeName != null && message.hasOwnProperty("parameterTypeName")) object.parameterTypeName = message.parameterTypeName;
          if (message.group != null && message.hasOwnProperty("group")) object.group = $root.io.cucumber.messages.StepMatchArgument.Group.toObject(message.group, options);
          return object;
        };
        StepMatchArgument.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        StepMatchArgument.Group = function () {
          function Group(properties) {
            this.children = [];
            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
          }
          Group.prototype.start = 0;
          Group.prototype.value = "";
          Group.prototype.children = $util.emptyArray;
          Group.create = function create(properties) {
            return new Group(properties);
          };
          Group.encode = function encode(message, writer) {
            if (!writer) writer = $Writer.create();
            if (message.start != null && message.hasOwnProperty("start")) writer.uint32(8).uint32(message.start);
            if (message.value != null && message.hasOwnProperty("value")) writer.uint32(18).string(message.value);
            if (message.children != null && message.children.length) for (var i = 0; i < message.children.length; ++i) $root.io.cucumber.messages.StepMatchArgument.Group.encode(message.children[i], writer.uint32(26).fork()).ldelim();
            return writer;
          };
          Group.encodeDelimited = function encodeDelimited(message, writer) {
            return this.encode(message, writer).ldelim();
          };
          Group.decode = function decode(reader, length) {
            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
            var end = length === undefined ? reader.len : reader.pos + length,
              message = new $root.io.cucumber.messages.StepMatchArgument.Group();
            while (reader.pos < end) {
              var tag = reader.uint32();
              switch (tag >>> 3) {
                case 1:
                  message.start = reader.uint32();
                  break;
                case 2:
                  message.value = reader.string();
                  break;
                case 3:
                  if (!(message.children && message.children.length)) message.children = [];
                  message.children.push($root.io.cucumber.messages.StepMatchArgument.Group.decode(reader, reader.uint32()));
                  break;
                default:
                  reader.skipType(tag & 7);
                  break;
              }
            }
            return message;
          };
          Group.decodeDelimited = function decodeDelimited(reader) {
            if (!(reader instanceof $Reader)) reader = new $Reader(reader);
            return this.decode(reader, reader.uint32());
          };
          Group.verify = function verify(message) {
            if (typeof message !== "object" || message === null) return "object expected";
            if (message.start != null && message.hasOwnProperty("start")) if (!$util.isInteger(message.start)) return "start: integer expected";
            if (message.value != null && message.hasOwnProperty("value")) if (!$util.isString(message.value)) return "value: string expected";
            if (message.children != null && message.hasOwnProperty("children")) {
              if (!Array.isArray(message.children)) return "children: array expected";
              for (var i = 0; i < message.children.length; ++i) {
                var error = $root.io.cucumber.messages.StepMatchArgument.Group.verify(message.children[i]);
                if (error) return "children." + error;
              }
            }
            return null;
          };
          Group.fromObject = function fromObject(object) {
            if (object instanceof $root.io.cucumber.messages.StepMatchArgument.Group) return object;
            var message = new $root.io.cucumber.messages.StepMatchArgument.Group();
            if (object.start != null) message.start = object.start >>> 0;
            if (object.value != null) message.value = String(object.value);
            if (object.children) {
              if (!Array.isArray(object.children)) throw TypeError(".io.cucumber.messages.StepMatchArgument.Group.children: array expected");
              message.children = [];
              for (var i = 0; i < object.children.length; ++i) {
                if (typeof object.children[i] !== "object") throw TypeError(".io.cucumber.messages.StepMatchArgument.Group.children: object expected");
                message.children[i] = $root.io.cucumber.messages.StepMatchArgument.Group.fromObject(object.children[i]);
              }
            }
            return message;
          };
          Group.toObject = function toObject(message, options) {
            if (!options) options = {};
            var object = {};
            if (options.arrays || options.defaults) object.children = [];
            if (options.defaults) {
              object.start = 0;
              object.value = "";
            }
            if (message.start != null && message.hasOwnProperty("start")) object.start = message.start;
            if (message.value != null && message.hasOwnProperty("value")) object.value = message.value;
            if (message.children && message.children.length) {
              object.children = [];
              for (var j = 0; j < message.children.length; ++j) object.children[j] = $root.io.cucumber.messages.StepMatchArgument.Group.toObject(message.children[j], options);
            }
            return object;
          };
          Group.prototype.toJSON = function toJSON() {
            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
          };
          return Group;
        }();
        return StepMatchArgument;
      }();
      messages.CommandGenerateSnippet = function () {
        function CommandGenerateSnippet(properties) {
          this.generatedExpressions = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        CommandGenerateSnippet.prototype.actionId = "";
        CommandGenerateSnippet.prototype.generatedExpressions = $util.emptyArray;
        CommandGenerateSnippet.prototype.pickleStepArgument = null;
        CommandGenerateSnippet.create = function create(properties) {
          return new CommandGenerateSnippet(properties);
        };
        CommandGenerateSnippet.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.actionId != null && message.hasOwnProperty("actionId")) writer.uint32(10).string(message.actionId);
          if (message.generatedExpressions != null && message.generatedExpressions.length) for (var i = 0; i < message.generatedExpressions.length; ++i) $root.io.cucumber.messages.GeneratedExpression.encode(message.generatedExpressions[i], writer.uint32(18).fork()).ldelim();
          if (message.pickleStepArgument != null && message.hasOwnProperty("pickleStepArgument")) $root.io.cucumber.messages.PickleStepArgument.encode(message.pickleStepArgument, writer.uint32(26).fork()).ldelim();
          return writer;
        };
        CommandGenerateSnippet.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        CommandGenerateSnippet.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.CommandGenerateSnippet();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.actionId = reader.string();
                break;
              case 2:
                if (!(message.generatedExpressions && message.generatedExpressions.length)) message.generatedExpressions = [];
                message.generatedExpressions.push($root.io.cucumber.messages.GeneratedExpression.decode(reader, reader.uint32()));
                break;
              case 3:
                message.pickleStepArgument = $root.io.cucumber.messages.PickleStepArgument.decode(reader, reader.uint32());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        CommandGenerateSnippet.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        CommandGenerateSnippet.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.actionId != null && message.hasOwnProperty("actionId")) if (!$util.isString(message.actionId)) return "actionId: string expected";
          if (message.generatedExpressions != null && message.hasOwnProperty("generatedExpressions")) {
            if (!Array.isArray(message.generatedExpressions)) return "generatedExpressions: array expected";
            for (var i = 0; i < message.generatedExpressions.length; ++i) {
              var error = $root.io.cucumber.messages.GeneratedExpression.verify(message.generatedExpressions[i]);
              if (error) return "generatedExpressions." + error;
            }
          }
          if (message.pickleStepArgument != null && message.hasOwnProperty("pickleStepArgument")) {
            var error = $root.io.cucumber.messages.PickleStepArgument.verify(message.pickleStepArgument);
            if (error) return "pickleStepArgument." + error;
          }
          return null;
        };
        CommandGenerateSnippet.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.CommandGenerateSnippet) return object;
          var message = new $root.io.cucumber.messages.CommandGenerateSnippet();
          if (object.actionId != null) message.actionId = String(object.actionId);
          if (object.generatedExpressions) {
            if (!Array.isArray(object.generatedExpressions)) throw TypeError(".io.cucumber.messages.CommandGenerateSnippet.generatedExpressions: array expected");
            message.generatedExpressions = [];
            for (var i = 0; i < object.generatedExpressions.length; ++i) {
              if (typeof object.generatedExpressions[i] !== "object") throw TypeError(".io.cucumber.messages.CommandGenerateSnippet.generatedExpressions: object expected");
              message.generatedExpressions[i] = $root.io.cucumber.messages.GeneratedExpression.fromObject(object.generatedExpressions[i]);
            }
          }
          if (object.pickleStepArgument != null) {
            if (typeof object.pickleStepArgument !== "object") throw TypeError(".io.cucumber.messages.CommandGenerateSnippet.pickleStepArgument: object expected");
            message.pickleStepArgument = $root.io.cucumber.messages.PickleStepArgument.fromObject(object.pickleStepArgument);
          }
          return message;
        };
        CommandGenerateSnippet.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) object.generatedExpressions = [];
          if (options.defaults) {
            object.actionId = "";
            object.pickleStepArgument = null;
          }
          if (message.actionId != null && message.hasOwnProperty("actionId")) object.actionId = message.actionId;
          if (message.generatedExpressions && message.generatedExpressions.length) {
            object.generatedExpressions = [];
            for (var j = 0; j < message.generatedExpressions.length; ++j) object.generatedExpressions[j] = $root.io.cucumber.messages.GeneratedExpression.toObject(message.generatedExpressions[j], options);
          }
          if (message.pickleStepArgument != null && message.hasOwnProperty("pickleStepArgument")) object.pickleStepArgument = $root.io.cucumber.messages.PickleStepArgument.toObject(message.pickleStepArgument, options);
          return object;
        };
        CommandGenerateSnippet.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return CommandGenerateSnippet;
      }();
      messages.GeneratedExpression = function () {
        function GeneratedExpression(properties) {
          this.parameterTypeNames = [];
          if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];
        }
        GeneratedExpression.prototype.text = "";
        GeneratedExpression.prototype.parameterTypeNames = $util.emptyArray;
        GeneratedExpression.create = function create(properties) {
          return new GeneratedExpression(properties);
        };
        GeneratedExpression.encode = function encode(message, writer) {
          if (!writer) writer = $Writer.create();
          if (message.text != null && message.hasOwnProperty("text")) writer.uint32(10).string(message.text);
          if (message.parameterTypeNames != null && message.parameterTypeNames.length) for (var i = 0; i < message.parameterTypeNames.length; ++i) writer.uint32(18).string(message.parameterTypeNames[i]);
          return writer;
        };
        GeneratedExpression.encodeDelimited = function encodeDelimited(message, writer) {
          return this.encode(message, writer).ldelim();
        };
        GeneratedExpression.decode = function decode(reader, length) {
          if (!(reader instanceof $Reader)) reader = $Reader.create(reader);
          var end = length === undefined ? reader.len : reader.pos + length,
            message = new $root.io.cucumber.messages.GeneratedExpression();
          while (reader.pos < end) {
            var tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.text = reader.string();
                break;
              case 2:
                if (!(message.parameterTypeNames && message.parameterTypeNames.length)) message.parameterTypeNames = [];
                message.parameterTypeNames.push(reader.string());
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        };
        GeneratedExpression.decodeDelimited = function decodeDelimited(reader) {
          if (!(reader instanceof $Reader)) reader = new $Reader(reader);
          return this.decode(reader, reader.uint32());
        };
        GeneratedExpression.verify = function verify(message) {
          if (typeof message !== "object" || message === null) return "object expected";
          if (message.text != null && message.hasOwnProperty("text")) if (!$util.isString(message.text)) return "text: string expected";
          if (message.parameterTypeNames != null && message.hasOwnProperty("parameterTypeNames")) {
            if (!Array.isArray(message.parameterTypeNames)) return "parameterTypeNames: array expected";
            for (var i = 0; i < message.parameterTypeNames.length; ++i) if (!$util.isString(message.parameterTypeNames[i])) return "parameterTypeNames: string[] expected";
          }
          return null;
        };
        GeneratedExpression.fromObject = function fromObject(object) {
          if (object instanceof $root.io.cucumber.messages.GeneratedExpression) return object;
          var message = new $root.io.cucumber.messages.GeneratedExpression();
          if (object.text != null) message.text = String(object.text);
          if (object.parameterTypeNames) {
            if (!Array.isArray(object.parameterTypeNames)) throw TypeError(".io.cucumber.messages.GeneratedExpression.parameterTypeNames: array expected");
            message.parameterTypeNames = [];
            for (var i = 0; i < object.parameterTypeNames.length; ++i) message.parameterTypeNames[i] = String(object.parameterTypeNames[i]);
          }
          return message;
        };
        GeneratedExpression.toObject = function toObject(message, options) {
          if (!options) options = {};
          var object = {};
          if (options.arrays || options.defaults) object.parameterTypeNames = [];
          if (options.defaults) object.text = "";
          if (message.text != null && message.hasOwnProperty("text")) object.text = message.text;
          if (message.parameterTypeNames && message.parameterTypeNames.length) {
            object.parameterTypeNames = [];
            for (var j = 0; j < message.parameterTypeNames.length; ++j) object.parameterTypeNames[j] = message.parameterTypeNames[j];
          }
          return object;
        };
        GeneratedExpression.prototype.toJSON = function toJSON() {
          return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
        };
        return GeneratedExpression;
      }();
      return messages;
    }();
    return cucumber;
  }();
  return io;
}();
module.exports = $root;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyIkcHJvdG9idWYiLCJyZXF1aXJlIiwiJFJlYWRlciIsIlJlYWRlciIsIiRXcml0ZXIiLCJXcml0ZXIiLCIkdXRpbCIsInV0aWwiLCIkcm9vdCIsInJvb3RzIiwiaW8iLCJjdWN1bWJlciIsIm1lc3NhZ2VzIiwiVGltZXN0YW1wIiwicHJvcGVydGllcyIsImtleXMiLCJPYmplY3QiLCJpIiwibGVuZ3RoIiwicHJvdG90eXBlIiwic2Vjb25kcyIsIkxvbmciLCJmcm9tQml0cyIsIm5hbm9zIiwiY3JlYXRlIiwiZW5jb2RlIiwibWVzc2FnZSIsIndyaXRlciIsImhhc093blByb3BlcnR5IiwidWludDMyIiwiaW50NjQiLCJpbnQzMiIsImVuY29kZURlbGltaXRlZCIsImxkZWxpbSIsImRlY29kZSIsInJlYWRlciIsImVuZCIsInVuZGVmaW5lZCIsImxlbiIsInBvcyIsInRhZyIsInNraXBUeXBlIiwiZGVjb2RlRGVsaW1pdGVkIiwidmVyaWZ5IiwiaXNJbnRlZ2VyIiwibG93IiwiaGlnaCIsImZyb21PYmplY3QiLCJvYmplY3QiLCJmcm9tVmFsdWUiLCJ1bnNpZ25lZCIsInBhcnNlSW50IiwiTG9uZ0JpdHMiLCJ0b051bWJlciIsInRvT2JqZWN0Iiwib3B0aW9ucyIsImRlZmF1bHRzIiwibG9uZyIsImxvbmdzIiwiU3RyaW5nIiwidG9TdHJpbmciLCJOdW1iZXIiLCJjYWxsIiwidG9KU09OIiwiY29uc3RydWN0b3IiLCJ0b0pTT05PcHRpb25zIiwiRHVyYXRpb24iLCJFbnZlbG9wZSIsInNvdXJjZSIsImdoZXJraW5Eb2N1bWVudCIsInBpY2tsZSIsImF0dGFjaG1lbnQiLCJ0ZXN0Q2FzZVN0YXJ0ZWQiLCJ0ZXN0U3RlcFN0YXJ0ZWQiLCJ0ZXN0U3RlcEZpbmlzaGVkIiwidGVzdENhc2VGaW5pc2hlZCIsInBpY2tsZUFjY2VwdGVkIiwicGlja2xlUmVqZWN0ZWQiLCJ0ZXN0Q2FzZVByZXBhcmVkIiwidGVzdFJ1blN0YXJ0ZWQiLCJ0ZXN0UnVuRmluaXNoZWQiLCJjb21tYW5kU3RhcnQiLCJjb21tYW5kQWN0aW9uQ29tcGxldGUiLCJjb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzIiwiY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSIsImNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2siLCJjb21tYW5kUnVuVGVzdFN0ZXAiLCJjb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2siLCJjb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MiLCJjb21tYW5kR2VuZXJhdGVTbmlwcGV0IiwiY29tbWFuZEVycm9yIiwidGVzdENhc2UiLCJzdGVwRGVmaW5pdGlvbiIsImhvb2siLCIkb25lT2ZGaWVsZHMiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsIm9uZU9mR2V0dGVyIiwic2V0Iiwib25lT2ZTZXR0ZXIiLCJTb3VyY2UiLCJmb3JrIiwiR2hlcmtpbkRvY3VtZW50IiwiUGlja2xlIiwiQXR0YWNobWVudCIsIlRlc3RDYXNlU3RhcnRlZCIsIlRlc3RTdGVwU3RhcnRlZCIsIlRlc3RTdGVwRmluaXNoZWQiLCJUZXN0Q2FzZUZpbmlzaGVkIiwiUGlja2xlQWNjZXB0ZWQiLCJQaWNrbGVSZWplY3RlZCIsIlRlc3RDYXNlUHJlcGFyZWQiLCJUZXN0UnVuU3RhcnRlZCIsIlRlc3RSdW5GaW5pc2hlZCIsIkNvbW1hbmRTdGFydCIsIkNvbW1hbmRBY3Rpb25Db21wbGV0ZSIsIkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MiLCJDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlIiwiQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayIsIkNvbW1hbmRSdW5UZXN0U3RlcCIsIkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayIsIkNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcyIsIkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQiLCJzdHJpbmciLCJUZXN0Q2FzZSIsIlN0ZXBEZWZpbml0aW9uIiwiSG9vayIsImVycm9yIiwiaXNTdHJpbmciLCJUeXBlRXJyb3IiLCJvbmVvZnMiLCJMb2NhdGlvbiIsImxpbmUiLCJjb2x1bW4iLCJTb3VyY2VSZWZlcmVuY2UiLCJ1cmkiLCJsb2NhdGlvbiIsIk1lZGlhIiwiZW5jb2RpbmciLCJjb250ZW50VHlwZSIsImVudW1zIiwiRW5jb2RpbmciLCJ2YWx1ZXNCeUlkIiwidmFsdWVzIiwiZGF0YSIsIm1lZGlhIiwiY29tbWVudHMiLCJmZWF0dXJlIiwiZW1wdHlBcnJheSIsIkZlYXR1cmUiLCJDb21tZW50IiwicHVzaCIsIkFycmF5IiwiaXNBcnJheSIsImFycmF5cyIsImoiLCJ0ZXh0IiwidGFncyIsImNoaWxkcmVuIiwibGFuZ3VhZ2UiLCJrZXl3b3JkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiVGFnIiwiRmVhdHVyZUNoaWxkIiwiaWQiLCJydWxlIiwiYmFja2dyb3VuZCIsInNjZW5hcmlvIiwiUnVsZSIsIkJhY2tncm91bmQiLCJTY2VuYXJpbyIsInZhbHVlIiwiUnVsZUNoaWxkIiwic3RlcHMiLCJTdGVwIiwiZXhhbXBsZXMiLCJFeGFtcGxlcyIsInRhYmxlQm9keSIsInRhYmxlSGVhZGVyIiwiVGFibGVSb3ciLCJjZWxscyIsIlRhYmxlQ2VsbCIsImRvY1N0cmluZyIsImRhdGFUYWJsZSIsIkRvY1N0cmluZyIsIkRhdGFUYWJsZSIsImFyZ3VtZW50Iiwicm93cyIsImNvbnRlbnQiLCJkZWxpbWl0ZXIiLCJ0ZXN0U3RlcElkIiwidGVzdENhc2VTdGFydGVkSWQiLCJhc3ROb2RlSWRzIiwiUGlja2xlU3RlcCIsIlBpY2tsZVRhZyIsImFzdE5vZGVJZCIsIlBpY2tsZVN0ZXBBcmd1bWVudCIsIlBpY2tsZURvY1N0cmluZyIsIlBpY2tsZVRhYmxlIiwiUGlja2xlVGFibGVSb3ciLCJQaWNrbGVUYWJsZUNlbGwiLCJ0ZXN0U3RlcHMiLCJwaWNrbGVJZCIsIlRlc3RTdGVwIiwic3RlcERlZmluaXRpb25JZHMiLCJzdGVwTWF0Y2hBcmd1bWVudHMiLCJwaWNrbGVTdGVwSWQiLCJob29rSWQiLCJTdGVwTWF0Y2hBcmd1bWVudCIsInRpbWVzdGFtcCIsIlRlc3RDYXNlUHJlcGFyZWRTdGVwIiwic291cmNlTG9jYXRpb24iLCJhY3Rpb25Mb2NhdGlvbiIsInBsYXRmb3JtIiwiYXR0ZW1wdCIsInRlc3RDYXNlSWQiLCJQbGF0Zm9ybSIsImltcGxlbWVudGF0aW9uIiwidmVyc2lvbiIsIm9zIiwiY3B1IiwidGVzdFJlc3VsdCIsIlRlc3RSZXN1bHQiLCJzdGF0dXMiLCJkdXJhdGlvbiIsIndpbGxCZVJldHJpZWQiLCJib29sIiwiQm9vbGVhbiIsIlN0YXR1cyIsInN1Y2Nlc3MiLCJiYXNlRGlyZWN0b3J5Iiwic291cmNlc0NvbmZpZyIsInJ1bnRpbWVDb25maWciLCJzdXBwb3J0Q29kZUNvbmZpZyIsIlNvdXJjZXNDb25maWciLCJSdW50aW1lQ29uZmlnIiwiU3VwcG9ydENvZGVDb25maWciLCJhYnNvbHV0ZVBhdGhzIiwiZmlsdGVycyIsIm9yZGVyIiwiU291cmNlc0ZpbHRlckNvbmZpZyIsIlNvdXJjZXNPcmRlciIsIm5hbWVSZWd1bGFyRXhwcmVzc2lvbnMiLCJ1cmlUb0xpbmVzTWFwcGluZyIsInRhZ0V4cHJlc3Npb24iLCJVcmlUb0xpbmVzTWFwcGluZyIsImxpbmVzIiwiYWJzb2x1dGVQYXRoIiwidWludDY0IiwiZW5kMiIsInR5cGUiLCJzZWVkIiwiU291cmNlc09yZGVyVHlwZSIsImlzRmFpbEZhc3QiLCJpc0RyeVJ1biIsImlzU3RyaWN0IiwibWF4UGFyYWxsZWwiLCJiZWZvcmVUZXN0Q2FzZUhvb2tzIiwiYWZ0ZXJUZXN0Q2FzZUhvb2tzIiwic3RlcERlZmluaXRpb25zIiwicGFyYW1ldGVyVHlwZXMiLCJQYXJhbWV0ZXJUeXBlIiwic291cmNlUmVmZXJlbmNlIiwicGF0dGVybiIsIlN0ZXBEZWZpbml0aW9uUGF0dGVybiIsIlN0ZXBEZWZpbml0aW9uUGF0dGVyblR5cGUiLCJyZWd1bGFyRXhwcmVzc2lvbnMiLCJwcmVmZXJGb3JSZWd1bGFyRXhwcmVzc2lvbk1hdGNoIiwidXNlRm9yU25pcHBldHMiLCJjb21wbGV0ZWRJZCIsInNuaXBwZXQiLCJyZXN1bHQiLCJhY3Rpb25JZCIsInN0ZXBEZWZpbml0aW9uSWQiLCJwaWNrbGVTdGVwQXJndW1lbnQiLCJwYXJhbWV0ZXJUeXBlTmFtZSIsImdyb3VwIiwiR3JvdXAiLCJzdGFydCIsImdlbmVyYXRlZEV4cHJlc3Npb25zIiwiR2VuZXJhdGVkRXhwcmVzc2lvbiIsInBhcmFtZXRlclR5cGVOYW1lcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJjdWN1bWJlci1tZXNzYWdlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmVzbGludC1kaXNhYmxlIGJsb2NrLXNjb3BlZC12YXIsIGlkLWxlbmd0aCwgbm8tY29udHJvbC1yZWdleCwgbm8tbWFnaWMtbnVtYmVycywgbm8tcHJvdG90eXBlLWJ1aWx0aW5zLCBuby1yZWRlY2xhcmUsIG5vLXNoYWRvdywgbm8tdmFyLCBzb3J0LXZhcnMqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkcHJvdG9idWYgPSByZXF1aXJlKFwicHJvdG9idWZqcy9taW5pbWFsXCIpO1xuXG4vLyBDb21tb24gYWxpYXNlc1xudmFyICRSZWFkZXIgPSAkcHJvdG9idWYuUmVhZGVyLCAkV3JpdGVyID0gJHByb3RvYnVmLldyaXRlciwgJHV0aWwgPSAkcHJvdG9idWYudXRpbDtcblxuLy8gRXhwb3J0ZWQgcm9vdCBuYW1lc3BhY2VcbnZhciAkcm9vdCA9ICRwcm90b2J1Zi5yb290c1tcImRlZmF1bHRcIl0gfHwgKCRwcm90b2J1Zi5yb290c1tcImRlZmF1bHRcIl0gPSB7fSk7XG5cbiRyb290LmlvID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogTmFtZXNwYWNlIGlvLlxuICAgICAqIEBleHBvcnRzIGlvXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqL1xuICAgIHZhciBpbyA9IHt9O1xuXG4gICAgaW8uY3VjdW1iZXIgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWVzcGFjZSBjdWN1bWJlci5cbiAgICAgICAgICogQG1lbWJlcm9mIGlvXG4gICAgICAgICAqIEBuYW1lc3BhY2VcbiAgICAgICAgICovXG4gICAgICAgIHZhciBjdWN1bWJlciA9IHt9O1xuXG4gICAgICAgIGN1Y3VtYmVyLm1lc3NhZ2VzID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE5hbWVzcGFjZSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlclxuICAgICAgICAgICAgICogQG5hbWVzcGFjZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgbWVzc2FnZXMgPSB7fTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuVGltZXN0YW1wID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFRpbWVzdGFtcC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElUaW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcnxMb25nfG51bGx9IFtzZWNvbmRzXSBUaW1lc3RhbXAgc2Vjb25kc1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfG51bGx9IFtuYW5vc10gVGltZXN0YW1wIG5hbm9zXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFRpbWVzdGFtcC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBUaW1lc3RhbXAuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFRpbWVzdGFtcChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGltZXN0YW1wIHNlY29uZHMuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfExvbmd9IHNlY29uZHNcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGltZXN0YW1wLnByb3RvdHlwZS5zZWNvbmRzID0gJHV0aWwuTG9uZyA/ICR1dGlsLkxvbmcuZnJvbUJpdHMoMCwwLGZhbHNlKSA6IDA7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaW1lc3RhbXAgbmFub3MuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfSBuYW5vc1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUaW1lc3RhbXAucHJvdG90eXBlLm5hbm9zID0gMDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgVGltZXN0YW1wIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUaW1lc3RhbXA9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wfSBUaW1lc3RhbXAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUaW1lc3RhbXAuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUaW1lc3RhbXAocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUaW1lc3RhbXAgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcH0gbWVzc2FnZSBUaW1lc3RhbXAgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRpbWVzdGFtcC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc2Vjb25kcyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzZWNvbmRzXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAwID0qLzgpLmludDY0KG1lc3NhZ2Uuc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm5hbm9zICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbm9zXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAwID0qLzE2KS5pbnQzMihtZXNzYWdlLm5hbm9zKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRpbWVzdGFtcCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGltZXN0YW1wfSBtZXNzYWdlIFRpbWVzdGFtcCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGltZXN0YW1wLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUaW1lc3RhbXAgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXB9IFRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGltZXN0YW1wLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcCgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZWNvbmRzID0gcmVhZGVyLmludDY0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW5vcyA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUaW1lc3RhbXAgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wfSBUaW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRpbWVzdGFtcC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBUaW1lc3RhbXAgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRpbWVzdGFtcC52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zZWNvbmRzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNlY29uZHNcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLnNlY29uZHMpICYmICEobWVzc2FnZS5zZWNvbmRzICYmICR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLnNlY29uZHMubG93KSAmJiAkdXRpbC5pc0ludGVnZXIobWVzc2FnZS5zZWNvbmRzLmhpZ2gpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzZWNvbmRzOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFub3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFub3NcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLm5hbm9zKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJuYW5vczogaW50ZWdlciBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFRpbWVzdGFtcCBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wfSBUaW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUaW1lc3RhbXAuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5zZWNvbmRzICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHV0aWwuTG9uZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWVzc2FnZS5zZWNvbmRzID0gJHV0aWwuTG9uZy5mcm9tVmFsdWUob2JqZWN0LnNlY29uZHMpKS51bnNpZ25lZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9iamVjdC5zZWNvbmRzID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2Vjb25kcyA9IHBhcnNlSW50KG9iamVjdC5zZWNvbmRzLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0LnNlY29uZHMgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZWNvbmRzID0gb2JqZWN0LnNlY29uZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0LnNlY29uZHMgPT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZWNvbmRzID0gbmV3ICR1dGlsLkxvbmdCaXRzKG9iamVjdC5zZWNvbmRzLmxvdyA+Pj4gMCwgb2JqZWN0LnNlY29uZHMuaGlnaCA+Pj4gMCkudG9OdW1iZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5uYW5vcyAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW5vcyA9IG9iamVjdC5uYW5vcyB8IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBUaW1lc3RhbXAgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXB9IG1lc3NhZ2UgVGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUaW1lc3RhbXAudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR1dGlsLkxvbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZyA9IG5ldyAkdXRpbC5Mb25nKDAsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc2Vjb25kcyA9IG9wdGlvbnMubG9uZ3MgPT09IFN0cmluZyA/IGxvbmcudG9TdHJpbmcoKSA6IG9wdGlvbnMubG9uZ3MgPT09IE51bWJlciA/IGxvbmcudG9OdW1iZXIoKSA6IGxvbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc2Vjb25kcyA9IG9wdGlvbnMubG9uZ3MgPT09IFN0cmluZyA/IFwiMFwiIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5uYW5vcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc2Vjb25kcyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzZWNvbmRzXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLnNlY29uZHMgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNlY29uZHMgPSBvcHRpb25zLmxvbmdzID09PSBTdHJpbmcgPyBTdHJpbmcobWVzc2FnZS5zZWNvbmRzKSA6IG1lc3NhZ2Uuc2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc2Vjb25kcyA9IG9wdGlvbnMubG9uZ3MgPT09IFN0cmluZyA/ICR1dGlsLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobWVzc2FnZS5zZWNvbmRzKSA6IG9wdGlvbnMubG9uZ3MgPT09IE51bWJlciA/IG5ldyAkdXRpbC5Mb25nQml0cyhtZXNzYWdlLnNlY29uZHMubG93ID4+PiAwLCBtZXNzYWdlLnNlY29uZHMuaGlnaCA+Pj4gMCkudG9OdW1iZXIoKSA6IG1lc3NhZ2Uuc2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFub3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFub3NcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFub3MgPSBtZXNzYWdlLm5hbm9zO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFRpbWVzdGFtcCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRpbWVzdGFtcC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRpbWVzdGFtcDtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLkR1cmF0aW9uID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIER1cmF0aW9uLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ8TG9uZ3xudWxsfSBbc2Vjb25kc10gRHVyYXRpb24gc2Vjb25kc1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfG51bGx9IFtuYW5vc10gRHVyYXRpb24gbmFub3NcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgRHVyYXRpb24uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgRHVyYXRpb24uXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSUR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JRHVyYXRpb249fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBEdXJhdGlvbihwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRHVyYXRpb24gc2Vjb25kcy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ8TG9uZ30gc2Vjb25kc1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvblxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIER1cmF0aW9uLnByb3RvdHlwZS5zZWNvbmRzID0gJHV0aWwuTG9uZyA/ICR1dGlsLkxvbmcuZnJvbUJpdHMoMCwwLGZhbHNlKSA6IDA7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEdXJhdGlvbiBuYW5vcy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IG5hbm9zXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRHVyYXRpb24ucHJvdG90eXBlLm5hbm9zID0gMDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgRHVyYXRpb24gaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRHVyYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JRHVyYXRpb249fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuRHVyYXRpb259IER1cmF0aW9uIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRHVyYXRpb24uY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEdXJhdGlvbihwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIER1cmF0aW9uIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkR1cmF0aW9uLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRHVyYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JRHVyYXRpb259IG1lc3NhZ2UgRHVyYXRpb24gbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIER1cmF0aW9uLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zZWNvbmRzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNlY29uZHNcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDAgPSovOCkuaW50NjQobWVzc2FnZS5zZWNvbmRzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFub3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFub3NcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDAgPSovMTYpLmludDMyKG1lc3NhZ2UubmFub3MpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgRHVyYXRpb24gbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuRHVyYXRpb24udmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklEdXJhdGlvbn0gbWVzc2FnZSBEdXJhdGlvbiBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRHVyYXRpb24uZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIER1cmF0aW9uIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvbn0gRHVyYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIER1cmF0aW9uLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkR1cmF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlY29uZHMgPSByZWFkZXIuaW50NjQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbm9zID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIER1cmF0aW9uIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuRHVyYXRpb259IER1cmF0aW9uXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBEdXJhdGlvbi5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBEdXJhdGlvbiBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRHVyYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBEdXJhdGlvbi52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zZWNvbmRzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNlY29uZHNcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLnNlY29uZHMpICYmICEobWVzc2FnZS5zZWNvbmRzICYmICR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLnNlY29uZHMubG93KSAmJiAkdXRpbC5pc0ludGVnZXIobWVzc2FnZS5zZWNvbmRzLmhpZ2gpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzZWNvbmRzOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFub3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFub3NcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLm5hbm9zKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJuYW5vczogaW50ZWdlciBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIER1cmF0aW9uIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkR1cmF0aW9ufSBEdXJhdGlvblxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIER1cmF0aW9uLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuRHVyYXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnNlY29uZHMgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdXRpbC5Mb25nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtZXNzYWdlLnNlY29uZHMgPSAkdXRpbC5Mb25nLmZyb21WYWx1ZShvYmplY3Quc2Vjb25kcykpLnVuc2lnbmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0LnNlY29uZHMgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZWNvbmRzID0gcGFyc2VJbnQob2JqZWN0LnNlY29uZHMsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3Quc2Vjb25kcyA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlY29uZHMgPSBvYmplY3Quc2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3Quc2Vjb25kcyA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlY29uZHMgPSBuZXcgJHV0aWwuTG9uZ0JpdHMob2JqZWN0LnNlY29uZHMubG93ID4+PiAwLCBvYmplY3Quc2Vjb25kcy5oaWdoID4+PiAwKS50b051bWJlcigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lm5hbm9zICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbm9zID0gb2JqZWN0Lm5hbm9zIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIER1cmF0aW9uIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRHVyYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvbn0gbWVzc2FnZSBEdXJhdGlvblxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRHVyYXRpb24udG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR1dGlsLkxvbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZyA9IG5ldyAkdXRpbC5Mb25nKDAsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc2Vjb25kcyA9IG9wdGlvbnMubG9uZ3MgPT09IFN0cmluZyA/IGxvbmcudG9TdHJpbmcoKSA6IG9wdGlvbnMubG9uZ3MgPT09IE51bWJlciA/IGxvbmcudG9OdW1iZXIoKSA6IGxvbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc2Vjb25kcyA9IG9wdGlvbnMubG9uZ3MgPT09IFN0cmluZyA/IFwiMFwiIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5uYW5vcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc2Vjb25kcyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzZWNvbmRzXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLnNlY29uZHMgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNlY29uZHMgPSBvcHRpb25zLmxvbmdzID09PSBTdHJpbmcgPyBTdHJpbmcobWVzc2FnZS5zZWNvbmRzKSA6IG1lc3NhZ2Uuc2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc2Vjb25kcyA9IG9wdGlvbnMubG9uZ3MgPT09IFN0cmluZyA/ICR1dGlsLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobWVzc2FnZS5zZWNvbmRzKSA6IG9wdGlvbnMubG9uZ3MgPT09IE51bWJlciA/IG5ldyAkdXRpbC5Mb25nQml0cyhtZXNzYWdlLnNlY29uZHMubG93ID4+PiAwLCBtZXNzYWdlLnNlY29uZHMuaGlnaCA+Pj4gMCkudG9OdW1iZXIoKSA6IG1lc3NhZ2Uuc2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFub3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFub3NcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFub3MgPSBtZXNzYWdlLm5hbm9zO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIER1cmF0aW9uIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvblxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBEdXJhdGlvbi5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIER1cmF0aW9uO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuRW52ZWxvcGUgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGFuIEVudmVsb3BlLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlfG51bGx9IFtzb3VyY2VdIEVudmVsb3BlIHNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUdoZXJraW5Eb2N1bWVudHxudWxsfSBbZ2hlcmtpbkRvY3VtZW50XSBFbnZlbG9wZSBnaGVya2luRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklQaWNrbGV8bnVsbH0gW3BpY2tsZV0gRW52ZWxvcGUgcGlja2xlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQXR0YWNobWVudHxudWxsfSBbYXR0YWNobWVudF0gRW52ZWxvcGUgYXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlU3RhcnRlZHxudWxsfSBbdGVzdENhc2VTdGFydGVkXSBFbnZlbG9wZSB0ZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0U3RlcFN0YXJ0ZWR8bnVsbH0gW3Rlc3RTdGVwU3RhcnRlZF0gRW52ZWxvcGUgdGVzdFN0ZXBTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFN0ZXBGaW5pc2hlZHxudWxsfSBbdGVzdFN0ZXBGaW5pc2hlZF0gRW52ZWxvcGUgdGVzdFN0ZXBGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlRmluaXNoZWR8bnVsbH0gW3Rlc3RDYXNlRmluaXNoZWRdIEVudmVsb3BlIHRlc3RDYXNlRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklQaWNrbGVBY2NlcHRlZHxudWxsfSBbcGlja2xlQWNjZXB0ZWRdIEVudmVsb3BlIHBpY2tsZUFjY2VwdGVkXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlUmVqZWN0ZWR8bnVsbH0gW3BpY2tsZVJlamVjdGVkXSBFbnZlbG9wZSBwaWNrbGVSZWplY3RlZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlUHJlcGFyZWR8bnVsbH0gW3Rlc3RDYXNlUHJlcGFyZWRdIEVudmVsb3BlIHRlc3RDYXNlUHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0UnVuU3RhcnRlZHxudWxsfSBbdGVzdFJ1blN0YXJ0ZWRdIEVudmVsb3BlIHRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFJ1bkZpbmlzaGVkfG51bGx9IFt0ZXN0UnVuRmluaXNoZWRdIEVudmVsb3BlIHRlc3RSdW5GaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRTdGFydHxudWxsfSBbY29tbWFuZFN0YXJ0XSBFbnZlbG9wZSBjb21tYW5kU3RhcnRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kQWN0aW9uQ29tcGxldGV8bnVsbH0gW2NvbW1hbmRBY3Rpb25Db21wbGV0ZV0gRW52ZWxvcGUgY29tbWFuZEFjdGlvbkNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc3xudWxsfSBbY29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc10gRW52ZWxvcGUgY29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRJbml0aWFsaXplVGVzdENhc2V8bnVsbH0gW2NvbW1hbmRJbml0aWFsaXplVGVzdENhc2VdIEVudmVsb3BlIGNvbW1hbmRJbml0aWFsaXplVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rfG51bGx9IFtjb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXSBFbnZlbG9wZSBjb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZFJ1blRlc3RTdGVwfG51bGx9IFtjb21tYW5kUnVuVGVzdFN0ZXBdIEVudmVsb3BlIGNvbW1hbmRSdW5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va3xudWxsfSBbY29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXSBFbnZlbG9wZSBjb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3N8bnVsbH0gW2NvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc10gRW52ZWxvcGUgY29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZEdlbmVyYXRlU25pcHBldHxudWxsfSBbY29tbWFuZEdlbmVyYXRlU25pcHBldF0gRW52ZWxvcGUgY29tbWFuZEdlbmVyYXRlU25pcHBldFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtjb21tYW5kRXJyb3JdIEVudmVsb3BlIGNvbW1hbmRFcnJvclxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlfG51bGx9IFt0ZXN0Q2FzZV0gRW52ZWxvcGUgdGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTdGVwRGVmaW5pdGlvbnxudWxsfSBbc3RlcERlZmluaXRpb25dIEVudmVsb3BlIHN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JSG9va3xudWxsfSBbaG9va10gRW52ZWxvcGUgaG9va1xuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBFbnZlbG9wZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIEFsbCB0aGUgbWVzc2FnZXMgdGhhdCBhcmUgcGFzc2VkIGJldHdlZW4gZGlmZmVyZW50IGNvbXBvbmVudHMvcHJvY2Vzc2VzIGFyZSBFbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElFbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUVudmVsb3BlPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gRW52ZWxvcGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVudmVsb3BlIHNvdXJjZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlfG51bGx8dW5kZWZpbmVkfSBzb3VyY2VcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5wcm90b3R5cGUuc291cmNlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVudmVsb3BlIGdoZXJraW5Eb2N1bWVudC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JR2hlcmtpbkRvY3VtZW50fG51bGx8dW5kZWZpbmVkfSBnaGVya2luRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5wcm90b3R5cGUuZ2hlcmtpbkRvY3VtZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVudmVsb3BlIHBpY2tsZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlfG51bGx8dW5kZWZpbmVkfSBwaWNrbGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5wcm90b3R5cGUucGlja2xlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVudmVsb3BlIGF0dGFjaG1lbnQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUF0dGFjaG1lbnR8bnVsbHx1bmRlZmluZWR9IGF0dGFjaG1lbnRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5wcm90b3R5cGUuYXR0YWNobWVudCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSB0ZXN0Q2FzZVN0YXJ0ZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlU3RhcnRlZHxudWxsfHVuZGVmaW5lZH0gdGVzdENhc2VTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLnRlc3RDYXNlU3RhcnRlZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSB0ZXN0U3RlcFN0YXJ0ZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RTdGVwU3RhcnRlZHxudWxsfHVuZGVmaW5lZH0gdGVzdFN0ZXBTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLnRlc3RTdGVwU3RhcnRlZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSB0ZXN0U3RlcEZpbmlzaGVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0U3RlcEZpbmlzaGVkfG51bGx8dW5kZWZpbmVkfSB0ZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLnRlc3RTdGVwRmluaXNoZWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW52ZWxvcGUgdGVzdENhc2VGaW5pc2hlZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2VGaW5pc2hlZHxudWxsfHVuZGVmaW5lZH0gdGVzdENhc2VGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEVudmVsb3BlLnByb3RvdHlwZS50ZXN0Q2FzZUZpbmlzaGVkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVudmVsb3BlIHBpY2tsZUFjY2VwdGVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklQaWNrbGVBY2NlcHRlZHxudWxsfHVuZGVmaW5lZH0gcGlja2xlQWNjZXB0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5wcm90b3R5cGUucGlja2xlQWNjZXB0ZWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW52ZWxvcGUgcGlja2xlUmVqZWN0ZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZVJlamVjdGVkfG51bGx8dW5kZWZpbmVkfSBwaWNrbGVSZWplY3RlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEVudmVsb3BlLnByb3RvdHlwZS5waWNrbGVSZWplY3RlZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSB0ZXN0Q2FzZVByZXBhcmVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZVByZXBhcmVkfG51bGx8dW5kZWZpbmVkfSB0ZXN0Q2FzZVByZXBhcmVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLnRlc3RDYXNlUHJlcGFyZWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW52ZWxvcGUgdGVzdFJ1blN0YXJ0ZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSdW5TdGFydGVkfG51bGx8dW5kZWZpbmVkfSB0ZXN0UnVuU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEVudmVsb3BlLnByb3RvdHlwZS50ZXN0UnVuU3RhcnRlZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSB0ZXN0UnVuRmluaXNoZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSdW5GaW5pc2hlZHxudWxsfHVuZGVmaW5lZH0gdGVzdFJ1bkZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLnRlc3RSdW5GaW5pc2hlZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSBjb21tYW5kU3RhcnQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRTdGFydHxudWxsfHVuZGVmaW5lZH0gY29tbWFuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLmNvbW1hbmRTdGFydCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSBjb21tYW5kQWN0aW9uQ29tcGxldGUuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRBY3Rpb25Db21wbGV0ZXxudWxsfHVuZGVmaW5lZH0gY29tbWFuZEFjdGlvbkNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLmNvbW1hbmRBY3Rpb25Db21wbGV0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSBjb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzfG51bGx8dW5kZWZpbmVkfSBjb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLmNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW52ZWxvcGUgY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZXxudWxsfHVuZGVmaW5lZH0gY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEVudmVsb3BlLnByb3RvdHlwZS5jb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVudmVsb3BlIGNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2suXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2t8bnVsbHx1bmRlZmluZWR9IGNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5wcm90b3R5cGUuY29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSBjb21tYW5kUnVuVGVzdFN0ZXAuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5UZXN0U3RlcHxudWxsfHVuZGVmaW5lZH0gY29tbWFuZFJ1blRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLmNvbW1hbmRSdW5UZXN0U3RlcCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSBjb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2suXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va3xudWxsfHVuZGVmaW5lZH0gY29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLmNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSBjb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc3xudWxsfHVuZGVmaW5lZH0gY29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLmNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSBjb21tYW5kR2VuZXJhdGVTbmlwcGV0LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kR2VuZXJhdGVTbmlwcGV0fG51bGx8dW5kZWZpbmVkfSBjb21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLmNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW52ZWxvcGUgY29tbWFuZEVycm9yLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gY29tbWFuZEVycm9yXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLmNvbW1hbmRFcnJvciA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSB0ZXN0Q2FzZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2V8bnVsbHx1bmRlZmluZWR9IHRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUucHJvdG90eXBlLnRlc3RDYXNlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVudmVsb3BlIHN0ZXBEZWZpbml0aW9uLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTdGVwRGVmaW5pdGlvbnxudWxsfHVuZGVmaW5lZH0gc3RlcERlZmluaXRpb25cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5wcm90b3R5cGUuc3RlcERlZmluaXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW52ZWxvcGUgaG9vay5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JSG9va3xudWxsfHVuZGVmaW5lZH0gaG9va1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEVudmVsb3BlLnByb3RvdHlwZS5ob29rID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIE9uZU9mIGZpZWxkIG5hbWVzIGJvdW5kIHRvIHZpcnR1YWwgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgICAgICAgICAgICAgIHZhciAkb25lT2ZGaWVsZHM7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbnZlbG9wZSBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge1wic291cmNlXCJ8XCJnaGVya2luRG9jdW1lbnRcInxcInBpY2tsZVwifFwiYXR0YWNobWVudFwifFwidGVzdENhc2VTdGFydGVkXCJ8XCJ0ZXN0U3RlcFN0YXJ0ZWRcInxcInRlc3RTdGVwRmluaXNoZWRcInxcInRlc3RDYXNlRmluaXNoZWRcInxcInBpY2tsZUFjY2VwdGVkXCJ8XCJwaWNrbGVSZWplY3RlZFwifFwidGVzdENhc2VQcmVwYXJlZFwifFwidGVzdFJ1blN0YXJ0ZWRcInxcInRlc3RSdW5GaW5pc2hlZFwifFwiY29tbWFuZFN0YXJ0XCJ8XCJjb21tYW5kQWN0aW9uQ29tcGxldGVcInxcImNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3NcInxcImNvbW1hbmRJbml0aWFsaXplVGVzdENhc2VcInxcImNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2tcInxcImNvbW1hbmRSdW5UZXN0U3RlcFwifFwiY29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXCJ8XCJjb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3NcInxcImNvbW1hbmRHZW5lcmF0ZVNuaXBwZXRcInxcImNvbW1hbmRFcnJvclwifFwidGVzdENhc2VcInxcInN0ZXBEZWZpbml0aW9uXCJ8XCJob29rXCJ8dW5kZWZpbmVkfSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJtZXNzYWdlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAkdXRpbC5vbmVPZkdldHRlcigkb25lT2ZGaWVsZHMgPSBbXCJzb3VyY2VcIiwgXCJnaGVya2luRG9jdW1lbnRcIiwgXCJwaWNrbGVcIiwgXCJhdHRhY2htZW50XCIsIFwidGVzdENhc2VTdGFydGVkXCIsIFwidGVzdFN0ZXBTdGFydGVkXCIsIFwidGVzdFN0ZXBGaW5pc2hlZFwiLCBcInRlc3RDYXNlRmluaXNoZWRcIiwgXCJwaWNrbGVBY2NlcHRlZFwiLCBcInBpY2tsZVJlamVjdGVkXCIsIFwidGVzdENhc2VQcmVwYXJlZFwiLCBcInRlc3RSdW5TdGFydGVkXCIsIFwidGVzdFJ1bkZpbmlzaGVkXCIsIFwiY29tbWFuZFN0YXJ0XCIsIFwiY29tbWFuZEFjdGlvbkNvbXBsZXRlXCIsIFwiY29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1wiLCBcImNvbW1hbmRJbml0aWFsaXplVGVzdENhc2VcIiwgXCJjb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXCIsIFwiY29tbWFuZFJ1blRlc3RTdGVwXCIsIFwiY29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXCIsIFwiY29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzXCIsIFwiY29tbWFuZEdlbmVyYXRlU25pcHBldFwiLCBcImNvbW1hbmRFcnJvclwiLCBcInRlc3RDYXNlXCIsIFwic3RlcERlZmluaXRpb25cIiwgXCJob29rXCJdKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiAkdXRpbC5vbmVPZlNldHRlcigkb25lT2ZGaWVsZHMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IEVudmVsb3BlIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUVudmVsb3BlPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlfSBFbnZlbG9wZSBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEVudmVsb3BlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRW52ZWxvcGUocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBFbnZlbG9wZSBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUVudmVsb3BlfSBtZXNzYWdlIEVudmVsb3BlIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc291cmNlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZS5lbmNvZGUobWVzc2FnZS5zb3VyY2UsIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZ2hlcmtpbkRvY3VtZW50ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImdoZXJraW5Eb2N1bWVudFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5lbmNvZGUobWVzc2FnZS5naGVya2luRG9jdW1lbnQsIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGlja2xlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5lbmNvZGUobWVzc2FnZS5waWNrbGUsIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXR0YWNobWVudCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhdHRhY2htZW50XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudC5lbmNvZGUobWVzc2FnZS5hdHRhY2htZW50LCB3cml0ZXIudWludDMyKC8qIGlkIDQsIHdpcmVUeXBlIDIgPSovMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZVN0YXJ0ZWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuZW5jb2RlKG1lc3NhZ2UudGVzdENhc2VTdGFydGVkLCB3cml0ZXIudWludDMyKC8qIGlkIDUsIHdpcmVUeXBlIDIgPSovNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RTdGVwU3RhcnRlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0U3RlcFN0YXJ0ZWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWQuZW5jb2RlKG1lc3NhZ2UudGVzdFN0ZXBTdGFydGVkLCB3cml0ZXIudWludDMyKC8qIGlkIDYsIHdpcmVUeXBlIDIgPSovNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RTdGVwRmluaXNoZWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdFN0ZXBGaW5pc2hlZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWQuZW5jb2RlKG1lc3NhZ2UudGVzdFN0ZXBGaW5pc2hlZCwgd3JpdGVyLnVpbnQzMigvKiBpZCA3LCB3aXJlVHlwZSAyID0qLzU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZUZpbmlzaGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlRmluaXNoZWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkLmVuY29kZShtZXNzYWdlLnRlc3RDYXNlRmluaXNoZWQsIHdyaXRlci51aW50MzIoLyogaWQgOCwgd2lyZVR5cGUgMiA9Ki82NikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGlja2xlQWNjZXB0ZWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicGlja2xlQWNjZXB0ZWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZC5lbmNvZGUobWVzc2FnZS5waWNrbGVBY2NlcHRlZCwgd3JpdGVyLnVpbnQzMigvKiBpZCA5LCB3aXJlVHlwZSAyID0qLzc0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGVSZWplY3RlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVSZWplY3RlZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVJlamVjdGVkLmVuY29kZShtZXNzYWdlLnBpY2tsZVJlamVjdGVkLCB3cml0ZXIudWludDMyKC8qIGlkIDEwLCB3aXJlVHlwZSAyID0qLzgyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZVByZXBhcmVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlUHJlcGFyZWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkLmVuY29kZShtZXNzYWdlLnRlc3RDYXNlUHJlcGFyZWQsIHdyaXRlci51aW50MzIoLyogaWQgMTEsIHdpcmVUeXBlIDIgPSovOTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RSdW5TdGFydGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RSdW5TdGFydGVkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWQuZW5jb2RlKG1lc3NhZ2UudGVzdFJ1blN0YXJ0ZWQsIHdyaXRlci51aW50MzIoLyogaWQgMTIsIHdpcmVUeXBlIDIgPSovOTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RSdW5GaW5pc2hlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0UnVuRmluaXNoZWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWQuZW5jb2RlKG1lc3NhZ2UudGVzdFJ1bkZpbmlzaGVkLCB3cml0ZXIudWludDMyKC8qIGlkIDEzLCB3aXJlVHlwZSAyID0qLzEwNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZFN0YXJ0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRTdGFydFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydC5lbmNvZGUobWVzc2FnZS5jb21tYW5kU3RhcnQsIHdyaXRlci51aW50MzIoLyogaWQgMTQsIHdpcmVUeXBlIDIgPSovMTE0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21tYW5kQWN0aW9uQ29tcGxldGUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZEFjdGlvbkNvbXBsZXRlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlLmVuY29kZShtZXNzYWdlLmNvbW1hbmRBY3Rpb25Db21wbGV0ZSwgd3JpdGVyLnVpbnQzMigvKiBpZCAxNSwgd2lyZVR5cGUgMiA9Ki8xMjIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MuZW5jb2RlKG1lc3NhZ2UuY29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcywgd3JpdGVyLnVpbnQzMigvKiBpZCAxNiwgd2lyZVR5cGUgMiA9Ki8xMzApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRJbml0aWFsaXplVGVzdENhc2UuZW5jb2RlKG1lc3NhZ2UuY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSwgd3JpdGVyLnVpbnQzMigvKiBpZCAxNywgd2lyZVR5cGUgMiA9Ki8xMzgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9va1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2suZW5jb2RlKG1lc3NhZ2UuY29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vaywgd3JpdGVyLnVpbnQzMigvKiBpZCAxOCwgd2lyZVR5cGUgMiA9Ki8xNDYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRSdW5UZXN0U3RlcCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21tYW5kUnVuVGVzdFN0ZXBcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXAuZW5jb2RlKG1lc3NhZ2UuY29tbWFuZFJ1blRlc3RTdGVwLCB3cml0ZXIudWludDMyKC8qIGlkIDE5LCB3aXJlVHlwZSAyID0qLzE1NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vay5lbmNvZGUobWVzc2FnZS5jb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2ssIHdyaXRlci51aW50MzIoLyogaWQgMjAsIHdpcmVUeXBlIDIgPSovMTYyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzLmVuY29kZShtZXNzYWdlLmNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcywgd3JpdGVyLnVpbnQzMigvKiBpZCAyMSwgd2lyZVR5cGUgMiA9Ki8xNzApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZEdlbmVyYXRlU25pcHBldFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQuZW5jb2RlKG1lc3NhZ2UuY29tbWFuZEdlbmVyYXRlU25pcHBldCwgd3JpdGVyLnVpbnQzMigvKiBpZCAyMiwgd2lyZVR5cGUgMiA9Ki8xNzgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRFcnJvciAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21tYW5kRXJyb3JcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIzLCB3aXJlVHlwZSAyID0qLzE4Nikuc3RyaW5nKG1lc3NhZ2UuY29tbWFuZEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2UgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5lbmNvZGUobWVzc2FnZS50ZXN0Q2FzZSwgd3JpdGVyLnVpbnQzMigvKiBpZCAyNCwgd2lyZVR5cGUgMiA9Ki8xOTQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBEZWZpbml0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInN0ZXBEZWZpbml0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb24uZW5jb2RlKG1lc3NhZ2Uuc3RlcERlZmluaXRpb24sIHdyaXRlci51aW50MzIoLyogaWQgMjUsIHdpcmVUeXBlIDIgPSovMjAyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5ob29rICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImhvb2tcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Ib29rLmVuY29kZShtZXNzYWdlLmhvb2ssIHdyaXRlci51aW50MzIoLyogaWQgMjYsIHdpcmVUeXBlIDIgPSovMjEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgRW52ZWxvcGUgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklFbnZlbG9wZX0gbWVzc2FnZSBFbnZlbG9wZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhbiBFbnZlbG9wZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGV9IEVudmVsb3BlXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZSgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zb3VyY2UgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2UuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmdoZXJraW5Eb2N1bWVudCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hdHRhY2htZW50ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdENhc2VTdGFydGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0U3RlcFN0YXJ0ZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RTdGVwRmluaXNoZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0Q2FzZUZpbmlzaGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VGaW5pc2hlZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlQWNjZXB0ZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBpY2tsZVJlamVjdGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlUmVqZWN0ZWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0Q2FzZVByZXBhcmVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RSdW5TdGFydGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0UnVuRmluaXNoZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kU3RhcnQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kQWN0aW9uQ29tcGxldGUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kQWN0aW9uQ29tcGxldGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2suZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kUnVuVGVzdFN0ZXAgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXAuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2suZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kR2VuZXJhdGVTbmlwcGV0ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEdlbmVyYXRlU25pcHBldC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbW1hbmRFcnJvciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0Q2FzZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcERlZmluaXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhvb2sgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Ib29rLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhbiBFbnZlbG9wZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlfSBFbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGFuIEVudmVsb3BlIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEVudmVsb3BlLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNvdXJjZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWVzc2FnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlLnZlcmlmeShtZXNzYWdlLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzb3VyY2UuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5naGVya2luRG9jdW1lbnQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZ2hlcmtpbkRvY3VtZW50XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQudmVyaWZ5KG1lc3NhZ2UuZ2hlcmtpbkRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImdoZXJraW5Eb2N1bWVudC5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLm1lc3NhZ2UgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWVzc2FnZTogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm1lc3NhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS52ZXJpZnkobWVzc2FnZS5waWNrbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGlja2xlLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXR0YWNobWVudCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhdHRhY2htZW50XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5BdHRhY2htZW50LnZlcmlmeShtZXNzYWdlLmF0dGFjaG1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXR0YWNobWVudC5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZVN0YXJ0ZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLm1lc3NhZ2UgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWVzc2FnZTogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm1lc3NhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC52ZXJpZnkobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdENhc2VTdGFydGVkLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdFN0ZXBTdGFydGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RTdGVwU3RhcnRlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubWVzc2FnZSA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtZXNzYWdlOiBtdWx0aXBsZSB2YWx1ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWVzc2FnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBTdGFydGVkLnZlcmlmeShtZXNzYWdlLnRlc3RTdGVwU3RhcnRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXN0U3RlcFN0YXJ0ZWQuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0U3RlcEZpbmlzaGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RTdGVwRmluaXNoZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLm1lc3NhZ2UgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWVzc2FnZTogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm1lc3NhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWQudmVyaWZ5KG1lc3NhZ2UudGVzdFN0ZXBGaW5pc2hlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXN0U3RlcEZpbmlzaGVkLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VGaW5pc2hlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZUZpbmlzaGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkLnZlcmlmeShtZXNzYWdlLnRlc3RDYXNlRmluaXNoZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdENhc2VGaW5pc2hlZC5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZUFjY2VwdGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZUFjY2VwdGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZC52ZXJpZnkobWVzc2FnZS5waWNrbGVBY2NlcHRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJwaWNrbGVBY2NlcHRlZC5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZVJlamVjdGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZVJlamVjdGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVSZWplY3RlZC52ZXJpZnkobWVzc2FnZS5waWNrbGVSZWplY3RlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJwaWNrbGVSZWplY3RlZC5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlUHJlcGFyZWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VQcmVwYXJlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubWVzc2FnZSA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtZXNzYWdlOiBtdWx0aXBsZSB2YWx1ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWVzc2FnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZC52ZXJpZnkobWVzc2FnZS50ZXN0Q2FzZVByZXBhcmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRlc3RDYXNlUHJlcGFyZWQuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0UnVuU3RhcnRlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0UnVuU3RhcnRlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubWVzc2FnZSA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtZXNzYWdlOiBtdWx0aXBsZSB2YWx1ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWVzc2FnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWQudmVyaWZ5KG1lc3NhZ2UudGVzdFJ1blN0YXJ0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdFJ1blN0YXJ0ZWQuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0UnVuRmluaXNoZWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdFJ1bkZpbmlzaGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWQudmVyaWZ5KG1lc3NhZ2UudGVzdFJ1bkZpbmlzaGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRlc3RSdW5GaW5pc2hlZC5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRTdGFydCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21tYW5kU3RhcnRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLm1lc3NhZ2UgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWVzc2FnZTogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm1lc3NhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydC52ZXJpZnkobWVzc2FnZS5jb21tYW5kU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29tbWFuZFN0YXJ0LlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZEFjdGlvbkNvbXBsZXRlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRBY3Rpb25Db21wbGV0ZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubWVzc2FnZSA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtZXNzYWdlOiBtdWx0aXBsZSB2YWx1ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWVzc2FnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlLnZlcmlmeShtZXNzYWdlLmNvbW1hbmRBY3Rpb25Db21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb21tYW5kQWN0aW9uQ29tcGxldGUuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLm1lc3NhZ2UgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWVzc2FnZTogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm1lc3NhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MudmVyaWZ5KG1lc3NhZ2UuY29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlLnZlcmlmeShtZXNzYWdlLmNvbW1hbmRJbml0aWFsaXplVGVzdENhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZS5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9va1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubWVzc2FnZSA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtZXNzYWdlOiBtdWx0aXBsZSB2YWx1ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWVzc2FnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vay52ZXJpZnkobWVzc2FnZS5jb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2suXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21tYW5kUnVuVGVzdFN0ZXAgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZFJ1blRlc3RTdGVwXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXAudmVyaWZ5KG1lc3NhZ2UuY29tbWFuZFJ1blRlc3RTdGVwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbW1hbmRSdW5UZXN0U3RlcC5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLm1lc3NhZ2UgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWVzc2FnZTogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm1lc3NhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vay52ZXJpZnkobWVzc2FnZS5jb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubWVzc2FnZSA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtZXNzYWdlOiBtdWx0aXBsZSB2YWx1ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWVzc2FnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzLnZlcmlmeShtZXNzYWdlLmNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21tYW5kR2VuZXJhdGVTbmlwcGV0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRHZW5lcmF0ZVNuaXBwZXRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLm1lc3NhZ2UgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWVzc2FnZTogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm1lc3NhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQudmVyaWZ5KG1lc3NhZ2UuY29tbWFuZEdlbmVyYXRlU25pcHBldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb21tYW5kR2VuZXJhdGVTbmlwcGV0LlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZEVycm9yICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRFcnJvclwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubWVzc2FnZSA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtZXNzYWdlOiBtdWx0aXBsZSB2YWx1ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWVzc2FnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuY29tbWFuZEVycm9yKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb21tYW5kRXJyb3I6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS52ZXJpZnkobWVzc2FnZS50ZXN0Q2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXN0Q2FzZS5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBEZWZpbml0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInN0ZXBEZWZpbml0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvbi52ZXJpZnkobWVzc2FnZS5zdGVwRGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdGVwRGVmaW5pdGlvbi5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhvb2sgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaG9va1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubWVzc2FnZSA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtZXNzYWdlOiBtdWx0aXBsZSB2YWx1ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWVzc2FnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vay52ZXJpZnkobWVzc2FnZS5ob29rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImhvb2suXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhbiBFbnZlbG9wZSBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZX0gRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Quc291cmNlICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS5zb3VyY2U6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc291cmNlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlLmZyb21PYmplY3Qob2JqZWN0LnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5naGVya2luRG9jdW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuZ2hlcmtpbkRvY3VtZW50ICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS5naGVya2luRG9jdW1lbnQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2hlcmtpbkRvY3VtZW50ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LmZyb21PYmplY3Qob2JqZWN0LmdoZXJraW5Eb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5waWNrbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QucGlja2xlICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS5waWNrbGU6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLmZyb21PYmplY3Qob2JqZWN0LnBpY2tsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5hdHRhY2htZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmF0dGFjaG1lbnQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlLmF0dGFjaG1lbnQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXR0YWNobWVudCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkF0dGFjaG1lbnQuZnJvbU9iamVjdChvYmplY3QuYXR0YWNobWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0Q2FzZVN0YXJ0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QudGVzdENhc2VTdGFydGVkICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS50ZXN0Q2FzZVN0YXJ0ZWQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdENhc2VTdGFydGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLmZyb21PYmplY3Qob2JqZWN0LnRlc3RDYXNlU3RhcnRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0U3RlcFN0YXJ0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QudGVzdFN0ZXBTdGFydGVkICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS50ZXN0U3RlcFN0YXJ0ZWQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFN0ZXBTdGFydGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBTdGFydGVkLmZyb21PYmplY3Qob2JqZWN0LnRlc3RTdGVwU3RhcnRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0U3RlcEZpbmlzaGVkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRlc3RTdGVwRmluaXNoZWQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlLnRlc3RTdGVwRmluaXNoZWQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFN0ZXBGaW5pc2hlZCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWQuZnJvbU9iamVjdChvYmplY3QudGVzdFN0ZXBGaW5pc2hlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0Q2FzZUZpbmlzaGVkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRlc3RDYXNlRmluaXNoZWQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlLnRlc3RDYXNlRmluaXNoZWQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdENhc2VGaW5pc2hlZCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWQuZnJvbU9iamVjdChvYmplY3QudGVzdENhc2VGaW5pc2hlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5waWNrbGVBY2NlcHRlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5waWNrbGVBY2NlcHRlZCAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGUucGlja2xlQWNjZXB0ZWQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlQWNjZXB0ZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZC5mcm9tT2JqZWN0KG9iamVjdC5waWNrbGVBY2NlcHRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5waWNrbGVSZWplY3RlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5waWNrbGVSZWplY3RlZCAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGUucGlja2xlUmVqZWN0ZWQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlUmVqZWN0ZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVSZWplY3RlZC5mcm9tT2JqZWN0KG9iamVjdC5waWNrbGVSZWplY3RlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0Q2FzZVByZXBhcmVkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRlc3RDYXNlUHJlcGFyZWQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlLnRlc3RDYXNlUHJlcGFyZWQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdENhc2VQcmVwYXJlZCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWQuZnJvbU9iamVjdChvYmplY3QudGVzdENhc2VQcmVwYXJlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0UnVuU3RhcnRlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC50ZXN0UnVuU3RhcnRlZCAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGUudGVzdFJ1blN0YXJ0ZWQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFJ1blN0YXJ0ZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuU3RhcnRlZC5mcm9tT2JqZWN0KG9iamVjdC50ZXN0UnVuU3RhcnRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0UnVuRmluaXNoZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QudGVzdFJ1bkZpbmlzaGVkICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS50ZXN0UnVuRmluaXNoZWQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFJ1bkZpbmlzaGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1bkZpbmlzaGVkLmZyb21PYmplY3Qob2JqZWN0LnRlc3RSdW5GaW5pc2hlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kU3RhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuY29tbWFuZFN0YXJ0ICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS5jb21tYW5kU3RhcnQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZFN0YXJ0ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFN0YXJ0LmZyb21PYmplY3Qob2JqZWN0LmNvbW1hbmRTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kQWN0aW9uQ29tcGxldGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuY29tbWFuZEFjdGlvbkNvbXBsZXRlICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS5jb21tYW5kQWN0aW9uQ29tcGxldGU6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZEFjdGlvbkNvbXBsZXRlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlLmZyb21PYmplY3Qob2JqZWN0LmNvbW1hbmRBY3Rpb25Db21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlLmNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3M6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcyA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MuZnJvbU9iamVjdChvYmplY3QuY29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmNvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlLmNvbW1hbmRJbml0aWFsaXplVGVzdENhc2U6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRJbml0aWFsaXplVGVzdENhc2UuZnJvbU9iamVjdChvYmplY3QuY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlLmNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2s6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2suZnJvbU9iamVjdChvYmplY3QuY29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kUnVuVGVzdFN0ZXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuY29tbWFuZFJ1blRlc3RTdGVwICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS5jb21tYW5kUnVuVGVzdFN0ZXA6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZFJ1blRlc3RTdGVwID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwLmZyb21PYmplY3Qob2JqZWN0LmNvbW1hbmRSdW5UZXN0U3RlcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuY29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS5jb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2s6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLmZyb21PYmplY3Qob2JqZWN0LmNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuY29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS5jb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3M6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzLmZyb21PYmplY3Qob2JqZWN0LmNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kR2VuZXJhdGVTbmlwcGV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkVudmVsb3BlLmNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZEdlbmVyYXRlU25pcHBldCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQuZnJvbU9iamVjdChvYmplY3QuY29tbWFuZEdlbmVyYXRlU25pcHBldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb21tYW5kRXJyb3IgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWFuZEVycm9yID0gU3RyaW5nKG9iamVjdC5jb21tYW5kRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRlc3RDYXNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRlc3RDYXNlICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS50ZXN0Q2FzZTogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0Q2FzZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLmZyb21PYmplY3Qob2JqZWN0LnRlc3RDYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnN0ZXBEZWZpbml0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnN0ZXBEZWZpbml0aW9uICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZS5zdGVwRGVmaW5pdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uLmZyb21PYmplY3Qob2JqZWN0LnN0ZXBEZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lmhvb2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuaG9vayAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGUuaG9vazogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ob29rID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vay5mcm9tT2JqZWN0KG9iamVjdC5ob29rKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGFuIEVudmVsb3BlIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuRW52ZWxvcGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZX0gbWVzc2FnZSBFbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgRW52ZWxvcGUudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zb3VyY2UgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic291cmNlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc291cmNlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlLnRvT2JqZWN0KG1lc3NhZ2Uuc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVzc2FnZSA9IFwic291cmNlXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZ2hlcmtpbkRvY3VtZW50ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImdoZXJraW5Eb2N1bWVudFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmdoZXJraW5Eb2N1bWVudCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC50b09iamVjdChtZXNzYWdlLmdoZXJraW5Eb2N1bWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lc3NhZ2UgPSBcImdoZXJraW5Eb2N1bWVudFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5waWNrbGUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUudG9PYmplY3QobWVzc2FnZS5waWNrbGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJwaWNrbGVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hdHRhY2htZW50ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImF0dGFjaG1lbnRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hdHRhY2htZW50ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudC50b09iamVjdChtZXNzYWdlLmF0dGFjaG1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJhdHRhY2htZW50XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VTdGFydGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlU3RhcnRlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RDYXNlU3RhcnRlZCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC50b09iamVjdChtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lc3NhZ2UgPSBcInRlc3RDYXNlU3RhcnRlZFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RTdGVwU3RhcnRlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0U3RlcFN0YXJ0ZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0U3RlcFN0YXJ0ZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWQudG9PYmplY3QobWVzc2FnZS50ZXN0U3RlcFN0YXJ0ZWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJ0ZXN0U3RlcFN0YXJ0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0U3RlcEZpbmlzaGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RTdGVwRmluaXNoZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0U3RlcEZpbmlzaGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBGaW5pc2hlZC50b09iamVjdChtZXNzYWdlLnRlc3RTdGVwRmluaXNoZWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJ0ZXN0U3RlcEZpbmlzaGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VGaW5pc2hlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZUZpbmlzaGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdENhc2VGaW5pc2hlZCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWQudG9PYmplY3QobWVzc2FnZS50ZXN0Q2FzZUZpbmlzaGVkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVzc2FnZSA9IFwidGVzdENhc2VGaW5pc2hlZFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZUFjY2VwdGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZUFjY2VwdGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGlja2xlQWNjZXB0ZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZC50b09iamVjdChtZXNzYWdlLnBpY2tsZUFjY2VwdGVkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVzc2FnZSA9IFwicGlja2xlQWNjZXB0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGVSZWplY3RlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVSZWplY3RlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBpY2tsZVJlamVjdGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlUmVqZWN0ZWQudG9PYmplY3QobWVzc2FnZS5waWNrbGVSZWplY3RlZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lc3NhZ2UgPSBcInBpY2tsZVJlamVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VQcmVwYXJlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZVByZXBhcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdENhc2VQcmVwYXJlZCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWQudG9PYmplY3QobWVzc2FnZS50ZXN0Q2FzZVByZXBhcmVkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVzc2FnZSA9IFwidGVzdENhc2VQcmVwYXJlZFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RSdW5TdGFydGVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RSdW5TdGFydGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdFJ1blN0YXJ0ZWQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuU3RhcnRlZC50b09iamVjdChtZXNzYWdlLnRlc3RSdW5TdGFydGVkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVzc2FnZSA9IFwidGVzdFJ1blN0YXJ0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0UnVuRmluaXNoZWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdFJ1bkZpbmlzaGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdFJ1bkZpbmlzaGVkID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1bkZpbmlzaGVkLnRvT2JqZWN0KG1lc3NhZ2UudGVzdFJ1bkZpbmlzaGVkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVzc2FnZSA9IFwidGVzdFJ1bkZpbmlzaGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZFN0YXJ0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRTdGFydFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbW1hbmRTdGFydCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydC50b09iamVjdChtZXNzYWdlLmNvbW1hbmRTdGFydCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lc3NhZ2UgPSBcImNvbW1hbmRTdGFydFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRBY3Rpb25Db21wbGV0ZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21tYW5kQWN0aW9uQ29tcGxldGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb21tYW5kQWN0aW9uQ29tcGxldGUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kQWN0aW9uQ29tcGxldGUudG9PYmplY3QobWVzc2FnZS5jb21tYW5kQWN0aW9uQ29tcGxldGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJjb21tYW5kQWN0aW9uQ29tcGxldGVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcy50b09iamVjdChtZXNzYWdlLmNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJjb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRJbml0aWFsaXplVGVzdENhc2UudG9PYmplY3QobWVzc2FnZS5jb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVzc2FnZSA9IFwiY29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9va1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLnRvT2JqZWN0KG1lc3NhZ2UuY29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vaywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lc3NhZ2UgPSBcImNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2tcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21tYW5kUnVuVGVzdFN0ZXAgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWFuZFJ1blRlc3RTdGVwXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29tbWFuZFJ1blRlc3RTdGVwID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwLnRvT2JqZWN0KG1lc3NhZ2UuY29tbWFuZFJ1blRlc3RTdGVwLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVzc2FnZSA9IFwiY29tbWFuZFJ1blRlc3RTdGVwXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vay50b09iamVjdChtZXNzYWdlLmNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vaywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lc3NhZ2UgPSBcImNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MudG9PYmplY3QobWVzc2FnZS5jb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJjb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3NcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21tYW5kR2VuZXJhdGVTbmlwcGV0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRHZW5lcmF0ZVNuaXBwZXRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb21tYW5kR2VuZXJhdGVTbmlwcGV0ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEdlbmVyYXRlU25pcHBldC50b09iamVjdChtZXNzYWdlLmNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJjb21tYW5kR2VuZXJhdGVTbmlwcGV0XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWFuZEVycm9yICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbW1hbmRFcnJvclwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbW1hbmRFcnJvciA9IG1lc3NhZ2UuY29tbWFuZEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJjb21tYW5kRXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RDYXNlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UudG9PYmplY3QobWVzc2FnZS50ZXN0Q2FzZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lc3NhZ2UgPSBcInRlc3RDYXNlXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RlcERlZmluaXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic3RlcERlZmluaXRpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwRGVmaW5pdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uLnRvT2JqZWN0KG1lc3NhZ2Uuc3RlcERlZmluaXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJzdGVwRGVmaW5pdGlvblwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhvb2sgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaG9va1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lmhvb2sgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Ib29rLnRvT2JqZWN0KG1lc3NhZ2UuaG9vaywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lc3NhZ2UgPSBcImhvb2tcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIEVudmVsb3BlIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5FbnZlbG9wZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBFbnZlbG9wZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVudmVsb3BlO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuTG9jYXRpb24gPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgTG9jYXRpb24uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJTG9jYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcnxudWxsfSBbbGluZV0gTG9jYXRpb24gbGluZVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfG51bGx9IFtjb2x1bW5dIExvY2F0aW9uIGNvbHVtblxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBMb2NhdGlvbi5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFBvaW50cyB0byBhIGxpbmUgYW5kIGEgY29sdW1uIGluIGEgdGV4dCBmaWxlXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSUxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb249fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBMb2NhdGlvbihwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogTG9jYXRpb24gbGluZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IGxpbmVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBMb2NhdGlvbi5wcm90b3R5cGUubGluZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBMb2NhdGlvbiBjb2x1bW4uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfSBjb2x1bW5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBMb2NhdGlvbi5wcm90b3R5cGUuY29sdW1uID0gMDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgTG9jYXRpb24gaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb249fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb259IExvY2F0aW9uIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgTG9jYXRpb24uY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhdGlvbihwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIExvY2F0aW9uIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb259IG1lc3NhZ2UgTG9jYXRpb24gbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIExvY2F0aW9uLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5saW5lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxpbmVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDAgPSovOCkudWludDMyKG1lc3NhZ2UubGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbHVtbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb2x1bW5cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDAgPSovMTYpLnVpbnQzMihtZXNzYWdlLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBMb2NhdGlvbiBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufSBtZXNzYWdlIExvY2F0aW9uIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBMb2NhdGlvbi5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgTG9jYXRpb24gbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9ufSBMb2NhdGlvblxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgTG9jYXRpb24uZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGluZSA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbHVtbiA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgTG9jYXRpb24gbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbn0gTG9jYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIExvY2F0aW9uLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIExvY2F0aW9uIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIExvY2F0aW9uLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxpbmUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibGluZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNJbnRlZ2VyKG1lc3NhZ2UubGluZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGluZTogaW50ZWdlciBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb2x1bW4gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29sdW1uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc0ludGVnZXIobWVzc2FnZS5jb2x1bW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbHVtbjogaW50ZWdlciBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIExvY2F0aW9uIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9ufSBMb2NhdGlvblxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIExvY2F0aW9uLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmxpbmUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGluZSA9IG9iamVjdC5saW5lID4+PiAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmNvbHVtbiAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2x1bW4gPSBvYmplY3QuY29sdW1uID4+PiAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgTG9jYXRpb24gbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9ufSBtZXNzYWdlIExvY2F0aW9uXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBMb2NhdGlvbi50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubGluZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29sdW1uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5saW5lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxpbmVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubGluZSA9IG1lc3NhZ2UubGluZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29sdW1uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbHVtblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb2x1bW4gPSBtZXNzYWdlLmNvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBMb2NhdGlvbiB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgTG9jYXRpb24ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBMb2NhdGlvbjtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZSA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBTb3VyY2VSZWZlcmVuY2UuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJU291cmNlUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW3VyaV0gU291cmNlUmVmZXJlbmNlIHVyaVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx9IFtsb2NhdGlvbl0gU291cmNlUmVmZXJlbmNlIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFNvdXJjZVJlZmVyZW5jZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFBvaW50cyB0byBhIFtTb3VyY2VdKCNpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2UpIGlkZW50aWZpZWQgYnkgYHVyaWAgYW5kIGFcbiAgICAgICAgICAgICAgICAgKiBbTG9jYXRpb25dKCNpby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbikgd2l0aGluIHRoYXQgZmlsZS5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJU291cmNlUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlUmVmZXJlbmNlPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gU291cmNlUmVmZXJlbmNlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTb3VyY2VSZWZlcmVuY2UgdXJpLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gdXJpXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZVJlZmVyZW5jZS5wcm90b3R5cGUudXJpID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNvdXJjZVJlZmVyZW5jZSBsb2NhdGlvbi5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb258bnVsbHx1bmRlZmluZWR9IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZVJlZmVyZW5jZS5wcm90b3R5cGUubG9jYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBTb3VyY2VSZWZlcmVuY2UgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZVJlZmVyZW5jZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2V9IFNvdXJjZVJlZmVyZW5jZSBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZVJlZmVyZW5jZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNvdXJjZVJlZmVyZW5jZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFNvdXJjZVJlZmVyZW5jZSBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2UudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlUmVmZXJlbmNlfSBtZXNzYWdlIFNvdXJjZVJlZmVyZW5jZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlUmVmZXJlbmNlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51cmkgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidXJpXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS51cmkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmVuY29kZShtZXNzYWdlLmxvY2F0aW9uLCB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBTb3VyY2VSZWZlcmVuY2UgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZVJlZmVyZW5jZX0gbWVzc2FnZSBTb3VyY2VSZWZlcmVuY2UgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZVJlZmVyZW5jZS5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgU291cmNlUmVmZXJlbmNlIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlfSBTb3VyY2VSZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZVJlZmVyZW5jZS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJpID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBTb3VyY2VSZWZlcmVuY2UgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlfSBTb3VyY2VSZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZVJlZmVyZW5jZS5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBTb3VyY2VSZWZlcmVuY2UgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZVJlZmVyZW5jZS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51cmkgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidXJpXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnVyaSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidXJpOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubG9jYXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnZlcmlmeShtZXNzYWdlLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsb2NhdGlvbi5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgU291cmNlUmVmZXJlbmNlIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2V9IFNvdXJjZVJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZVJlZmVyZW5jZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnVyaSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51cmkgPSBTdHJpbmcob2JqZWN0LnVyaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubG9jYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QubG9jYXRpb24gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS5sb2NhdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmZyb21PYmplY3Qob2JqZWN0LmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgU291cmNlUmVmZXJlbmNlIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlfSBtZXNzYWdlIFNvdXJjZVJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlUmVmZXJlbmNlLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC51cmkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51cmkgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidXJpXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnVyaSA9IG1lc3NhZ2UudXJpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnRvT2JqZWN0KG1lc3NhZ2UubG9jYXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFNvdXJjZVJlZmVyZW5jZSB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZVJlZmVyZW5jZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNvdXJjZVJlZmVyZW5jZTtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLk1lZGlhID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIE1lZGlhLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSU1lZGlhXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYS5FbmNvZGluZ3xudWxsfSBbZW5jb2RpbmddIE1lZGlhIGVuY29kaW5nXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2NvbnRlbnRUeXBlXSBUaGUgY29udGVudCB0eXBlIG9mIHRoZSBkYXRhLiBUaGlzIGNhbiBiZSBhbnkgdmFsaWRcbiAgICAgICAgICAgICAgICAgKiBbSUFOQSBNZWRpYSBUeXBlXShodHRwczovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy9tZWRpYS10eXBlcy9tZWRpYS10eXBlcy54aHRtbClcbiAgICAgICAgICAgICAgICAgKiBhcyB3ZWxsIGFzIEN1Y3VtYmVyLXNwZWNpZmljIG1lZGlhIHR5cGVzIHN1Y2ggYXMgYHRleHQveC5jdWN1bWJlci5naGVya2luK3BsYWluYFxuICAgICAgICAgICAgICAgICAqIGFuZCBgdGV4dC94LmN1Y3VtYmVyLnN0YWNrdHJhY2UrcGxhaW5gXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IE1lZGlhLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgTWV0YSBpbmZvcm1hdGlvbiBhYm91dCBlbmNvZGVkIGNvbnRlbnRzXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSU1lZGlhXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTWVkaWE9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNZWRpYShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogTWVkaWEgZW5jb2RpbmcuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWEuRW5jb2Rpbmd9IGVuY29kaW5nXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLk1lZGlhXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgTWVkaWEucHJvdG90eXBlLmVuY29kaW5nID0gMDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBjb250ZW50IHR5cGUgb2YgdGhlIGRhdGEuIFRoaXMgY2FuIGJlIGFueSB2YWxpZFxuICAgICAgICAgICAgICAgICAqIFtJQU5BIE1lZGlhIFR5cGVdKGh0dHBzOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL21lZGlhLXR5cGVzL21lZGlhLXR5cGVzLnhodG1sKVxuICAgICAgICAgICAgICAgICAqIGFzIHdlbGwgYXMgQ3VjdW1iZXItc3BlY2lmaWMgbWVkaWEgdHlwZXMgc3VjaCBhcyBgdGV4dC94LmN1Y3VtYmVyLmdoZXJraW4rcGxhaW5gXG4gICAgICAgICAgICAgICAgICogYW5kIGB0ZXh0L3guY3VjdW1iZXIuc3RhY2t0cmFjZStwbGFpbmBcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGNvbnRlbnRUeXBlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLk1lZGlhXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgTWVkaWEucHJvdG90eXBlLmNvbnRlbnRUeXBlID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgTWVkaWEgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWFcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTWVkaWE9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWF9IE1lZGlhIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgTWVkaWEuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNZWRpYShwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIE1lZGlhIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLk1lZGlhLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWFcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTWVkaWF9IG1lc3NhZ2UgTWVkaWEgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIE1lZGlhLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5lbmNvZGluZyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJlbmNvZGluZ1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMCA9Ki84KS5pbnQzMihtZXNzYWdlLmVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudFR5cGUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29udGVudFR5cGVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLnN0cmluZyhtZXNzYWdlLmNvbnRlbnRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIE1lZGlhIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLk1lZGlhLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWFcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTWVkaWF9IG1lc3NhZ2UgTWVkaWEgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIE1lZGlhLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBNZWRpYSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWFcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWF9IE1lZGlhXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBNZWRpYS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYSgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbmNvZGluZyA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudFR5cGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIE1lZGlhIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWF9IE1lZGlhXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBNZWRpYS5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBNZWRpYSBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWFcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBNZWRpYS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5lbmNvZGluZyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJlbmNvZGluZ1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobWVzc2FnZS5lbmNvZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJlbmNvZGluZzogZW51bSB2YWx1ZSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50VHlwZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb250ZW50VHlwZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5jb250ZW50VHlwZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGVudFR5cGU6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIE1lZGlhIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLk1lZGlhfSBNZWRpYVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIE1lZGlhLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYSgpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9iamVjdC5lbmNvZGluZykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQkFTRTY0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW5jb2RpbmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVVEY4XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW5jb2RpbmcgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb250ZW50VHlwZSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb250ZW50VHlwZSA9IFN0cmluZyhvYmplY3QuY29udGVudFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgTWVkaWEgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLk1lZGlhfSBtZXNzYWdlIE1lZGlhXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBNZWRpYS50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZW5jb2RpbmcgPSBvcHRpb25zLmVudW1zID09PSBTdHJpbmcgPyBcIkJBU0U2NFwiIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb250ZW50VHlwZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZW5jb2RpbmcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZW5jb2RpbmdcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZW5jb2RpbmcgPSBvcHRpb25zLmVudW1zID09PSBTdHJpbmcgPyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYS5FbmNvZGluZ1ttZXNzYWdlLmVuY29kaW5nXSA6IG1lc3NhZ2UuZW5jb2Rpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnRUeXBlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbnRlbnRUeXBlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbnRlbnRUeXBlID0gbWVzc2FnZS5jb250ZW50VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBNZWRpYSB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWFcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgTWVkaWEucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kaW5nIGVudW0uXG4gICAgICAgICAgICAgICAgICogQG5hbWUgaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWEuRW5jb2RpbmdcbiAgICAgICAgICAgICAgICAgKiBAZW51bSB7c3RyaW5nfVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCQVNFNjQ9MCBCQVNFNjQgdmFsdWVcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gVVRGOD0xIFVURjggdmFsdWVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBNZWRpYS5FbmNvZGluZyA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlc0J5SWQgPSB7fSwgdmFsdWVzID0gT2JqZWN0LmNyZWF0ZSh2YWx1ZXNCeUlkKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlc0J5SWRbMF0gPSBcIkJBU0U2NFwiXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1t2YWx1ZXNCeUlkWzFdID0gXCJVVEY4XCJdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1lZGlhO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuU291cmNlID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFNvdXJjZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElTb3VyY2VcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdXJpXSBUaGUgW1VSSV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pZm9ybV9SZXNvdXJjZV9JZGVudGlmaWVyKVxuICAgICAgICAgICAgICAgICAqIG9mIHRoZSBzb3VyY2UsIHR5cGljYWxseSBhIGZpbGUgcGF0aCByZWxhdGl2ZSB0byB0aGUgcm9vdCBkaXJlY3RvcnlcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbZGF0YV0gU291cmNlIGRhdGFcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklNZWRpYXxudWxsfSBbbWVkaWFdIFNvdXJjZSBtZWRpYVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBTb3VyY2UuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBBIHNvdXJjZSBmaWxlLCB0eXBpY2FsbHkgYSBHaGVya2luIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNvdXJjZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlIFtVUkldKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VuaWZvcm1fUmVzb3VyY2VfSWRlbnRpZmllcilcbiAgICAgICAgICAgICAgICAgKiBvZiB0aGUgc291cmNlLCB0eXBpY2FsbHkgYSBmaWxlIHBhdGggcmVsYXRpdmUgdG8gdGhlIHJvb3QgZGlyZWN0b3J5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB1cmlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlLnByb3RvdHlwZS51cmkgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU291cmNlIGRhdGEuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBkYXRhXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUuZGF0YSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTb3VyY2UgbWVkaWEuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSU1lZGlhfG51bGx8dW5kZWZpbmVkfSBtZWRpYVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLm1lZGlhID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgU291cmNlIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2U9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlfSBTb3VyY2UgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2UuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTb3VyY2UocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBTb3VyY2UgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZX0gbWVzc2FnZSBTb3VyY2UgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZS5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudXJpICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInVyaVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UudXJpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkYXRhXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5zdHJpbmcobWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubWVkaWEgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibWVkaWFcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYS5lbmNvZGUobWVzc2FnZS5tZWRpYSwgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgU291cmNlIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZS52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2V9IG1lc3NhZ2UgU291cmNlIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2UuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFNvdXJjZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZX0gU291cmNlXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2UuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnVyaSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRhdGEgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZWRpYSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLk1lZGlhLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFNvdXJjZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2V9IFNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFNvdXJjZSBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnVyaSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ1cmlcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudXJpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ1cmk6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kYXRhICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRhdGFcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuZGF0YSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZGF0YTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm1lZGlhICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm1lZGlhXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYS52ZXJpZnkobWVzc2FnZS5tZWRpYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWVkaWEuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFNvdXJjZSBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlfSBTb3VyY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2UuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC51cmkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJpID0gU3RyaW5nKG9iamVjdC51cmkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmRhdGEgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IFN0cmluZyhvYmplY3QuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubWVkaWEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QubWVkaWEgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZS5tZWRpYTogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZWRpYSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLk1lZGlhLmZyb21PYmplY3Qob2JqZWN0Lm1lZGlhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgU291cmNlIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlfSBtZXNzYWdlIFNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC51cmkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRhdGEgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lZGlhID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51cmkgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidXJpXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnVyaSA9IG1lc3NhZ2UudXJpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kYXRhICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRhdGFcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZGF0YSA9IG1lc3NhZ2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubWVkaWEgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibWVkaWFcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVkaWEgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYS50b09iamVjdChtZXNzYWdlLm1lZGlhLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBTb3VyY2UgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBTb3VyY2U7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5HaGVya2luRG9jdW1lbnQgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgR2hlcmtpbkRvY3VtZW50LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFt1cmldIFRoZSBbVVJJXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Vbmlmb3JtX1Jlc291cmNlX0lkZW50aWZpZXIpXG4gICAgICAgICAgICAgICAgICogb2YgdGhlIHNvdXJjZSwgdHlwaWNhbGx5IGEgZmlsZSBwYXRoIHJlbGF0aXZlIHRvIHRoZSByb290IGRpcmVjdG9yeVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LklGZWF0dXJlfG51bGx9IFtmZWF0dXJlXSBHaGVya2luRG9jdW1lbnQgZmVhdHVyZVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5JQ29tbWVudD58bnVsbH0gW2NvbW1lbnRzXSBHaGVya2luRG9jdW1lbnQgY29tbWVudHNcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgR2hlcmtpbkRvY3VtZW50LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgVGhlIFtBU1RdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Fic3RyYWN0X3N5bnRheF90cmVlKSBvZiBhIEdoZXJraW4gZG9jdW1lbnQuXG4gICAgICAgICAgICAgICAgICogQ3VjdW1iZXIgaW1wbGVtZW50YXRpb25zIHNob3VsZCAqbm90KiBkZXBlbmQgb24gYEdoZXJraW5Eb2N1bWVudGAgb3IgYW55IG9mIGl0c1xuICAgICAgICAgICAgICAgICAqIGNoaWxkcmVuIGZvciBleGVjdXRpb24gLSB1c2UgW1BpY2tsZV0oI2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZSkgaW5zdGVhZC5cbiAgICAgICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAgICAgKiBUaGUgb25seSBjb25zdW1lcnMgb2YgYEdoZXJraW5Eb2N1bWVudGAgc2hvdWxkIG9ubHkgYmUgZm9ybWF0dGVycyB0aGF0IHByb2R1Y2VcbiAgICAgICAgICAgICAgICAgKiBcInJpY2hcIiBvdXRwdXQsIHJlc2VtYmxpbmcgdGhlIG9yaWdpbmFsIEdoZXJraW4gZG9jdW1lbnQuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSUdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUdoZXJraW5Eb2N1bWVudD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIEdoZXJraW5Eb2N1bWVudChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGUgW1VSSV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pZm9ybV9SZXNvdXJjZV9JZGVudGlmaWVyKVxuICAgICAgICAgICAgICAgICAqIG9mIHRoZSBzb3VyY2UsIHR5cGljYWxseSBhIGZpbGUgcGF0aCByZWxhdGl2ZSB0byB0aGUgcm9vdCBkaXJlY3RvcnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHVyaVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHaGVya2luRG9jdW1lbnQucHJvdG90eXBlLnVyaSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBHaGVya2luRG9jdW1lbnQgZmVhdHVyZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuSUZlYXR1cmV8bnVsbHx1bmRlZmluZWR9IGZlYXR1cmVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2hlcmtpbkRvY3VtZW50LnByb3RvdHlwZS5mZWF0dXJlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEdoZXJraW5Eb2N1bWVudCBjb21tZW50cy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LklDb21tZW50Pn0gY29tbWVudHNcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2hlcmtpbkRvY3VtZW50LnByb3RvdHlwZS5jb21tZW50cyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IEdoZXJraW5Eb2N1bWVudCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JR2hlcmtpbkRvY3VtZW50PX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudH0gR2hlcmtpbkRvY3VtZW50IGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2hlcmtpbkRvY3VtZW50LmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR2hlcmtpbkRvY3VtZW50KHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgR2hlcmtpbkRvY3VtZW50IG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklHaGVya2luRG9jdW1lbnR9IG1lc3NhZ2UgR2hlcmtpbkRvY3VtZW50IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHaGVya2luRG9jdW1lbnQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnVyaSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ1cmlcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLnN0cmluZyhtZXNzYWdlLnVyaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmZlYXR1cmUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZmVhdHVyZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLmVuY29kZShtZXNzYWdlLmZlYXR1cmUsIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWVudHMgIT0gbnVsbCAmJiBtZXNzYWdlLmNvbW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5jb21tZW50cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuQ29tbWVudC5lbmNvZGUobWVzc2FnZS5jb21tZW50c1tpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgR2hlcmtpbkRvY3VtZW50IG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklHaGVya2luRG9jdW1lbnR9IG1lc3NhZ2UgR2hlcmtpbkRvY3VtZW50IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHaGVya2luRG9jdW1lbnQuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIEdoZXJraW5Eb2N1bWVudCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudH0gR2hlcmtpbkRvY3VtZW50XG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHaGVya2luRG9jdW1lbnQuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnVyaSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZlYXR1cmUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2UuY29tbWVudHMgJiYgbWVzc2FnZS5jb21tZW50cy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbW1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tZW50cy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBHaGVya2luRG9jdW1lbnQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50fSBHaGVya2luRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEdoZXJraW5Eb2N1bWVudC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBHaGVya2luRG9jdW1lbnQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEdoZXJraW5Eb2N1bWVudC52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51cmkgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidXJpXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnVyaSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidXJpOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZmVhdHVyZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJmZWF0dXJlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS52ZXJpZnkobWVzc2FnZS5mZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJmZWF0dXJlLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tbWVudHMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tbWVudHNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbW1lbnRzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb21tZW50czogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5jb21tZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50LnZlcmlmeShtZXNzYWdlLmNvbW1lbnRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbW1lbnRzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBHaGVya2luRG9jdW1lbnQgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudH0gR2hlcmtpbkRvY3VtZW50XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2hlcmtpbkRvY3VtZW50LmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudXJpICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnVyaSA9IFN0cmluZyhvYmplY3QudXJpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5mZWF0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmZlYXR1cmUgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5mZWF0dXJlOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZlYXR1cmUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5mcm9tT2JqZWN0KG9iamVjdC5mZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmNvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LmNvbW1lbnRzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LmNvbW1lbnRzOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LmNvbW1lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuY29tbWVudHNbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuY29tbWVudHM6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbW1lbnRzW2ldID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnQuZnJvbU9iamVjdChvYmplY3QuY29tbWVudHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBHaGVya2luRG9jdW1lbnQgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnR9IG1lc3NhZ2UgR2hlcmtpbkRvY3VtZW50XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHaGVya2luRG9jdW1lbnQudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcnJheXMgfHwgb3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb21tZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnVyaSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZmVhdHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudXJpICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInVyaVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC51cmkgPSBtZXNzYWdlLnVyaTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZmVhdHVyZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJmZWF0dXJlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmZlYXR1cmUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS50b09iamVjdChtZXNzYWdlLmZlYXR1cmUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21tZW50cyAmJiBtZXNzYWdlLmNvbW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbW1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2UuY29tbWVudHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbW1lbnRzW2pdID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnQudG9PYmplY3QobWVzc2FnZS5jb21tZW50c1tqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBHaGVya2luRG9jdW1lbnQgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHaGVya2luRG9jdW1lbnQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIEdoZXJraW5Eb2N1bWVudC5Db21tZW50ID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgQ29tbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElDb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx9IFtsb2NhdGlvbl0gQ29tbWVudCBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdGV4dF0gQ29tbWVudCB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENvbW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBBIGNvbW1lbnQgaW4gYSBHaGVya2luIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElDb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5JQ29tbWVudD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gQ29tbWVudChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENvbW1lbnQgbG9jYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklMb2NhdGlvbnxudWxsfHVuZGVmaW5lZH0gbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgQ29tbWVudC5wcm90b3R5cGUubG9jYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDb21tZW50IHRleHQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gdGV4dFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBDb21tZW50LnByb3RvdHlwZS50ZXh0ID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBDb21tZW50IGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5JQ29tbWVudD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnR9IENvbW1lbnQgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIENvbW1lbnQuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tbWVudChwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIENvbW1lbnQgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuSUNvbW1lbnR9IG1lc3NhZ2UgQ29tbWVudCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIENvbW1lbnQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmVuY29kZShtZXNzYWdlLmxvY2F0aW9uLCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXh0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRleHRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5zdHJpbmcobWVzc2FnZS50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBDb21tZW50IG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50LnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuQ29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LklDb21tZW50fSBtZXNzYWdlIENvbW1lbnQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBDb21tZW50LmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgQ29tbWVudCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuQ29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnR9IENvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBDb21tZW50LmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIENvbW1lbnQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50fSBDb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgQ29tbWVudC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBDb21tZW50IG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBDb21tZW50LnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24udmVyaWZ5KG1lc3NhZ2UubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibG9jYXRpb24uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRleHQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGV4dFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudGV4dCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRleHQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBDb21tZW50IG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnR9IENvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIENvbW1lbnQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmxvY2F0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5sb2NhdGlvbiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50LmxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmZyb21PYmplY3Qob2JqZWN0LmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGV4dCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dCA9IFN0cmluZyhvYmplY3QudGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgQ29tbWVudCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5Db21tZW50fSBtZXNzYWdlIENvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBDb21tZW50LnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi50b09iamVjdChtZXNzYWdlLmxvY2F0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRleHQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGV4dFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGV4dCA9IG1lc3NhZ2UudGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgQ29tbWVudCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuQ29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgQ29tbWVudC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbW1lbnQ7XG4gICAgICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgICAgIEdoZXJraW5Eb2N1bWVudC5GZWF0dXJlID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgRmVhdHVyZS5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElGZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx9IFtsb2NhdGlvbl0gRmVhdHVyZSBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JVGFnPnxudWxsfSBbdGFnc10gRmVhdHVyZSB0YWdzXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtsYW5ndWFnZV0gRmVhdHVyZSBsYW5ndWFnZVxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBba2V5d29yZF0gRmVhdHVyZSBrZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtuYW1lXSBGZWF0dXJlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2Rlc2NyaXB0aW9uXSBGZWF0dXJlIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklGZWF0dXJlQ2hpbGQ+fG51bGx9IFtjaGlsZHJlbl0gRmVhdHVyZSBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBGZWF0dXJlLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgVGhlIHRvcCBsZXZlbCBub2RlIGluIHRoZSBBU1RcbiAgICAgICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSUZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LklGZWF0dXJlPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBGZWF0dXJlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBGZWF0dXJlIGxvY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb258bnVsbHx1bmRlZmluZWR9IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZVxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUucHJvdG90eXBlLmxvY2F0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRmVhdHVyZSB0YWdzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVRhZz59IHRhZ3NcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgRmVhdHVyZS5wcm90b3R5cGUudGFncyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEZlYXR1cmUgbGFuZ3VhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgRmVhdHVyZS5wcm90b3R5cGUubGFuZ3VhZ2UgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBGZWF0dXJlIGtleXdvcmQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30ga2V5d29yZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBGZWF0dXJlLnByb3RvdHlwZS5rZXl3b3JkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRmVhdHVyZSBuYW1lLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgRmVhdHVyZS5wcm90b3R5cGUubmFtZSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEZlYXR1cmUgZGVzY3JpcHRpb24uXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgRmVhdHVyZS5wcm90b3R5cGUuZGVzY3JpcHRpb24gPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBGZWF0dXJlIGNoaWxkcmVuLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSUZlYXR1cmVDaGlsZD59IGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZVxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUucHJvdG90eXBlLmNoaWxkcmVuID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBGZWF0dXJlIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5JRmVhdHVyZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmV9IEZlYXR1cmUgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmVhdHVyZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIEZlYXR1cmUgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuSUZlYXR1cmV9IG1lc3NhZ2UgRmVhdHVyZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmVuY29kZShtZXNzYWdlLmxvY2F0aW9uLCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWdzICE9IG51bGwgJiYgbWVzc2FnZS50YWdzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UudGFncy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnLmVuY29kZShtZXNzYWdlLnRhZ3NbaV0sIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxhbmd1YWdlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxhbmd1YWdlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuc3RyaW5nKG1lc3NhZ2UubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uua2V5d29yZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJrZXl3b3JkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgNCwgd2lyZVR5cGUgMiA9Ki8zNCkuc3RyaW5nKG1lc3NhZ2Uua2V5d29yZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA1LCB3aXJlVHlwZSAyID0qLzQyKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRlc2NyaXB0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgNiwgd2lyZVR5cGUgMiA9Ki81MCkuc3RyaW5nKG1lc3NhZ2UuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY2hpbGRyZW4gIT0gbnVsbCAmJiBtZXNzYWdlLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuY2hpbGRyZW4ubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5lbmNvZGUobWVzc2FnZS5jaGlsZHJlbltpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCA3LCB3aXJlVHlwZSAyID0qLzU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIEZlYXR1cmUgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuSUZlYXR1cmV9IG1lc3NhZ2UgRmVhdHVyZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBGZWF0dXJlIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZX0gRmVhdHVyZVxuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS50YWdzICYmIG1lc3NhZ2UudGFncy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFncy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxhbmd1YWdlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5d29yZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZXNjcmlwdGlvbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLmNoaWxkcmVuICYmIG1lc3NhZ2UuY2hpbGRyZW4ubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaGlsZHJlbi5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIEZlYXR1cmUgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlfSBGZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgRmVhdHVyZS5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBGZWF0dXJlIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBGZWF0dXJlLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24udmVyaWZ5KG1lc3NhZ2UubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibG9jYXRpb24uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRhZ3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGFnc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnRhZ3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0YWdzOiBhcnJheSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS50YWdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZy52ZXJpZnkobWVzc2FnZS50YWdzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFncy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxhbmd1YWdlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxhbmd1YWdlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5sYW5ndWFnZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhbmd1YWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmtleXdvcmQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwia2V5d29yZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2Uua2V5d29yZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImtleXdvcmQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5uYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kZXNjcmlwdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuZGVzY3JpcHRpb24pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJkZXNjcmlwdGlvbjogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jaGlsZHJlbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjaGlsZHJlblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLmNoaWxkcmVuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY2hpbGRyZW46IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC52ZXJpZnkobWVzc2FnZS5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNoaWxkcmVuLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBGZWF0dXJlIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmV9IEZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmxvY2F0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5sb2NhdGlvbiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLmxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmZyb21PYmplY3Qob2JqZWN0LmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QudGFncykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS50YWdzOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC50YWdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRhZ3NbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUudGFnczogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3NbaV0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWcuZnJvbU9iamVjdChvYmplY3QudGFnc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5sYW5ndWFnZSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGFuZ3VhZ2UgPSBTdHJpbmcob2JqZWN0Lmxhbmd1YWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Qua2V5d29yZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5d29yZCA9IFN0cmluZyhvYmplY3Qua2V5d29yZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lm5hbWUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbWUgPSBTdHJpbmcob2JqZWN0Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5kZXNjcmlwdGlvbiAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVzY3JpcHRpb24gPSBTdHJpbmcob2JqZWN0LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LmNoaWxkcmVuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLmNoaWxkcmVuOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNoaWxkcmVuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuY2hpbGRyZW5baV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuY2hpbGRyZW46IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaGlsZHJlbltpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5mcm9tT2JqZWN0KG9iamVjdC5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIEZlYXR1cmUgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZX0gbWVzc2FnZSBGZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgRmVhdHVyZS50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcnJheXMgfHwgb3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNoaWxkcmVuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lmxhbmd1YWdlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Qua2V5d29yZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi50b09iamVjdChtZXNzYWdlLmxvY2F0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRhZ3MgJiYgbWVzc2FnZS50YWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLnRhZ3MubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50YWdzW2pdID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnLnRvT2JqZWN0KG1lc3NhZ2UudGFnc1tqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sYW5ndWFnZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsYW5ndWFnZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubGFuZ3VhZ2UgPSBtZXNzYWdlLmxhbmd1YWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uua2V5d29yZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJrZXl3b3JkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5rZXl3b3JkID0gbWVzc2FnZS5rZXl3b3JkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5uYW1lID0gbWVzc2FnZS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGVzY3JpcHRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRlc2NyaXB0aW9uID0gbWVzc2FnZS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNoaWxkcmVuICYmIG1lc3NhZ2UuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNoaWxkcmVuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLmNoaWxkcmVuLmxlbmd0aDsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2hpbGRyZW5bal0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQudG9PYmplY3QobWVzc2FnZS5jaGlsZHJlbltqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIEZlYXR1cmUgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUuVGFnID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBUYWcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb258bnVsbH0gW2xvY2F0aW9uXSBUYWcgbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtuYW1lXSBUYWcgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2lkXSBUYWcgaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgVGFnLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIEEgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVRhZz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBUYWcocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogVGFnIGxvY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx8dW5kZWZpbmVkfSBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhZy5wcm90b3R5cGUubG9jYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFRhZyBuYW1lLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgVGFnLnByb3RvdHlwZS5uYW1lID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBUYWcgaWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgVGFnLnByb3RvdHlwZS5pZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBUYWcgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JVGFnPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnfSBUYWcgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgVGFnLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUYWcocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUYWcgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JVGFnfSBtZXNzYWdlIFRhZyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWcuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5lbmNvZGUobWVzc2FnZS5sb2NhdGlvbiwgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRhZyBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWcudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklUYWd9IG1lc3NhZ2UgVGFnIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhZy5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUYWcgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWd9IFRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWcuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgVGFnIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWd9IFRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWcuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgVGFnIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhZy52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi52ZXJpZnkobWVzc2FnZS5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxvY2F0aW9uLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5pZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJpZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBUYWcgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWd9IFRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWcuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmxvY2F0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QubG9jYXRpb24gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnLmxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5mcm9tT2JqZWN0KG9iamVjdC5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubmFtZSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbWUgPSBTdHJpbmcob2JqZWN0Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9IFN0cmluZyhvYmplY3QuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBUYWcgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZ30gbWVzc2FnZSBUYWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgVGFnLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi50b09iamVjdChtZXNzYWdlLmxvY2F0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5uYW1lID0gbWVzc2FnZS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaWQgPSBtZXNzYWdlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgVGFnIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgVGFnLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGFnO1xuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUuRmVhdHVyZUNoaWxkID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBGZWF0dXJlQ2hpbGQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUZlYXR1cmVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuSVJ1bGV8bnVsbH0gW3J1bGVdIEZlYXR1cmVDaGlsZCBydWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklCYWNrZ3JvdW5kfG51bGx9IFtiYWNrZ3JvdW5kXSBGZWF0dXJlQ2hpbGQgYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JU2NlbmFyaW98bnVsbH0gW3NjZW5hcmlvXSBGZWF0dXJlQ2hpbGQgc2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgRmVhdHVyZUNoaWxkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIEEgY2hpbGQgbm9kZSBvZiBhIGBGZWF0dXJlYCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSUZlYXR1cmVDaGlsZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBGZWF0dXJlQ2hpbGQocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRmVhdHVyZUNoaWxkIHJ1bGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuSVJ1bGV8bnVsbHx1bmRlZmluZWR9IHJ1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBGZWF0dXJlQ2hpbGQucHJvdG90eXBlLnJ1bGUgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEZlYXR1cmVDaGlsZCBiYWNrZ3JvdW5kLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSUJhY2tncm91bmR8bnVsbHx1bmRlZmluZWR9IGJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBGZWF0dXJlQ2hpbGQucHJvdG90eXBlLmJhY2tncm91bmQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEZlYXR1cmVDaGlsZCBzY2VuYXJpby5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklTY2VuYXJpb3xudWxsfHVuZGVmaW5lZH0gc2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBGZWF0dXJlQ2hpbGQucHJvdG90eXBlLnNjZW5hcmlvID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25lT2YgZmllbGQgbmFtZXMgYm91bmQgdG8gdmlydHVhbCBnZXR0ZXJzIGFuZCBzZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJG9uZU9mRmllbGRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEZlYXR1cmVDaGlsZCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge1wicnVsZVwifFwiYmFja2dyb3VuZFwifFwic2NlbmFyaW9cInx1bmRlZmluZWR9IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZlYXR1cmVDaGlsZC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogJHV0aWwub25lT2ZHZXR0ZXIoJG9uZU9mRmllbGRzID0gW1wicnVsZVwiLCBcImJhY2tncm91bmRcIiwgXCJzY2VuYXJpb1wiXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiAkdXRpbC5vbmVPZlNldHRlcigkb25lT2ZGaWVsZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IEZlYXR1cmVDaGlsZCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklGZWF0dXJlQ2hpbGQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGR9IEZlYXR1cmVDaGlsZCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBGZWF0dXJlQ2hpbGQuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZlYXR1cmVDaGlsZChwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIEZlYXR1cmVDaGlsZCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklGZWF0dXJlQ2hpbGR9IG1lc3NhZ2UgRmVhdHVyZUNoaWxkIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIEZlYXR1cmVDaGlsZC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucnVsZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJydWxlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZS5lbmNvZGUobWVzc2FnZS5ydWxlLCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYmFja2dyb3VuZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJiYWNrZ3JvdW5kXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5CYWNrZ3JvdW5kLmVuY29kZShtZXNzYWdlLmJhY2tncm91bmQsIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zY2VuYXJpbyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzY2VuYXJpb1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uZW5jb2RlKG1lc3NhZ2Uuc2NlbmFyaW8sIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgRmVhdHVyZUNoaWxkIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSUZlYXR1cmVDaGlsZH0gbWVzc2FnZSBGZWF0dXJlQ2hpbGQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgRmVhdHVyZUNoaWxkLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIEZlYXR1cmVDaGlsZCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZH0gRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIEZlYXR1cmVDaGlsZC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJ1bGUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmFja2dyb3VuZCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNjZW5hcmlvID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBGZWF0dXJlQ2hpbGQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZH0gRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIEZlYXR1cmVDaGlsZC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBGZWF0dXJlQ2hpbGQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgRmVhdHVyZUNoaWxkLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucnVsZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJydWxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudmFsdWUgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZS52ZXJpZnkobWVzc2FnZS5ydWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJydWxlLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYmFja2dyb3VuZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJiYWNrZ3JvdW5kXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLnZhbHVlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidmFsdWU6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnZhbHVlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZC52ZXJpZnkobWVzc2FnZS5iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJiYWNrZ3JvdW5kLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc2NlbmFyaW8gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic2NlbmFyaW9cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMudmFsdWUgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ2YWx1ZTogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudmFsdWUgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby52ZXJpZnkobWVzc2FnZS5zY2VuYXJpbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic2NlbmFyaW8uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIEZlYXR1cmVDaGlsZCBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZH0gRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIEZlYXR1cmVDaGlsZC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QucnVsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnJ1bGUgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLnJ1bGU6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ydWxlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGUuZnJvbU9iamVjdChvYmplY3QucnVsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuYmFja2dyb3VuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmJhY2tncm91bmQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLmJhY2tncm91bmQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iYWNrZ3JvdW5kID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZC5mcm9tT2JqZWN0KG9iamVjdC5iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5zY2VuYXJpbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnNjZW5hcmlvICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5zY2VuYXJpbzogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNjZW5hcmlvID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uZnJvbU9iamVjdChvYmplY3Quc2NlbmFyaW8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgRmVhdHVyZUNoaWxkIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGR9IG1lc3NhZ2UgRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIEZlYXR1cmVDaGlsZC50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucnVsZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJydWxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5ydWxlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGUudG9PYmplY3QobWVzc2FnZS5ydWxlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZhbHVlID0gXCJydWxlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmJhY2tncm91bmQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYmFja2dyb3VuZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYmFja2dyb3VuZCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmQudG9PYmplY3QobWVzc2FnZS5iYWNrZ3JvdW5kLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZhbHVlID0gXCJiYWNrZ3JvdW5kXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNjZW5hcmlvICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNjZW5hcmlvXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zY2VuYXJpbyA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLnRvT2JqZWN0KG1lc3NhZ2Uuc2NlbmFyaW8sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudmFsdWUgPSBcInNjZW5hcmlvXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgRmVhdHVyZUNoaWxkIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgRmVhdHVyZUNoaWxkLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBGZWF0dXJlQ2hpbGQuUnVsZSA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBSdWxlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElSdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb258bnVsbH0gW2xvY2F0aW9uXSBSdWxlIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2tleXdvcmRdIFJ1bGUga2V5d29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtuYW1lXSBSdWxlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbZGVzY3JpcHRpb25dIFJ1bGUgZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuSVJ1bGVDaGlsZD58bnVsbH0gW2NoaWxkcmVuXSBSdWxlIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFJ1bGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgQSBgUnVsZWAgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElSdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuSVJ1bGU9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBSdWxlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFJ1bGUgbG9jYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx8dW5kZWZpbmVkfSBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJ1bGUucHJvdG90eXBlLmxvY2F0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFJ1bGUga2V5d29yZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGtleXdvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlLnByb3RvdHlwZS5rZXl3b3JkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFJ1bGUgbmFtZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlLnByb3RvdHlwZS5uYW1lID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFJ1bGUgZGVzY3JpcHRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJ1bGUucHJvdG90eXBlLmRlc2NyaXB0aW9uID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFJ1bGUgY2hpbGRyZW4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5JUnVsZUNoaWxkPn0gY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlLnByb3RvdHlwZS5jaGlsZHJlbiA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFJ1bGUgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuSVJ1bGU9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGV9IFJ1bGUgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUnVsZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFJ1bGUgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5JUnVsZX0gbWVzc2FnZSBSdWxlIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmVuY29kZShtZXNzYWdlLmxvY2F0aW9uLCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmtleXdvcmQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwia2V5d29yZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2Uua2V5d29yZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRlc2NyaXB0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5zdHJpbmcobWVzc2FnZS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNoaWxkcmVuICE9IG51bGwgJiYgbWVzc2FnZS5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuY2hpbGRyZW4ubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZC5lbmNvZGUobWVzc2FnZS5jaGlsZHJlbltpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCA1LCB3aXJlVHlwZSAyID0qLzQyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgUnVsZSBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZS52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLklSdWxlfSBtZXNzYWdlIFJ1bGUgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJ1bGUuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFJ1bGUgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlfSBSdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtleXdvcmQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVzY3JpcHRpb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS5jaGlsZHJlbiAmJiBtZXNzYWdlLmNoaWxkcmVuLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNoaWxkcmVuLnB1c2goJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgUnVsZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlfSBSdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFJ1bGUgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVsZS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24udmVyaWZ5KG1lc3NhZ2UubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxvY2F0aW9uLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uua2V5d29yZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJrZXl3b3JkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmtleXdvcmQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImtleXdvcmQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UubmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRlc2NyaXB0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmRlc2NyaXB0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJkZXNjcmlwdGlvbjogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNoaWxkcmVuICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNoaWxkcmVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZS5jaGlsZHJlbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY2hpbGRyZW46IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZUNoaWxkLnZlcmlmeShtZXNzYWdlLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNoaWxkcmVuLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBSdWxlIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlfSBSdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVsZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5sb2NhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5sb2NhdGlvbiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGUubG9jYXRpb246IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5mcm9tT2JqZWN0KG9iamVjdC5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5rZXl3b3JkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtleXdvcmQgPSBTdHJpbmcob2JqZWN0LmtleXdvcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lm5hbWUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IFN0cmluZyhvYmplY3QubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuZGVzY3JpcHRpb24gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVzY3JpcHRpb24gPSBTdHJpbmcob2JqZWN0LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdC5jaGlsZHJlbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlLmNoaWxkcmVuOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuY2hpbGRyZW5baV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZS5jaGlsZHJlbjogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2hpbGRyZW5baV0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZUNoaWxkLmZyb21PYmplY3Qob2JqZWN0LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgUnVsZSBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGV9IG1lc3NhZ2UgUnVsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVsZS50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFycmF5cyB8fCBvcHRpb25zLmRlZmF1bHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNoaWxkcmVuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmtleXdvcmQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnRvT2JqZWN0KG1lc3NhZ2UubG9jYXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5rZXl3b3JkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImtleXdvcmRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Qua2V5d29yZCA9IG1lc3NhZ2Uua2V5d29yZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSBtZXNzYWdlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRlc2NyaXB0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRlc2NyaXB0aW9uID0gbWVzc2FnZS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY2hpbGRyZW4gJiYgbWVzc2FnZS5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLmNoaWxkcmVuLmxlbmd0aDsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jaGlsZHJlbltqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGQudG9PYmplY3QobWVzc2FnZS5jaGlsZHJlbltqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBSdWxlIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUnVsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEZlYXR1cmVDaGlsZC5SdWxlQ2hpbGQgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgUnVsZUNoaWxkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElSdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklCYWNrZ3JvdW5kfG51bGx9IFtiYWNrZ3JvdW5kXSBSdWxlQ2hpbGQgYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVNjZW5hcmlvfG51bGx9IFtzY2VuYXJpb10gUnVsZUNoaWxkIHNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFJ1bGVDaGlsZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgUnVsZUNoaWxkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElSdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5JUnVsZUNoaWxkPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gUnVsZUNoaWxkKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBSdWxlQ2hpbGQgYmFja2dyb3VuZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JQmFja2dyb3VuZHxudWxsfHVuZGVmaW5lZH0gYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVsZUNoaWxkLnByb3RvdHlwZS5iYWNrZ3JvdW5kID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFJ1bGVDaGlsZCBzY2VuYXJpby5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JU2NlbmFyaW98bnVsbHx1bmRlZmluZWR9IHNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlQ2hpbGQucHJvdG90eXBlLnNjZW5hcmlvID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uZU9mIGZpZWxkIG5hbWVzIGJvdW5kIHRvIHZpcnR1YWwgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkb25lT2ZGaWVsZHM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBSdWxlQ2hpbGQgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7XCJiYWNrZ3JvdW5kXCJ8XCJzY2VuYXJpb1wifHVuZGVmaW5lZH0gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSdWxlQ2hpbGQucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAkdXRpbC5vbmVPZkdldHRlcigkb25lT2ZGaWVsZHMgPSBbXCJiYWNrZ3JvdW5kXCIsIFwic2NlbmFyaW9cIl0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICR1dGlsLm9uZU9mU2V0dGVyKCRvbmVPZkZpZWxkcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgUnVsZUNoaWxkIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuSVJ1bGVDaGlsZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZUNoaWxkfSBSdWxlQ2hpbGQgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlQ2hpbGQuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSdWxlQ2hpbGQocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBSdWxlQ2hpbGQgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuSVJ1bGVDaGlsZH0gbWVzc2FnZSBSdWxlQ2hpbGQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJ1bGVDaGlsZC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYmFja2dyb3VuZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJiYWNrZ3JvdW5kXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZC5lbmNvZGUobWVzc2FnZS5iYWNrZ3JvdW5kLCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNjZW5hcmlvICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNjZW5hcmlvXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uZW5jb2RlKG1lc3NhZ2Uuc2NlbmFyaW8sIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFJ1bGVDaGlsZCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZUNoaWxkLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5JUnVsZUNoaWxkfSBtZXNzYWdlIFJ1bGVDaGlsZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVsZUNoaWxkLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBSdWxlQ2hpbGQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZH0gUnVsZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlQ2hpbGQuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iYWNrZ3JvdW5kID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2NlbmFyaW8gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBSdWxlQ2hpbGQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGR9IFJ1bGVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVsZUNoaWxkLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFJ1bGVDaGlsZCBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJ1bGVDaGlsZC52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5iYWNrZ3JvdW5kICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImJhY2tncm91bmRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudmFsdWUgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmQudmVyaWZ5KG1lc3NhZ2UuYmFja2dyb3VuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJiYWNrZ3JvdW5kLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc2NlbmFyaW8gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic2NlbmFyaW9cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLnZhbHVlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInZhbHVlOiBtdWx0aXBsZSB2YWx1ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudmFsdWUgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLnZlcmlmeShtZXNzYWdlLnNjZW5hcmlvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInNjZW5hcmlvLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBSdWxlQ2hpbGQgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZUNoaWxkfSBSdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdWxlQ2hpbGQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZUNoaWxkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmJhY2tncm91bmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuYmFja2dyb3VuZCAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuRmVhdHVyZUNoaWxkLlJ1bGVDaGlsZC5iYWNrZ3JvdW5kOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJhY2tncm91bmQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5CYWNrZ3JvdW5kLmZyb21PYmplY3Qob2JqZWN0LmJhY2tncm91bmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Quc2NlbmFyaW8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Quc2NlbmFyaW8gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGQuc2NlbmFyaW86IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2NlbmFyaW8gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5mcm9tT2JqZWN0KG9iamVjdC5zY2VuYXJpbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFJ1bGVDaGlsZCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkZlYXR1cmVDaGlsZC5SdWxlQ2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZUNoaWxkfSBtZXNzYWdlIFJ1bGVDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVsZUNoaWxkLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYmFja2dyb3VuZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJiYWNrZ3JvdW5kXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYmFja2dyb3VuZCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmQudG9PYmplY3QobWVzc2FnZS5iYWNrZ3JvdW5kLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudmFsdWUgPSBcImJhY2tncm91bmRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zY2VuYXJpbyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzY2VuYXJpb1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNjZW5hcmlvID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8udG9PYmplY3QobWVzc2FnZS5zY2VuYXJpbywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmVvZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZhbHVlID0gXCJzY2VuYXJpb1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgUnVsZUNoaWxkIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5GZWF0dXJlQ2hpbGQuUnVsZUNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJ1bGVDaGlsZC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJ1bGVDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGZWF0dXJlQ2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgRmVhdHVyZS5CYWNrZ3JvdW5kID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBCYWNrZ3JvdW5kLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElCYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklMb2NhdGlvbnxudWxsfSBbbG9jYXRpb25dIEJhY2tncm91bmQgbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtrZXl3b3JkXSBCYWNrZ3JvdW5kIGtleXdvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtuYW1lXSBCYWNrZ3JvdW5kIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtkZXNjcmlwdGlvbl0gQmFja2dyb3VuZCBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVN0ZXA+fG51bGx9IFtzdGVwc10gQmFja2dyb3VuZCBzdGVwc1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBCYWNrZ3JvdW5kLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBCYWNrZ3JvdW5kLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSUJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JQmFja2dyb3VuZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBCYWNrZ3JvdW5kKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBCYWNrZ3JvdW5kIGxvY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx8dW5kZWZpbmVkfSBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLnByb3RvdHlwZS5sb2NhdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQmFja2dyb3VuZCBrZXl3b3JkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBrZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmQucHJvdG90eXBlLmtleXdvcmQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEJhY2tncm91bmQgbmFtZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLnByb3RvdHlwZS5uYW1lID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBCYWNrZ3JvdW5kIGRlc2NyaXB0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLnByb3RvdHlwZS5kZXNjcmlwdGlvbiA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQmFja2dyb3VuZCBzdGVwcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JU3RlcD59IHN0ZXBzXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmQucHJvdG90eXBlLnN0ZXBzID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IEJhY2tncm91bmQgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSUJhY2tncm91bmQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5CYWNrZ3JvdW5kfSBCYWNrZ3JvdW5kIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmQuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJhY2tncm91bmQocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBCYWNrZ3JvdW5kIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JQmFja2dyb3VuZH0gbWVzc2FnZSBCYWNrZ3JvdW5kIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5lbmNvZGUobWVzc2FnZS5sb2NhdGlvbiwgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmtleXdvcmQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwia2V5d29yZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5zdHJpbmcobWVzc2FnZS5rZXl3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGVzY3JpcHRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgNCwgd2lyZVR5cGUgMiA9Ki8zNCkuc3RyaW5nKG1lc3NhZ2UuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBzICE9IG51bGwgJiYgbWVzc2FnZS5zdGVwcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5zdGVwcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuZW5jb2RlKG1lc3NhZ2Uuc3RlcHNbaV0sIHdyaXRlci51aW50MzIoLyogaWQgNSwgd2lyZVR5cGUgMiA9Ki80MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgQmFja2dyb3VuZCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5CYWNrZ3JvdW5kLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSUJhY2tncm91bmR9IG1lc3NhZ2UgQmFja2dyb3VuZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIEJhY2tncm91bmQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5CYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZH0gQmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtleXdvcmQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVzY3JpcHRpb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS5zdGVwcyAmJiBtZXNzYWdlLnN0ZXBzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwcy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgQmFja2dyb3VuZCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmR9IEJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBCYWNrZ3JvdW5kIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnZlcmlmeShtZXNzYWdlLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibG9jYXRpb24uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uua2V5d29yZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJrZXl3b3JkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2Uua2V5d29yZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJrZXl3b3JkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5uYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRlc2NyaXB0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuZGVzY3JpcHRpb24pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZGVzY3JpcHRpb246IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInN0ZXBzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnN0ZXBzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0ZXBzOiBhcnJheSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uuc3RlcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAudmVyaWZ5KG1lc3NhZ2Uuc3RlcHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0ZXBzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBCYWNrZ3JvdW5kIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmR9IEJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuQmFja2dyb3VuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5CYWNrZ3JvdW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5sb2NhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmxvY2F0aW9uICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmQubG9jYXRpb246IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmZyb21PYmplY3Qob2JqZWN0LmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5rZXl3b3JkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5d29yZCA9IFN0cmluZyhvYmplY3Qua2V5d29yZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5uYW1lICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IFN0cmluZyhvYmplY3QubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5kZXNjcmlwdGlvbiAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlc2NyaXB0aW9uID0gU3RyaW5nKG9iamVjdC5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5zdGVwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LnN0ZXBzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5CYWNrZ3JvdW5kLnN0ZXBzOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5zdGVwcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Quc3RlcHNbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmQuc3RlcHM6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcHNbaV0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLmZyb21PYmplY3Qob2JqZWN0LnN0ZXBzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgQmFja2dyb3VuZCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5CYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmR9IG1lc3NhZ2UgQmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcnJheXMgfHwgb3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmtleXdvcmQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi50b09iamVjdChtZXNzYWdlLmxvY2F0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5rZXl3b3JkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImtleXdvcmRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5rZXl3b3JkID0gbWVzc2FnZS5rZXl3b3JkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSBtZXNzYWdlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGVzY3JpcHRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kZXNjcmlwdGlvbiA9IG1lc3NhZ2UuZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RlcHMgJiYgbWVzc2FnZS5zdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5zdGVwcy5sZW5ndGg7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwc1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAudG9PYmplY3QobWVzc2FnZS5zdGVwc1tqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgQmFja2dyb3VuZCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLkJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmFja2dyb3VuZDtcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgICAgICAgICBGZWF0dXJlLlNjZW5hcmlvID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBTY2VuYXJpby5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx9IFtsb2NhdGlvbl0gU2NlbmFyaW8gbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklUYWc+fG51bGx9IFt0YWdzXSBTY2VuYXJpbyB0YWdzXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBba2V5d29yZF0gU2NlbmFyaW8ga2V5d29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW25hbWVdIFNjZW5hcmlvIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtkZXNjcmlwdGlvbl0gU2NlbmFyaW8gZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklTdGVwPnxudWxsfSBbc3RlcHNdIFNjZW5hcmlvIHN0ZXBzXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5JRXhhbXBsZXM+fG51bGx9IFtleGFtcGxlc10gU2NlbmFyaW8gZXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtpZF0gU2NlbmFyaW8gaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgU2NlbmFyaW8uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFNjZW5hcmlvLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVNjZW5hcmlvPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNjZW5hcmlvKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leGFtcGxlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogU2NlbmFyaW8gbG9jYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb258bnVsbHx1bmRlZmluZWR9IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTY2VuYXJpby5wcm90b3R5cGUubG9jYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFNjZW5hcmlvIHRhZ3MuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVRhZz59IHRhZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFNjZW5hcmlvLnByb3RvdHlwZS50YWdzID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBTY2VuYXJpbyBrZXl3b3JkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBrZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTY2VuYXJpby5wcm90b3R5cGUua2V5d29yZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogU2NlbmFyaW8gbmFtZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU2NlbmFyaW8ucHJvdG90eXBlLm5hbWUgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFNjZW5hcmlvIGRlc2NyaXB0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU2NlbmFyaW8ucHJvdG90eXBlLmRlc2NyaXB0aW9uID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBTY2VuYXJpbyBzdGVwcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JU3RlcD59IHN0ZXBzXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTY2VuYXJpby5wcm90b3R5cGUuc3RlcHMgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFNjZW5hcmlvIGV4YW1wbGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLklFeGFtcGxlcz59IGV4YW1wbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTY2VuYXJpby5wcm90b3R5cGUuZXhhbXBsZXMgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFNjZW5hcmlvIGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU2NlbmFyaW8ucHJvdG90eXBlLmlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFNjZW5hcmlvIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JU2NlbmFyaW89fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpb30gU2NlbmFyaW8gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU2NlbmFyaW8uY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNjZW5hcmlvKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgU2NlbmFyaW8gbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8udmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVNjZW5hcmlvfSBtZXNzYWdlIFNjZW5hcmlvIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFNjZW5hcmlvLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZW5jb2RlKG1lc3NhZ2UubG9jYXRpb24sIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWdzICE9IG51bGwgJiYgbWVzc2FnZS50YWdzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnRhZ3MubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWcuZW5jb2RlKG1lc3NhZ2UudGFnc1tpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmtleXdvcmQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwia2V5d29yZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5zdHJpbmcobWVzc2FnZS5rZXl3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgNCwgd2lyZVR5cGUgMiA9Ki8zNCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGVzY3JpcHRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgNSwgd2lyZVR5cGUgMiA9Ki80Mikuc3RyaW5nKG1lc3NhZ2UuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBzICE9IG51bGwgJiYgbWVzc2FnZS5zdGVwcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5zdGVwcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuZW5jb2RlKG1lc3NhZ2Uuc3RlcHNbaV0sIHdyaXRlci51aW50MzIoLyogaWQgNiwgd2lyZVR5cGUgMiA9Ki81MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5leGFtcGxlcyAhPSBudWxsICYmIG1lc3NhZ2UuZXhhbXBsZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuZXhhbXBsZXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlcy5lbmNvZGUobWVzc2FnZS5leGFtcGxlc1tpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCA3LCB3aXJlVHlwZSAyID0qLzU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDgsIHdpcmVUeXBlIDIgPSovNjYpLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgU2NlbmFyaW8gbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8udmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVNjZW5hcmlvfSBtZXNzYWdlIFNjZW5hcmlvIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFNjZW5hcmlvLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFNjZW5hcmlvIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpb30gU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU2NlbmFyaW8uZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLnRhZ3MgJiYgbWVzc2FnZS50YWdzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3MucHVzaCgkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWcuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5rZXl3b3JkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlc2NyaXB0aW9uID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2Uuc3RlcHMgJiYgbWVzc2FnZS5zdGVwcy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcHMucHVzaCgkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2UuZXhhbXBsZXMgJiYgbWVzc2FnZS5leGFtcGxlcy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXhhbXBsZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXhhbXBsZXMucHVzaCgkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFNjZW5hcmlvIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvfSBTY2VuYXJpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTY2VuYXJpby5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBTY2VuYXJpbyBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFNjZW5hcmlvLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnZlcmlmeShtZXNzYWdlLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibG9jYXRpb24uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0YWdzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnRhZ3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFnczogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnRhZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZy52ZXJpZnkobWVzc2FnZS50YWdzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0YWdzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uua2V5d29yZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJrZXl3b3JkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2Uua2V5d29yZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJrZXl3b3JkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5uYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRlc2NyaXB0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuZGVzY3JpcHRpb24pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZGVzY3JpcHRpb246IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInN0ZXBzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnN0ZXBzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0ZXBzOiBhcnJheSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uuc3RlcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAudmVyaWZ5KG1lc3NhZ2Uuc3RlcHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0ZXBzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZXhhbXBsZXMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZXhhbXBsZXNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UuZXhhbXBsZXMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZXhhbXBsZXM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5leGFtcGxlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXMudmVyaWZ5KG1lc3NhZ2UuZXhhbXBsZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImV4YW1wbGVzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5pZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJpZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBTY2VuYXJpbyBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW99IFNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFNjZW5hcmlvLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpbylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpbygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubG9jYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5sb2NhdGlvbiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5sb2NhdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZnJvbU9iamVjdChvYmplY3QubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdC50YWdzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby50YWdzOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LnRhZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRhZ3NbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLnRhZ3M6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFnc1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZy5mcm9tT2JqZWN0KG9iamVjdC50YWdzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmtleXdvcmQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5rZXl3b3JkID0gU3RyaW5nKG9iamVjdC5rZXl3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lm5hbWUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gU3RyaW5nKG9iamVjdC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmRlc2NyaXB0aW9uICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVzY3JpcHRpb24gPSBTdHJpbmcob2JqZWN0LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnN0ZXBzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3Quc3RlcHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLnN0ZXBzOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5zdGVwcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Quc3RlcHNbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLnN0ZXBzOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0ZXBzW2ldID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5mcm9tT2JqZWN0KG9iamVjdC5zdGVwc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5leGFtcGxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LmV4YW1wbGVzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5leGFtcGxlczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXhhbXBsZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QuZXhhbXBsZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmV4YW1wbGVzW2ldICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5leGFtcGxlczogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leGFtcGxlc1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLkV4YW1wbGVzLmZyb21PYmplY3Qob2JqZWN0LmV4YW1wbGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmlkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSBTdHJpbmcob2JqZWN0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgU2NlbmFyaW8gbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW99IG1lc3NhZ2UgU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU2NlbmFyaW8udG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFycmF5cyB8fCBvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZXhhbXBsZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmtleXdvcmQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi50b09iamVjdChtZXNzYWdlLmxvY2F0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWdzICYmIG1lc3NhZ2UudGFncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLnRhZ3MubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGFnc1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZy50b09iamVjdChtZXNzYWdlLnRhZ3Nbal0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5rZXl3b3JkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImtleXdvcmRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5rZXl3b3JkID0gbWVzc2FnZS5rZXl3b3JkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSBtZXNzYWdlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGVzY3JpcHRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kZXNjcmlwdGlvbiA9IG1lc3NhZ2UuZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RlcHMgJiYgbWVzc2FnZS5zdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5zdGVwcy5sZW5ndGg7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwc1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAudG9PYmplY3QobWVzc2FnZS5zdGVwc1tqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmV4YW1wbGVzICYmIG1lc3NhZ2UuZXhhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5leGFtcGxlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2UuZXhhbXBsZXMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZXhhbXBsZXNbal0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlcy50b09iamVjdChtZXNzYWdlLmV4YW1wbGVzW2pdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IG1lc3NhZ2UuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBTY2VuYXJpbyB0byBKU09OLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU2NlbmFyaW8ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNjZW5hcmlvLkV4YW1wbGVzID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhbiBFeGFtcGxlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElFeGFtcGxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx9IFtsb2NhdGlvbl0gRXhhbXBsZXMgbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JVGFnPnxudWxsfSBbdGFnc10gRXhhbXBsZXMgdGFnc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtrZXl3b3JkXSBFeGFtcGxlcyBrZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW25hbWVdIEV4YW1wbGVzIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbZGVzY3JpcHRpb25dIEV4YW1wbGVzIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JVGFibGVSb3d8bnVsbH0gW3RhYmxlSGVhZGVyXSBFeGFtcGxlcyB0YWJsZUhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklUYWJsZVJvdz58bnVsbH0gW3RhYmxlQm9keV0gRXhhbXBsZXMgdGFibGVCb2R5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IEV4YW1wbGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhbiBFeGFtcGxlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJRXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLklFeGFtcGxlcz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIEV4YW1wbGVzKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVCb2R5ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRXhhbXBsZXMgbG9jYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx8dW5kZWZpbmVkfSBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4YW1wbGVzLnByb3RvdHlwZS5sb2NhdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBFeGFtcGxlcyB0YWdzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JVGFnPn0gdGFnc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4YW1wbGVzLnByb3RvdHlwZS50YWdzID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEV4YW1wbGVzIGtleXdvcmQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBrZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLkV4YW1wbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhhbXBsZXMucHJvdG90eXBlLmtleXdvcmQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRXhhbXBsZXMgbmFtZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFeGFtcGxlcy5wcm90b3R5cGUubmFtZSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBFeGFtcGxlcyBkZXNjcmlwdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLkV4YW1wbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhhbXBsZXMucHJvdG90eXBlLmRlc2NyaXB0aW9uID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEV4YW1wbGVzIHRhYmxlSGVhZGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklUYWJsZVJvd3xudWxsfHVuZGVmaW5lZH0gdGFibGVIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFeGFtcGxlcy5wcm90b3R5cGUudGFibGVIZWFkZXIgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRXhhbXBsZXMgdGFibGVCb2R5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JVGFibGVSb3c+fSB0YWJsZUJvZHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFeGFtcGxlcy5wcm90b3R5cGUudGFibGVCb2R5ID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgRXhhbXBsZXMgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5JRXhhbXBsZXM9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXN9IEV4YW1wbGVzIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhhbXBsZXMuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFeGFtcGxlcyhwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIEV4YW1wbGVzIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLkV4YW1wbGVzLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5JRXhhbXBsZXN9IG1lc3NhZ2UgRXhhbXBsZXMgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4YW1wbGVzLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmVuY29kZShtZXNzYWdlLmxvY2F0aW9uLCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRhZ3MgIT0gbnVsbCAmJiBtZXNzYWdlLnRhZ3MubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnRhZ3MubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnLmVuY29kZShtZXNzYWdlLnRhZ3NbaV0sIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uua2V5d29yZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJrZXl3b3JkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5zdHJpbmcobWVzc2FnZS5rZXl3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGVzY3JpcHRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDUsIHdpcmVUeXBlIDIgPSovNDIpLnN0cmluZyhtZXNzYWdlLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFibGVIZWFkZXIgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGFibGVIZWFkZXJcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5lbmNvZGUobWVzc2FnZS50YWJsZUhlYWRlciwgd3JpdGVyLnVpbnQzMigvKiBpZCA2LCB3aXJlVHlwZSAyID0qLzUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWJsZUJvZHkgIT0gbnVsbCAmJiBtZXNzYWdlLnRhYmxlQm9keS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UudGFibGVCb2R5Lmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LmVuY29kZShtZXNzYWdlLnRhYmxlQm9keVtpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCA3LCB3aXJlVHlwZSAyID0qLzU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgRXhhbXBsZXMgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXMudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLklFeGFtcGxlc30gbWVzc2FnZSBFeGFtcGxlcyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhhbXBsZXMuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhbiBFeGFtcGxlcyBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXN9IEV4YW1wbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFeGFtcGxlcy5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS50YWdzICYmIG1lc3NhZ2UudGFncy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3MucHVzaCgkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWcuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5rZXl3b3JkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlc2NyaXB0aW9uID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFibGVIZWFkZXIgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2UudGFibGVCb2R5ICYmIG1lc3NhZ2UudGFibGVCb2R5Lmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFibGVCb2R5ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWJsZUJvZHkucHVzaCgkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGFuIEV4YW1wbGVzIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXN9IEV4YW1wbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFeGFtcGxlcy5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYW4gRXhhbXBsZXMgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLkV4YW1wbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhhbXBsZXMudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubG9jYXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnZlcmlmeShtZXNzYWdlLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsb2NhdGlvbi5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRhZ3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGFnc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UudGFncykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFnczogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS50YWdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFnLnZlcmlmeShtZXNzYWdlLnRhZ3NbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFncy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmtleXdvcmQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwia2V5d29yZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5rZXl3b3JkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJrZXl3b3JkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kZXNjcmlwdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5kZXNjcmlwdGlvbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZGVzY3JpcHRpb246IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWJsZUhlYWRlciAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0YWJsZUhlYWRlclwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cudmVyaWZ5KG1lc3NhZ2UudGFibGVIZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhYmxlSGVhZGVyLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFibGVCb2R5ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRhYmxlQm9keVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UudGFibGVCb2R5KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0YWJsZUJvZHk6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UudGFibGVCb2R5Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cudmVyaWZ5KG1lc3NhZ2UudGFibGVCb2R5W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhYmxlQm9keS5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGFuIEV4YW1wbGVzIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLkV4YW1wbGVzfSBFeGFtcGxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4YW1wbGVzLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmxvY2F0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmxvY2F0aW9uICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlcy5sb2NhdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmZyb21PYmplY3Qob2JqZWN0LmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QudGFncykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLkV4YW1wbGVzLnRhZ3M6IGFycmF5IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC50YWdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QudGFnc1tpXSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLkV4YW1wbGVzLnRhZ3M6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3NbaV0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWcuZnJvbU9iamVjdChvYmplY3QudGFnc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5rZXl3b3JkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtleXdvcmQgPSBTdHJpbmcob2JqZWN0LmtleXdvcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lm5hbWUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IFN0cmluZyhvYmplY3QubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuZGVzY3JpcHRpb24gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVzY3JpcHRpb24gPSBTdHJpbmcob2JqZWN0LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50YWJsZUhlYWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC50YWJsZUhlYWRlciAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXMudGFibGVIZWFkZXI6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFibGVIZWFkZXIgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5mcm9tT2JqZWN0KG9iamVjdC50YWJsZUhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50YWJsZUJvZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QudGFibGVCb2R5KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXMudGFibGVCb2R5OiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFibGVCb2R5ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC50YWJsZUJvZHkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC50YWJsZUJvZHlbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TY2VuYXJpby5FeGFtcGxlcy50YWJsZUJvZHk6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhYmxlQm9keVtpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LmZyb21PYmplY3Qob2JqZWN0LnRhYmxlQm9keVtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhbiBFeGFtcGxlcyBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlNjZW5hcmlvLkV4YW1wbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXN9IG1lc3NhZ2UgRXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4YW1wbGVzLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGFibGVCb2R5ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Qua2V5d29yZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZGVzY3JpcHRpb24gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRhYmxlSGVhZGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnRvT2JqZWN0KG1lc3NhZ2UubG9jYXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWdzICYmIG1lc3NhZ2UudGFncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2UudGFncy5sZW5ndGg7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGFnc1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhZy50b09iamVjdChtZXNzYWdlLnRhZ3Nbal0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmtleXdvcmQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwia2V5d29yZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5rZXl3b3JkID0gbWVzc2FnZS5rZXl3b3JkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IG1lc3NhZ2UubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGVzY3JpcHRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZGVzY3JpcHRpb24gPSBtZXNzYWdlLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWJsZUhlYWRlciAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0YWJsZUhlYWRlclwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50YWJsZUhlYWRlciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LnRvT2JqZWN0KG1lc3NhZ2UudGFibGVIZWFkZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWJsZUJvZHkgJiYgbWVzc2FnZS50YWJsZUJvZHkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGFibGVCb2R5ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2UudGFibGVCb2R5Lmxlbmd0aDsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50YWJsZUJvZHlbal0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy50b09iamVjdChtZXNzYWdlLnRhYmxlQm9keVtqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBFeGFtcGxlcyB0byBKU09OLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU2NlbmFyaW8uRXhhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhhbXBsZXMucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFeGFtcGxlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTY2VuYXJpbztcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgICAgICAgICBGZWF0dXJlLlRhYmxlUm93ID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBUYWJsZVJvdy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJVGFibGVSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx9IFtsb2NhdGlvbl0gVGFibGVSb3cgbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LklUYWJsZUNlbGw+fG51bGx9IFtjZWxsc10gVGFibGVSb3cgY2VsbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtpZF0gVGFibGVSb3cgaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgVGFibGVSb3cuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFRhYmxlUm93LlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVRhYmxlUm93PX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFRhYmxlUm93KHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNlbGxzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBUYWJsZVJvdyBsb2NhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklMb2NhdGlvbnxudWxsfHVuZGVmaW5lZH0gbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlUm93LnByb3RvdHlwZS5sb2NhdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogVGFibGVSb3cgY2VsbHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuSVRhYmxlQ2VsbD59IGNlbGxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWJsZVJvdy5wcm90b3R5cGUuY2VsbHMgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFRhYmxlUm93IGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgVGFibGVSb3cucHJvdG90eXBlLmlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFRhYmxlUm93IGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JVGFibGVSb3c9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvd30gVGFibGVSb3cgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgVGFibGVSb3cuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRhYmxlUm93KHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgVGFibGVSb3cgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVRhYmxlUm93fSBtZXNzYWdlIFRhYmxlUm93IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlUm93LmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZW5jb2RlKG1lc3NhZ2UubG9jYXRpb24sIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jZWxscyAhPSBudWxsICYmIG1lc3NhZ2UuY2VsbHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuY2VsbHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGwuZW5jb2RlKG1lc3NhZ2UuY2VsbHNbaV0sIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRhYmxlUm93IG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklUYWJsZVJvd30gbWVzc2FnZSBUYWJsZVJvdyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWJsZVJvdy5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUYWJsZVJvdyBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3d9IFRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlUm93LmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS5jZWxscyAmJiBtZXNzYWdlLmNlbGxzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jZWxscyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jZWxscy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LlRhYmxlQ2VsbC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFRhYmxlUm93IG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93fSBUYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWJsZVJvdy5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBUYWJsZVJvdyBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlUm93LnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnZlcmlmeShtZXNzYWdlLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibG9jYXRpb24uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY2VsbHMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY2VsbHNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UuY2VsbHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY2VsbHM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5jZWxscy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsLnZlcmlmeShtZXNzYWdlLmNlbGxzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjZWxscy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuaWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgVGFibGVSb3cgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93fSBUYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWJsZVJvdy5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmxvY2F0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QubG9jYXRpb24gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cubG9jYXRpb246IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmZyb21PYmplY3Qob2JqZWN0LmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jZWxscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LmNlbGxzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5jZWxsczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2VsbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QuY2VsbHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmNlbGxzW2ldICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5jZWxsczogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jZWxsc1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LlRhYmxlQ2VsbC5mcm9tT2JqZWN0KG9iamVjdC5jZWxsc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5pZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gU3RyaW5nKG9iamVjdC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFRhYmxlUm93IG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93fSBtZXNzYWdlIFRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlUm93LnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcnJheXMgfHwgb3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNlbGxzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubG9jYXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnRvT2JqZWN0KG1lc3NhZ2UubG9jYXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNlbGxzICYmIG1lc3NhZ2UuY2VsbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jZWxscyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2UuY2VsbHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2VsbHNbal0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGwudG9PYmplY3QobWVzc2FnZS5jZWxsc1tqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaWQgPSBtZXNzYWdlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgVGFibGVSb3cgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlUm93LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWJsZVJvdy5UYWJsZUNlbGwgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgVGFibGVDZWxsLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVRhYmxlQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx9IFtsb2NhdGlvbl0gVGFibGVDZWxsIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW3ZhbHVlXSBUYWJsZUNlbGwgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgVGFibGVDZWxsLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFRhYmxlQ2VsbC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5JVGFibGVDZWxsPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gVGFibGVDZWxsKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBUYWJsZUNlbGwgbG9jYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx8dW5kZWZpbmVkfSBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWJsZUNlbGwucHJvdG90eXBlLmxvY2F0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFRhYmxlQ2VsbCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LlRhYmxlQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlQ2VsbC5wcm90b3R5cGUudmFsdWUgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBUYWJsZUNlbGwgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuSVRhYmxlQ2VsbD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGx9IFRhYmxlQ2VsbCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlQ2VsbC5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRhYmxlQ2VsbChwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRhYmxlQ2VsbCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGwudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5JVGFibGVDZWxsfSBtZXNzYWdlIFRhYmxlQ2VsbCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFibGVDZWxsLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLmVuY29kZShtZXNzYWdlLmxvY2F0aW9uLCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5zdHJpbmcobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUYWJsZUNlbGwgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuSVRhYmxlQ2VsbH0gbWVzc2FnZSBUYWJsZUNlbGwgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlQ2VsbC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgVGFibGVDZWxsIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsfSBUYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlQ2VsbC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFRhYmxlQ2VsbCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGx9IFRhYmxlQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFibGVDZWxsLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFRhYmxlQ2VsbCBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFibGVDZWxsLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi52ZXJpZnkobWVzc2FnZS5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibG9jYXRpb24uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS52YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidmFsdWU6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFRhYmxlQ2VsbCBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsfSBUYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWJsZUNlbGwuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5sb2NhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5sb2NhdGlvbiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuVGFibGVDZWxsLmxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZnJvbU9iamVjdChvYmplY3QubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmFsdWUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSBTdHJpbmcob2JqZWN0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFRhYmxlQ2VsbCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LlRhYmxlQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LlRhYmxlQ2VsbH0gbWVzc2FnZSBUYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhYmxlQ2VsbC50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnRvT2JqZWN0KG1lc3NhZ2UubG9jYXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC52YWx1ZSA9IG1lc3NhZ2UudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgVGFibGVDZWxsIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5UYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFibGVDZWxsLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGFibGVDZWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRhYmxlUm93O1xuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIEZlYXR1cmUuU3RlcCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgU3RlcC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb258bnVsbH0gW2xvY2F0aW9uXSBTdGVwIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBba2V5d29yZF0gU3RlcCBrZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdGV4dF0gU3RlcCB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuSURvY1N0cmluZ3xudWxsfSBbZG9jU3RyaW5nXSBTdGVwIGRvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLklEYXRhVGFibGV8bnVsbH0gW2RhdGFUYWJsZV0gU3RlcCBkYXRhVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtpZF0gU3RlcCBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBTdGVwLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBTdGVwLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5JU3RlcD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBTdGVwKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFN0ZXAgbG9jYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb258bnVsbHx1bmRlZmluZWR9IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFN0ZXAucHJvdG90eXBlLmxvY2F0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBTdGVwIGtleXdvcmQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGtleXdvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RlcC5wcm90b3R5cGUua2V5d29yZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogU3RlcCB0ZXh0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFN0ZXAucHJvdG90eXBlLnRleHQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFN0ZXAgZG9jU3RyaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5JRG9jU3RyaW5nfG51bGx8dW5kZWZpbmVkfSBkb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RlcC5wcm90b3R5cGUuZG9jU3RyaW5nID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBTdGVwIGRhdGFUYWJsZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuSURhdGFUYWJsZXxudWxsfHVuZGVmaW5lZH0gZGF0YVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFN0ZXAucHJvdG90eXBlLmRhdGFUYWJsZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogU3RlcCBpZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RlcC5wcm90b3R5cGUuaWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmVPZiBmaWVsZCBuYW1lcyBib3VuZCB0byB2aXJ0dWFsIGdldHRlcnMgYW5kIHNldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkb25lT2ZGaWVsZHM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogU3RlcCBhcmd1bWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge1wiZG9jU3RyaW5nXCJ8XCJkYXRhVGFibGVcInx1bmRlZmluZWR9IGFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGVwLnByb3RvdHlwZSwgXCJhcmd1bWVudFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAkdXRpbC5vbmVPZkdldHRlcigkb25lT2ZGaWVsZHMgPSBbXCJkb2NTdHJpbmdcIiwgXCJkYXRhVGFibGVcIl0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldDogJHV0aWwub25lT2ZTZXR0ZXIoJG9uZU9mRmllbGRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBTdGVwIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLklTdGVwPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcH0gU3RlcCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGVwLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGVwKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgU3RlcCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVN0ZXB9IG1lc3NhZ2UgU3RlcCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGVwLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZW5jb2RlKG1lc3NhZ2UubG9jYXRpb24sIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5rZXl3b3JkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImtleXdvcmRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2Uua2V5d29yZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGV4dCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXh0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDMsIHdpcmVUeXBlIDIgPSovMjYpLnN0cmluZyhtZXNzYWdlLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRvY1N0cmluZyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkb2NTdHJpbmdcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nLmVuY29kZShtZXNzYWdlLmRvY1N0cmluZywgd3JpdGVyLnVpbnQzMigvKiBpZCA1LCB3aXJlVHlwZSAyID0qLzQyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRhdGFUYWJsZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkYXRhVGFibGVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlLmVuY29kZShtZXNzYWdlLmRhdGFUYWJsZSwgd3JpdGVyLnVpbnQzMigvKiBpZCA2LCB3aXJlVHlwZSAyID0qLzUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDcsIHdpcmVUeXBlIDIgPSovNTgpLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgU3RlcCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVN0ZXB9IG1lc3NhZ2UgU3RlcCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGVwLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFN0ZXAgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcH0gU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGVwLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtleXdvcmQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZG9jU3RyaW5nID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmcuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRhdGFUYWJsZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBTdGVwIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcH0gU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGVwLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFN0ZXAgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFN0ZXAudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi52ZXJpZnkobWVzc2FnZS5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxvY2F0aW9uLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmtleXdvcmQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwia2V5d29yZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmtleXdvcmQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwia2V5d29yZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGV4dCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXh0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudGV4dCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXh0OiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kb2NTdHJpbmcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZG9jU3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYXJndW1lbnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRvY1N0cmluZy52ZXJpZnkobWVzc2FnZS5kb2NTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImRvY1N0cmluZy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRhdGFUYWJsZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkYXRhVGFibGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMuYXJndW1lbnQgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcmd1bWVudDogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuYXJndW1lbnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZS52ZXJpZnkobWVzc2FnZS5kYXRhVGFibGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImRhdGFUYWJsZS5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuaWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgU3RlcCBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwfSBTdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFN0ZXAuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubG9jYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5sb2NhdGlvbiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLmxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5mcm9tT2JqZWN0KG9iamVjdC5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Qua2V5d29yZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtleXdvcmQgPSBTdHJpbmcob2JqZWN0LmtleXdvcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGV4dCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHQgPSBTdHJpbmcob2JqZWN0LnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuZG9jU3RyaW5nICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuZG9jU3RyaW5nICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuZG9jU3RyaW5nOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZG9jU3RyaW5nID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmcuZnJvbU9iamVjdChvYmplY3QuZG9jU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5kYXRhVGFibGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5kYXRhVGFibGUgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5kYXRhVGFibGU6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhVGFibGUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZS5mcm9tT2JqZWN0KG9iamVjdC5kYXRhVGFibGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmlkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSBTdHJpbmcob2JqZWN0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgU3RlcCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXB9IG1lc3NhZ2UgU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGVwLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Qua2V5d29yZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubG9jYXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnRvT2JqZWN0KG1lc3NhZ2UubG9jYXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmtleXdvcmQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwia2V5d29yZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmtleXdvcmQgPSBtZXNzYWdlLmtleXdvcmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGV4dCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXh0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGV4dCA9IG1lc3NhZ2UudGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kb2NTdHJpbmcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZG9jU3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kb2NTdHJpbmcgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRvY1N0cmluZy50b09iamVjdChtZXNzYWdlLmRvY1N0cmluZywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hcmd1bWVudCA9IFwiZG9jU3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRhdGFUYWJsZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkYXRhVGFibGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRhdGFUYWJsZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlLnRvT2JqZWN0KG1lc3NhZ2UuZGF0YVRhYmxlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFyZ3VtZW50ID0gXCJkYXRhVGFibGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IG1lc3NhZ2UuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBTdGVwIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFN0ZXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFN0ZXAuRGF0YVRhYmxlID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIERhdGFUYWJsZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSURhdGFUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUxvY2F0aW9ufG51bGx9IFtsb2NhdGlvbl0gRGF0YVRhYmxlIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVRhYmxlUm93PnxudWxsfSBbcm93c10gRGF0YVRhYmxlIHJvd3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgRGF0YVRhYmxlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgRGF0YVRhYmxlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElEYXRhVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuSURhdGFUYWJsZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIERhdGFUYWJsZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm93cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIERhdGFUYWJsZSBsb2NhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb258bnVsbHx1bmRlZmluZWR9IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVRhYmxlLnByb3RvdHlwZS5sb2NhdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBEYXRhVGFibGUgcm93cy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuSVRhYmxlUm93Pn0gcm93c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGFUYWJsZS5wcm90b3R5cGUucm93cyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IERhdGFUYWJsZSBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuSURhdGFUYWJsZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZX0gRGF0YVRhYmxlIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVRhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0YVRhYmxlKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgRGF0YVRhYmxlIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5EYXRhVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLklEYXRhVGFibGV9IG1lc3NhZ2UgRGF0YVRhYmxlIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhVGFibGUuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZW5jb2RlKG1lc3NhZ2UubG9jYXRpb24sIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uucm93cyAhPSBudWxsICYmIG1lc3NhZ2Uucm93cy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uucm93cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5UYWJsZVJvdy5lbmNvZGUobWVzc2FnZS5yb3dzW2ldLCB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBEYXRhVGFibGUgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5EYXRhVGFibGUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuSURhdGFUYWJsZX0gbWVzc2FnZSBEYXRhVGFibGUgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGFUYWJsZS5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgRGF0YVRhYmxlIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZX0gRGF0YVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhVGFibGUuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5EYXRhVGFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2Uucm93cyAmJiBtZXNzYWdlLnJvd3MubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb3dzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb3dzLnB1c2goJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIERhdGFUYWJsZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5EYXRhVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlfSBEYXRhVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGFUYWJsZS5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBEYXRhVGFibGUgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVRhYmxlLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi52ZXJpZnkobWVzc2FnZS5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibG9jYXRpb24uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5yb3dzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInJvd3NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnJvd3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInJvd3M6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uucm93cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LnZlcmlmeShtZXNzYWdlLnJvd3NbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicm93cy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgRGF0YVRhYmxlIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlfSBEYXRhVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhVGFibGUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubG9jYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QubG9jYXRpb24gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlLmxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZnJvbU9iamVjdChvYmplY3QubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Qucm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdC5yb3dzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5EYXRhVGFibGUucm93czogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvd3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LnJvd3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5yb3dzW2ldICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5EYXRhVGFibGUucm93czogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm93c1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlRhYmxlUm93LmZyb21PYmplY3Qob2JqZWN0LnJvd3NbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBEYXRhVGFibGUgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRhdGFUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRGF0YVRhYmxlfSBtZXNzYWdlIERhdGFUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVRhYmxlLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Qucm93cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24udG9PYmplY3QobWVzc2FnZS5sb2NhdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnJvd3MgJiYgbWVzc2FnZS5yb3dzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnJvd3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5yb3dzLmxlbmd0aDsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5yb3dzW2pdID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuVGFibGVSb3cudG9PYmplY3QobWVzc2FnZS5yb3dzW2pdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIERhdGFUYWJsZSB0byBKU09OLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5EYXRhVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVRhYmxlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGF0YVRhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgU3RlcC5Eb2NTdHJpbmcgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgRG9jU3RyaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JTG9jYXRpb258bnVsbH0gW2xvY2F0aW9uXSBEb2NTdHJpbmcgbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbY29udGVudFR5cGVdIERvY1N0cmluZyBjb250ZW50VHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtjb250ZW50XSBEb2NTdHJpbmcgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtkZWxpbWl0ZXJdIERvY1N0cmluZyBkZWxpbWl0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgRG9jU3RyaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgRG9jU3RyaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuSURvY1N0cmluZz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIERvY1N0cmluZyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRG9jU3RyaW5nIGxvY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklMb2NhdGlvbnxudWxsfHVuZGVmaW5lZH0gbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb2NTdHJpbmcucHJvdG90eXBlLmxvY2F0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIERvY1N0cmluZyBjb250ZW50VHlwZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGNvbnRlbnRUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9jU3RyaW5nLnByb3RvdHlwZS5jb250ZW50VHlwZSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBEb2NTdHJpbmcgY29udGVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb2NTdHJpbmcucHJvdG90eXBlLmNvbnRlbnQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRG9jU3RyaW5nIGRlbGltaXRlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGRlbGltaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERvY1N0cmluZy5wcm90b3R5cGUuZGVsaW1pdGVyID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgRG9jU3RyaW5nIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5JRG9jU3RyaW5nPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nfSBEb2NTdHJpbmcgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb2NTdHJpbmcuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEb2NTdHJpbmcocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBEb2NTdHJpbmcgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmcudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuSURvY1N0cmluZ30gbWVzc2FnZSBEb2NTdHJpbmcgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERvY1N0cmluZy5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubG9jYXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi5lbmNvZGUobWVzc2FnZS5sb2NhdGlvbiwgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50VHlwZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb250ZW50VHlwZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2UuY29udGVudFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbnRlbnRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDMsIHdpcmVUeXBlIDIgPSovMjYpLnN0cmluZyhtZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kZWxpbWl0ZXIgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGVsaW1pdGVyXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5zdHJpbmcobWVzc2FnZS5kZWxpbWl0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgRG9jU3RyaW5nIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLklEb2NTdHJpbmd9IG1lc3NhZ2UgRG9jU3RyaW5nIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb2NTdHJpbmcuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIERvY1N0cmluZyBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmd9IERvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9jU3RyaW5nLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnRUeXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlbGltaXRlciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgRG9jU3RyaW5nIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmd9IERvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9jU3RyaW5nLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIERvY1N0cmluZyBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50LkZlYXR1cmUuU3RlcC5Eb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb2NTdHJpbmcudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubG9jYXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkxvY2F0aW9uLnZlcmlmeShtZXNzYWdlLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsb2NhdGlvbi5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnRUeXBlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbnRlbnRUeXBlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmNvbnRlbnRUeXBlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250ZW50VHlwZTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29udGVudFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5jb250ZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250ZW50OiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGVsaW1pdGVyICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRlbGltaXRlclwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5kZWxpbWl0ZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImRlbGltaXRlcjogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgRG9jU3RyaW5nIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nfSBEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb2NTdHJpbmcuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRvY1N0cmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubG9jYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QubG9jYXRpb24gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nLmxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTG9jYXRpb24uZnJvbU9iamVjdChvYmplY3QubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuY29udGVudFR5cGUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudFR5cGUgPSBTdHJpbmcob2JqZWN0LmNvbnRlbnRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb250ZW50ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQgPSBTdHJpbmcob2JqZWN0LmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmRlbGltaXRlciAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZWxpbWl0ZXIgPSBTdHJpbmcob2JqZWN0LmRlbGltaXRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBEb2NTdHJpbmcgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQuRmVhdHVyZS5TdGVwLkRvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nfSBtZXNzYWdlIERvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9jU3RyaW5nLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29udGVudFR5cGUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRlbGltaXRlciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubG9jYXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Mb2NhdGlvbi50b09iamVjdChtZXNzYWdlLmxvY2F0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudFR5cGUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29udGVudFR5cGVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29udGVudFR5cGUgPSBtZXNzYWdlLmNvbnRlbnRUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbnRlbnRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29udGVudCA9IG1lc3NhZ2UuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGVsaW1pdGVyICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRlbGltaXRlclwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kZWxpbWl0ZXIgPSBtZXNzYWdlLmRlbGltaXRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBEb2NTdHJpbmcgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdoZXJraW5Eb2N1bWVudC5GZWF0dXJlLlN0ZXAuRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERvY1N0cmluZy5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERvY1N0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGVwO1xuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGZWF0dXJlO1xuICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gR2hlcmtpbkRvY3VtZW50O1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuQXR0YWNobWVudCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYW4gQXR0YWNobWVudC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElBdHRhY2htZW50XG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlUmVmZXJlbmNlfG51bGx9IFtzb3VyY2VdIEF0dGFjaG1lbnQgc291cmNlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2RhdGFdIEF0dGFjaG1lbnQgZGF0YVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSU1lZGlhfG51bGx9IFttZWRpYV0gQXR0YWNobWVudCBtZWRpYVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFt0ZXN0U3RlcElkXSBBdHRhY2htZW50IHRlc3RTdGVwSWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdGVzdENhc2VTdGFydGVkSWRdIEF0dGFjaG1lbnQgdGVzdENhc2VTdGFydGVkSWRcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgQXR0YWNobWVudC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIEFuIGF0dGFjaG1lbnQgcmVwcmVzZW50cyBhbnkga2luZCBvZiBkYXRhIGFzc29jaWF0ZWQgd2l0aCBhIGxpbmUgaW4gYVxuICAgICAgICAgICAgICAgICAqIFtTb3VyY2VdKCNpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2UpIGZpbGUuIEl0IGNhbiBiZSB1c2VkIGZvcjpcbiAgICAgICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAgICAgKiAqIFN5bnRheCBlcnJvcnMgZHVyaW5nIHBhcnNlIHRpbWVcbiAgICAgICAgICAgICAgICAgKiAqIFNjcmVlbnNob3RzIGNhcHR1cmVkIGFuZCBhdHRhY2hlZCBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICAgICAgICAgICAgICogKiBMb2dzIGNhcHR1cmVkIGFuZCBhdHRhY2hlZCBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgICAgICogSXQgaXMgbm90IHRvIGJlIHVzZWQgZm9yIHJ1bnRpbWUgZXJyb3JzIHJhaXNlZC90aHJvd24gZHVyaW5nIGV4ZWN1dGlvbi4gVGhpc1xuICAgICAgICAgICAgICAgICAqIGlzIGNhcHR1cmVkIGluIGBUZXN0UmVzdWx0YC5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUF0dGFjaG1lbnQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBBdHRhY2htZW50KHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBdHRhY2htZW50IHNvdXJjZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlUmVmZXJlbmNlfG51bGx8dW5kZWZpbmVkfSBzb3VyY2VcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEF0dGFjaG1lbnQucHJvdG90eXBlLnNvdXJjZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBdHRhY2htZW50IGRhdGEuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBkYXRhXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkF0dGFjaG1lbnRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBBdHRhY2htZW50LnByb3RvdHlwZS5kYXRhID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEF0dGFjaG1lbnQgbWVkaWEuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSU1lZGlhfG51bGx8dW5kZWZpbmVkfSBtZWRpYVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5BdHRhY2htZW50XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQXR0YWNobWVudC5wcm90b3R5cGUubWVkaWEgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQXR0YWNobWVudCB0ZXN0U3RlcElkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gdGVzdFN0ZXBJZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5BdHRhY2htZW50XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQXR0YWNobWVudC5wcm90b3R5cGUudGVzdFN0ZXBJZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBdHRhY2htZW50IHRlc3RDYXNlU3RhcnRlZElkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gdGVzdENhc2VTdGFydGVkSWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEF0dGFjaG1lbnQucHJvdG90eXBlLnRlc3RDYXNlU3RhcnRlZElkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgQXR0YWNobWVudCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5BdHRhY2htZW50XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUF0dGFjaG1lbnQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudH0gQXR0YWNobWVudCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEF0dGFjaG1lbnQuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBdHRhY2htZW50KHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgQXR0YWNobWVudCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5BdHRhY2htZW50LnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklBdHRhY2htZW50fSBtZXNzYWdlIEF0dGFjaG1lbnQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEF0dGFjaG1lbnQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNvdXJjZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2UuZW5jb2RlKG1lc3NhZ2Uuc291cmNlLCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRhdGEgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGF0YVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm1lZGlhICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm1lZGlhXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWEuZW5jb2RlKG1lc3NhZ2UubWVkaWEsIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdFN0ZXBJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0U3RlcElkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5zdHJpbmcobWVzc2FnZS50ZXN0U3RlcElkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VTdGFydGVkSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VTdGFydGVkSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDUsIHdpcmVUeXBlIDIgPSovNDIpLnN0cmluZyhtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIEF0dGFjaG1lbnQgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkF0dGFjaG1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQXR0YWNobWVudH0gbWVzc2FnZSBBdHRhY2htZW50IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBBdHRhY2htZW50LmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYW4gQXR0YWNobWVudCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5BdHRhY2htZW50fSBBdHRhY2htZW50XG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBBdHRhY2htZW50LmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkF0dGFjaG1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc291cmNlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVkaWEgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5NZWRpYS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFN0ZXBJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYW4gQXR0YWNobWVudCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudH0gQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQXR0YWNobWVudC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYW4gQXR0YWNobWVudCBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEF0dGFjaG1lbnQudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc291cmNlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlLnZlcmlmeShtZXNzYWdlLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic291cmNlLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkYXRhXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmRhdGEpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImRhdGE6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5tZWRpYSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJtZWRpYVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWEudmVyaWZ5KG1lc3NhZ2UubWVkaWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lZGlhLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdFN0ZXBJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0U3RlcElkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnRlc3RTdGVwSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRlc3RTdGVwSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZVN0YXJ0ZWRJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdENhc2VTdGFydGVkSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhbiBBdHRhY2htZW50IG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5BdHRhY2htZW50XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudH0gQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEF0dGFjaG1lbnQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5BdHRhY2htZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5zb3VyY2UgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkF0dGFjaG1lbnQuc291cmNlOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNvdXJjZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS5mcm9tT2JqZWN0KG9iamVjdC5zb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuZGF0YSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhID0gU3RyaW5nKG9iamVjdC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5tZWRpYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5tZWRpYSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudC5tZWRpYTogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZWRpYSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLk1lZGlhLmZyb21PYmplY3Qob2JqZWN0Lm1lZGlhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRlc3RTdGVwSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFN0ZXBJZCA9IFN0cmluZyhvYmplY3QudGVzdFN0ZXBJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGVzdENhc2VTdGFydGVkSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdENhc2VTdGFydGVkSWQgPSBTdHJpbmcob2JqZWN0LnRlc3RDYXNlU3RhcnRlZElkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhbiBBdHRhY2htZW50IG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkF0dGFjaG1lbnR9IG1lc3NhZ2UgQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQXR0YWNobWVudC50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc291cmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kYXRhID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZWRpYSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdFN0ZXBJZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdENhc2VTdGFydGVkSWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNvdXJjZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc291cmNlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlLnRvT2JqZWN0KG1lc3NhZ2Uuc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkYXRhXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRhdGEgPSBtZXNzYWdlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm1lZGlhICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm1lZGlhXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1lZGlhID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuTWVkaWEudG9PYmplY3QobWVzc2FnZS5tZWRpYSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RTdGVwSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdFN0ZXBJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0U3RlcElkID0gbWVzc2FnZS50ZXN0U3RlcElkO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZVN0YXJ0ZWRJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0Q2FzZVN0YXJ0ZWRJZCA9IG1lc3NhZ2UudGVzdENhc2VTdGFydGVkSWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgQXR0YWNobWVudCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQXR0YWNobWVudFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBBdHRhY2htZW50LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQXR0YWNobWVudDtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlBpY2tsZSA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBQaWNrbGUuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJUGlja2xlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2lkXSBBIHVuaXF1ZSBpZCBmb3IgdGhlIHBpY2tsZS4gVGhpcyBpcyBhIFtTSEExXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TSEEtMSkgaGFzaFxuICAgICAgICAgICAgICAgICAqIGZyb20gdGhlIHNvdXJjZSBkYXRhIGFuZCB0aGUgYGxvY2F0aW9uc2Agb2YgdGhlIHBpY2tsZS5cbiAgICAgICAgICAgICAgICAgKiBUaGlzIElEIHdpbGwgY2hhbmdlIGlmIHNvdXJjZSB0aGUgZmlsZSBpcyBtb2RpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdXJpXSBQaWNrbGUgdXJpXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW25hbWVdIFBpY2tsZSBuYW1lXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2xhbmd1YWdlXSBQaWNrbGUgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuSVBpY2tsZVN0ZXA+fG51bGx9IFtzdGVwc10gUGlja2xlIHN0ZXBzXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLklQaWNrbGVUYWc+fG51bGx9IFt0YWdzXSBPbmUgb3IgbW9yZSB0YWdzLiBJZiB0aGlzIHBpY2tsZSBpcyBjb25zdHJ1Y3RlZCBmcm9tIGEgR2hlcmtpbiBkb2N1bWVudCxcbiAgICAgICAgICAgICAgICAgKiBJdCBpbmNsdWRlcyBpbmhlcml0ZWQgdGFncyBmcm9tIHRoZSBgRmVhdHVyZWAgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5LjxzdHJpbmc+fG51bGx9IFthc3ROb2RlSWRzXSBQb2ludHMgdG8gdGhlIEFTVCBub2RlIGxvY2F0aW9ucyBvZiB0aGUgcGlja2xlLiBUaGUgbGFzdCBvbmUgcmVwcmVzZW50cyB0aGUgdW5pcXVlXG4gICAgICAgICAgICAgICAgICogaWQgb2YgdGhlIHBpY2tsZS4gQSBwaWNrbGUgY29uc3RydWN0ZWQgZnJvbSBgRXhhbXBsZXNgIHdpbGwgaGF2ZSB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgKiBpZCBvcmlnaW5hdGluZyBmcm9tIHRoZSBgU2NlbmFyaW9gIEFTVCBub2RlLCBhbmQgdGhlIHNlY29uZCBmcm9tIHRoZSBgVGFibGVSb3dgIEFTVCBub2RlLlxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBQaWNrbGUuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBBIGBQaWNrbGVgIHJlcHJlc2VudHMgYSB0ZXN0IGNhc2UgQ3VjdW1iZXIgY2FuICpleGVjdXRlKi4gSXQgaXMgdHlwaWNhbGx5IGRlcml2ZWRcbiAgICAgICAgICAgICAgICAgKiBmcm9tIGFub3RoZXIgZm9ybWF0LCBzdWNoIGFzIFtHaGVya2luRG9jdW1lbnRdKCNpby5jdWN1bWJlci5tZXNzYWdlcy5HaGVya2luRG9jdW1lbnQpLlxuICAgICAgICAgICAgICAgICAqIEluIHRoZSBmdXR1cmUgYSBgUGlja2xlYCBtYXkgYmUgZGVyaXZlZCBmcm9tIG90aGVyIGZvcm1hdHMgc3VjaCBhcyBNYXJrZG93biBvclxuICAgICAgICAgICAgICAgICAqIEV4Y2VsIGZpbGVzLlxuICAgICAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICAgICAqIEJ5IG1ha2luZyBgUGlja2xlYCB0aGUgbWFpbiBkYXRhIHN0cnVjdHVyZSBDdWN1bWJlciB1c2VzIGZvciBleGVjdXRpb24sIHRoZVxuICAgICAgICAgICAgICAgICAqIGltcGxlbWVudGF0aW9uIG9mIEN1Y3VtYmVyIGl0c2VsZiBiZWNvbWVzIHNpbXBsZXIsIGFzIGl0IGRvZXNuJ3QgaGF2ZSB0byBkZWFsXG4gICAgICAgICAgICAgICAgICogd2l0aCB0aGUgY29tcGxleCBzdHJ1Y3R1cmUgb2YgYSBbR2hlcmtpbkRvY3VtZW50XSgjaW8uY3VjdW1iZXIubWVzc2FnZXMuR2hlcmtpbkRvY3VtZW50KS5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJUGlja2xlXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gUGlja2xlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3ROb2RlSWRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQSB1bmlxdWUgaWQgZm9yIHRoZSBwaWNrbGUuIFRoaXMgaXMgYSBbU0hBMV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU0hBLTEpIGhhc2hcbiAgICAgICAgICAgICAgICAgKiBmcm9tIHRoZSBzb3VyY2UgZGF0YSBhbmQgdGhlIGBsb2NhdGlvbnNgIG9mIHRoZSBwaWNrbGUuXG4gICAgICAgICAgICAgICAgICogVGhpcyBJRCB3aWxsIGNoYW5nZSBpZiBzb3VyY2UgdGhlIGZpbGUgaXMgbW9kaWZpZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBpZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGUucHJvdG90eXBlLmlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFBpY2tsZSB1cmkuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB1cmlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlLnByb3RvdHlwZS51cmkgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUGlja2xlIG5hbWUuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBuYW1lXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZS5wcm90b3R5cGUubmFtZSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQaWNrbGUgbGFuZ3VhZ2UuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBsYW5ndWFnZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGUucHJvdG90eXBlLmxhbmd1YWdlID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFBpY2tsZSBzdGVwcy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLklQaWNrbGVTdGVwPn0gc3RlcHNcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlLnByb3RvdHlwZS5zdGVwcyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBPbmUgb3IgbW9yZSB0YWdzLiBJZiB0aGlzIHBpY2tsZSBpcyBjb25zdHJ1Y3RlZCBmcm9tIGEgR2hlcmtpbiBkb2N1bWVudCxcbiAgICAgICAgICAgICAgICAgKiBJdCBpbmNsdWRlcyBpbmhlcml0ZWQgdGFncyBmcm9tIHRoZSBgRmVhdHVyZWAgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLklQaWNrbGVUYWc+fSB0YWdzXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZS5wcm90b3R5cGUudGFncyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQb2ludHMgdG8gdGhlIEFTVCBub2RlIGxvY2F0aW9ucyBvZiB0aGUgcGlja2xlLiBUaGUgbGFzdCBvbmUgcmVwcmVzZW50cyB0aGUgdW5pcXVlXG4gICAgICAgICAgICAgICAgICogaWQgb2YgdGhlIHBpY2tsZS4gQSBwaWNrbGUgY29uc3RydWN0ZWQgZnJvbSBgRXhhbXBsZXNgIHdpbGwgaGF2ZSB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgKiBpZCBvcmlnaW5hdGluZyBmcm9tIHRoZSBgU2NlbmFyaW9gIEFTVCBub2RlLCBhbmQgdGhlIHNlY29uZCBmcm9tIHRoZSBgVGFibGVSb3dgIEFTVCBub2RlLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5LjxzdHJpbmc+fSBhc3ROb2RlSWRzXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZS5wcm90b3R5cGUuYXN0Tm9kZUlkcyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFBpY2tsZSBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZX0gUGlja2xlIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGlja2xlKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgUGlja2xlIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklQaWNrbGV9IG1lc3NhZ2UgUGlja2xlIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGUuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnVyaSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ1cmlcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLnN0cmluZyhtZXNzYWdlLnVyaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxhbmd1YWdlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxhbmd1YWdlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5zdHJpbmcobWVzc2FnZS5sYW5ndWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBzICE9IG51bGwgJiYgbWVzc2FnZS5zdGVwcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uuc3RlcHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVN0ZXAuZW5jb2RlKG1lc3NhZ2Uuc3RlcHNbaV0sIHdyaXRlci51aW50MzIoLyogaWQgNSwgd2lyZVR5cGUgMiA9Ki80MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncyAhPSBudWxsICYmIG1lc3NhZ2UudGFncy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UudGFncy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlVGFnLmVuY29kZShtZXNzYWdlLnRhZ3NbaV0sIHdyaXRlci51aW50MzIoLyogaWQgNiwgd2lyZVR5cGUgMiA9Ki81MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXN0Tm9kZUlkcyAhPSBudWxsICYmIG1lc3NhZ2UuYXN0Tm9kZUlkcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuYXN0Tm9kZUlkcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDcsIHdpcmVUeXBlIDIgPSovNTgpLnN0cmluZyhtZXNzYWdlLmFzdE5vZGVJZHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgUGlja2xlIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklQaWNrbGV9IG1lc3NhZ2UgUGlja2xlIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGUuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBpY2tsZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZX0gUGlja2xlXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGUuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJpID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxhbmd1YWdlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2Uuc3RlcHMgJiYgbWVzc2FnZS5zdGVwcy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0ZXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwcy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2UudGFncyAmJiBtZXNzYWdlLnRhZ3MubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzLnB1c2goJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLmFzdE5vZGVJZHMgJiYgbWVzc2FnZS5hc3ROb2RlSWRzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXN0Tm9kZUlkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXN0Tm9kZUlkcy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBpY2tsZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGV9IFBpY2tsZVxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFBpY2tsZSBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmlkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJpZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnVyaSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ1cmlcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudXJpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ1cmk6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UubmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxhbmd1YWdlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxhbmd1YWdlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmxhbmd1YWdlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYW5ndWFnZTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInN0ZXBzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZS5zdGVwcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3RlcHM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uuc3RlcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlU3RlcC52ZXJpZnkobWVzc2FnZS5zdGVwc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdGVwcy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRhZ3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGFnc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UudGFncykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFnczogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS50YWdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZy52ZXJpZnkobWVzc2FnZS50YWdzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhZ3MuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hc3ROb2RlSWRzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFzdE5vZGVJZHNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLmFzdE5vZGVJZHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFzdE5vZGVJZHM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuYXN0Tm9kZUlkcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuYXN0Tm9kZUlkc1tpXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFzdE5vZGVJZHM6IHN0cmluZ1tdIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBQaWNrbGUgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZX0gUGlja2xlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSBTdHJpbmcob2JqZWN0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC51cmkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJpID0gU3RyaW5nKG9iamVjdC51cmkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lm5hbWUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IFN0cmluZyhvYmplY3QubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubGFuZ3VhZ2UgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGFuZ3VhZ2UgPSBTdHJpbmcob2JqZWN0Lmxhbmd1YWdlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5zdGVwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdC5zdGVwcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5zdGVwczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0ZXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5zdGVwcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnN0ZXBzW2ldICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLnN0ZXBzOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwc1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwLmZyb21PYmplY3Qob2JqZWN0LnN0ZXBzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QudGFncykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS50YWdzOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QudGFncy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRhZ3NbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUudGFnczogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFnc1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVUYWcuZnJvbU9iamVjdChvYmplY3QudGFnc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5hc3ROb2RlSWRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LmFzdE5vZGVJZHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuYXN0Tm9kZUlkczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFzdE5vZGVJZHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LmFzdE5vZGVJZHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hc3ROb2RlSWRzW2ldID0gU3RyaW5nKG9iamVjdC5hc3ROb2RlSWRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgUGlja2xlIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlfSBtZXNzYWdlIFBpY2tsZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hc3ROb2RlSWRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudXJpID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5uYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5sYW5ndWFnZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaWQgPSBtZXNzYWdlLmlkO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51cmkgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidXJpXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnVyaSA9IG1lc3NhZ2UudXJpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IG1lc3NhZ2UubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGFuZ3VhZ2UgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibGFuZ3VhZ2VcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubGFuZ3VhZ2UgPSBtZXNzYWdlLmxhbmd1YWdlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGVwcyAmJiBtZXNzYWdlLnN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2Uuc3RlcHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBzW2pdID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVN0ZXAudG9PYmplY3QobWVzc2FnZS5zdGVwc1tqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncyAmJiBtZXNzYWdlLnRhZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGFncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLnRhZ3MubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRhZ3Nbal0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlVGFnLnRvT2JqZWN0KG1lc3NhZ2UudGFnc1tqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXN0Tm9kZUlkcyAmJiBtZXNzYWdlLmFzdE5vZGVJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYXN0Tm9kZUlkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLmFzdE5vZGVJZHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFzdE5vZGVJZHNbal0gPSBtZXNzYWdlLmFzdE5vZGVJZHNbal07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBQaWNrbGUgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIFBpY2tsZS5QaWNrbGVUYWcgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBQaWNrbGVUYWcuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVcbiAgICAgICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJUGlja2xlVGFnXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtuYW1lXSBQaWNrbGVUYWcgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbYXN0Tm9kZUlkXSBQaWNrbGVUYWcgYXN0Tm9kZUlkXG4gICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFBpY2tsZVRhZy5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVxuICAgICAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIEEgdGFnXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElQaWNrbGVUYWdcbiAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLklQaWNrbGVUYWc9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFBpY2tsZVRhZyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFBpY2tsZVRhZyBuYW1lLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVUYWdcbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWcucHJvdG90eXBlLm5hbWUgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBQaWNrbGVUYWcgYXN0Tm9kZUlkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGFzdE5vZGVJZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZ1xuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhZy5wcm90b3R5cGUuYXN0Tm9kZUlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBQaWNrbGVUYWcgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlVGFnXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuSVBpY2tsZVRhZz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZ30gUGlja2xlVGFnIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWcuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGlja2xlVGFnKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgUGlja2xlVGFnIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVUYWcudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVUYWdcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5JUGlja2xlVGFnfSBtZXNzYWdlIFBpY2tsZVRhZyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhZy5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hc3ROb2RlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYXN0Tm9kZUlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2UuYXN0Tm9kZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQaWNrbGVUYWcgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZy52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZ1xuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLklQaWNrbGVUYWd9IG1lc3NhZ2UgUGlja2xlVGFnIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFnLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgUGlja2xlVGFnIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVUYWdcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVUYWd9IFBpY2tsZVRhZ1xuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhZy5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlVGFnKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFzdE5vZGVJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBpY2tsZVRhZyBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlVGFnXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlVGFnfSBQaWNrbGVUYWdcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWcuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgUGlja2xlVGFnIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVUYWdcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhZy52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFzdE5vZGVJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhc3ROb2RlSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmFzdE5vZGVJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFzdE5vZGVJZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFBpY2tsZVRhZyBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlVGFnXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZ30gUGlja2xlVGFnXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWcuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5uYW1lICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gU3RyaW5nKG9iamVjdC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuYXN0Tm9kZUlkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hc3ROb2RlSWQgPSBTdHJpbmcob2JqZWN0LmFzdE5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgUGlja2xlVGFnIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlVGFnXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlVGFnfSBtZXNzYWdlIFBpY2tsZVRhZ1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhZy50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5uYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYXN0Tm9kZUlkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IG1lc3NhZ2UubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFzdE5vZGVJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhc3ROb2RlSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFzdE5vZGVJZCA9IG1lc3NhZ2UuYXN0Tm9kZUlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBQaWNrbGVUYWcgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVRhZ1xuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFnLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGlja2xlVGFnO1xuICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICBQaWNrbGUuUGlja2xlU3RlcCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFBpY2tsZVN0ZXAuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVcbiAgICAgICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJUGlja2xlU3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdGV4dF0gUGlja2xlU3RlcCB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZVN0ZXBBcmd1bWVudHxudWxsfSBbYXJndW1lbnRdIFBpY2tsZVN0ZXAgYXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2lkXSBQaWNrbGVTdGVwIGlkXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz58bnVsbH0gW2FzdE5vZGVJZHNdIFBpY2tsZVN0ZXAgYXN0Tm9kZUlkc1xuICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBQaWNrbGVTdGVwLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlXG4gICAgICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgQW4gZXhlY3V0YWJsZSBzdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElQaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5JUGlja2xlU3RlcD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gUGlja2xlU3RlcChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzdE5vZGVJZHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUGlja2xlU3RlcCB0ZXh0LlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlU3RlcC5wcm90b3R5cGUudGV4dCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFBpY2tsZVN0ZXAgYXJndW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklQaWNrbGVTdGVwQXJndW1lbnR8bnVsbHx1bmRlZmluZWR9IGFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlU3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVN0ZXAucHJvdG90eXBlLmFyZ3VtZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUGlja2xlU3RlcCBpZC5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBpZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVTdGVwLnByb3RvdHlwZS5pZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFBpY2tsZVN0ZXAgYXN0Tm9kZUlkcy5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7QXJyYXkuPHN0cmluZz59IGFzdE5vZGVJZHNcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlU3RlcC5wcm90b3R5cGUuYXN0Tm9kZUlkcyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgUGlja2xlU3RlcCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuSVBpY2tsZVN0ZXA9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwfSBQaWNrbGVTdGVwIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVTdGVwLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBpY2tsZVN0ZXAocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQaWNrbGVTdGVwIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlU3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLklQaWNrbGVTdGVwfSBtZXNzYWdlIFBpY2tsZVN0ZXAgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVTdGVwLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXh0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRleHRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFyZ3VtZW50ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFyZ3VtZW50XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5lbmNvZGUobWVzc2FnZS5hcmd1bWVudCwgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hc3ROb2RlSWRzICE9IG51bGwgJiYgbWVzc2FnZS5hc3ROb2RlSWRzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuYXN0Tm9kZUlkcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5zdHJpbmcobWVzc2FnZS5hc3ROb2RlSWRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQaWNrbGVTdGVwIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlU3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLklQaWNrbGVTdGVwfSBtZXNzYWdlIFBpY2tsZVN0ZXAgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVTdGVwLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgUGlja2xlU3RlcCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlU3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVN0ZXB9IFBpY2tsZVN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVTdGVwLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFyZ3VtZW50ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLmFzdE5vZGVJZHMgJiYgbWVzc2FnZS5hc3ROb2RlSWRzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFzdE5vZGVJZHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hc3ROb2RlSWRzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBpY2tsZVN0ZXAgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwfSBQaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlU3RlcC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBQaWNrbGVTdGVwIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVTdGVwLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRleHQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGV4dFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudGV4dCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRleHQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXJndW1lbnQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYXJndW1lbnRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQudmVyaWZ5KG1lc3NhZ2UuYXJndW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJndW1lbnQuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5pZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImlkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFzdE5vZGVJZHMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYXN0Tm9kZUlkc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLmFzdE5vZGVJZHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhc3ROb2RlSWRzOiBhcnJheSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5hc3ROb2RlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuYXN0Tm9kZUlkc1tpXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhc3ROb2RlSWRzOiBzdHJpbmdbXSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBQaWNrbGVTdGVwIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVN0ZXB9IFBpY2tsZVN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVN0ZXAuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLlBpY2tsZVN0ZXApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRleHQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHQgPSBTdHJpbmcob2JqZWN0LnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5hcmd1bWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuYXJndW1lbnQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlU3RlcC5hcmd1bWVudDogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXJndW1lbnQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuZnJvbU9iamVjdChvYmplY3QuYXJndW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5pZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSBTdHJpbmcob2JqZWN0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuYXN0Tm9kZUlkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QuYXN0Tm9kZUlkcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlU3RlcC5hc3ROb2RlSWRzOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFzdE5vZGVJZHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5hc3ROb2RlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFzdE5vZGVJZHNbaV0gPSBTdHJpbmcob2JqZWN0LmFzdE5vZGVJZHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFBpY2tsZVN0ZXAgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGUuUGlja2xlU3RlcH0gbWVzc2FnZSBQaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlU3RlcC50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcnJheXMgfHwgb3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYXN0Tm9kZUlkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFyZ3VtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGV4dCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXh0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXh0ID0gbWVzc2FnZS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXJndW1lbnQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYXJndW1lbnRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFyZ3VtZW50ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LnRvT2JqZWN0KG1lc3NhZ2UuYXJndW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlkID0gbWVzc2FnZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFzdE5vZGVJZHMgJiYgbWVzc2FnZS5hc3ROb2RlSWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hc3ROb2RlSWRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLmFzdE5vZGVJZHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hc3ROb2RlSWRzW2pdID0gbWVzc2FnZS5hc3ROb2RlSWRzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBQaWNrbGVTdGVwIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZS5QaWNrbGVTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVTdGVwLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGlja2xlU3RlcDtcbiAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBpY2tsZTtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBQaWNrbGVTdGVwQXJndW1lbnQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJUGlja2xlU3RlcEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuSVBpY2tsZURvY1N0cmluZ3xudWxsfSBbZG9jU3RyaW5nXSBQaWNrbGVTdGVwQXJndW1lbnQgZG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuSVBpY2tsZVRhYmxlfG51bGx9IFtkYXRhVGFibGVdIFBpY2tsZVN0ZXBBcmd1bWVudCBkYXRhVGFibGVcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgUGlja2xlU3RlcEFyZ3VtZW50LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgQSB3cmFwcGVyIGZvciBlaXRoZXIgYSBkb2Mgc3RyaW5nIG9yIGEgdGFibGUuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZVN0ZXBBcmd1bWVudD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFBpY2tsZVN0ZXBBcmd1bWVudChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUGlja2xlU3RlcEFyZ3VtZW50IGRvY1N0cmluZy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuSVBpY2tsZURvY1N0cmluZ3xudWxsfHVuZGVmaW5lZH0gZG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZVN0ZXBBcmd1bWVudC5wcm90b3R5cGUuZG9jU3RyaW5nID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFBpY2tsZVN0ZXBBcmd1bWVudCBkYXRhVGFibGUuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LklQaWNrbGVUYWJsZXxudWxsfHVuZGVmaW5lZH0gZGF0YVRhYmxlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZVN0ZXBBcmd1bWVudC5wcm90b3R5cGUuZGF0YVRhYmxlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIE9uZU9mIGZpZWxkIG5hbWVzIGJvdW5kIHRvIHZpcnR1YWwgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgICAgICAgICAgICAgIHZhciAkb25lT2ZGaWVsZHM7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQaWNrbGVTdGVwQXJndW1lbnQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtcImRvY1N0cmluZ1wifFwiZGF0YVRhYmxlXCJ8dW5kZWZpbmVkfSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaWNrbGVTdGVwQXJndW1lbnQucHJvdG90eXBlLCBcIm1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICR1dGlsLm9uZU9mR2V0dGVyKCRvbmVPZkZpZWxkcyA9IFtcImRvY1N0cmluZ1wiLCBcImRhdGFUYWJsZVwiXSksXG4gICAgICAgICAgICAgICAgICAgIHNldDogJHV0aWwub25lT2ZTZXR0ZXIoJG9uZU9mRmllbGRzKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBQaWNrbGVTdGVwQXJndW1lbnQgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZVN0ZXBBcmd1bWVudD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnR9IFBpY2tsZVN0ZXBBcmd1bWVudCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZVN0ZXBBcmd1bWVudC5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBpY2tsZVN0ZXBBcmd1bWVudChwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFBpY2tsZVN0ZXBBcmd1bWVudCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlU3RlcEFyZ3VtZW50fSBtZXNzYWdlIFBpY2tsZVN0ZXBBcmd1bWVudCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlU3RlcEFyZ3VtZW50LmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kb2NTdHJpbmcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZG9jU3RyaW5nXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZURvY1N0cmluZy5lbmNvZGUobWVzc2FnZS5kb2NTdHJpbmcsIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YVRhYmxlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRhdGFUYWJsZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5lbmNvZGUobWVzc2FnZS5kYXRhVGFibGUsIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFBpY2tsZVN0ZXBBcmd1bWVudCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlU3RlcEFyZ3VtZW50fSBtZXNzYWdlIFBpY2tsZVN0ZXBBcmd1bWVudCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlU3RlcEFyZ3VtZW50LmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBQaWNrbGVTdGVwQXJndW1lbnQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnR9IFBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlU3RlcEFyZ3VtZW50LmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudCgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kb2NTdHJpbmcgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhVGFibGUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgUGlja2xlU3RlcEFyZ3VtZW50IG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudH0gUGlja2xlU3RlcEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVTdGVwQXJndW1lbnQuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgUGlja2xlU3RlcEFyZ3VtZW50IG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVTdGVwQXJndW1lbnQudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZG9jU3RyaW5nICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRvY1N0cmluZ1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nLnZlcmlmeShtZXNzYWdlLmRvY1N0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJkb2NTdHJpbmcuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kYXRhVGFibGUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGF0YVRhYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXNzYWdlID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2U6IG11bHRpcGxlIHZhbHVlc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tZXNzYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUudmVyaWZ5KG1lc3NhZ2UuZGF0YVRhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImRhdGFUYWJsZS5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgUGlja2xlU3RlcEFyZ3VtZW50IG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnR9IFBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZVN0ZXBBcmd1bWVudC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmRvY1N0cmluZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5kb2NTdHJpbmcgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5kb2NTdHJpbmc6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZG9jU3RyaW5nID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZURvY1N0cmluZy5mcm9tT2JqZWN0KG9iamVjdC5kb2NTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuZGF0YVRhYmxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmRhdGFUYWJsZSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LmRhdGFUYWJsZTogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhVGFibGUgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuZnJvbU9iamVjdChvYmplY3QuZGF0YVRhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgUGlja2xlU3RlcEFyZ3VtZW50IG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50fSBtZXNzYWdlIFBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlU3RlcEFyZ3VtZW50LnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZG9jU3RyaW5nICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImRvY1N0cmluZ1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRvY1N0cmluZyA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmcudG9PYmplY3QobWVzc2FnZS5kb2NTdHJpbmcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJkb2NTdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kYXRhVGFibGUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZGF0YVRhYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZGF0YVRhYmxlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLnRvT2JqZWN0KG1lc3NhZ2UuZGF0YVRhYmxlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uZW9mcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubWVzc2FnZSA9IFwiZGF0YVRhYmxlXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBQaWNrbGVTdGVwQXJndW1lbnQgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVTdGVwQXJndW1lbnQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIFBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmcgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBQaWNrbGVEb2NTdHJpbmcuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJUGlja2xlRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtjb250ZW50VHlwZV0gUGlja2xlRG9jU3RyaW5nIGNvbnRlbnRUeXBlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtjb250ZW50XSBQaWNrbGVEb2NTdHJpbmcgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBQaWNrbGVEb2NTdHJpbmcuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgUGlja2xlRG9jU3RyaW5nLlxuICAgICAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJUGlja2xlRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5JUGlja2xlRG9jU3RyaW5nPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBQaWNrbGVEb2NTdHJpbmcocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBQaWNrbGVEb2NTdHJpbmcgY29udGVudFR5cGUuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gY29udGVudFR5cGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVEb2NTdHJpbmcucHJvdG90eXBlLmNvbnRlbnRUeXBlID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUGlja2xlRG9jU3RyaW5nIGNvbnRlbnQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZURvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZURvY1N0cmluZy5wcm90b3R5cGUuY29udGVudCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgUGlja2xlRG9jU3RyaW5nIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZURvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LklQaWNrbGVEb2NTdHJpbmc9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmd9IFBpY2tsZURvY1N0cmluZyBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlRG9jU3RyaW5nLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBpY2tsZURvY1N0cmluZyhwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFBpY2tsZURvY1N0cmluZyBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuSVBpY2tsZURvY1N0cmluZ30gbWVzc2FnZSBQaWNrbGVEb2NTdHJpbmcgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVEb2NTdHJpbmcuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnRUeXBlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbnRlbnRUeXBlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UuY29udGVudFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb250ZW50XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgUGlja2xlRG9jU3RyaW5nIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmcudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5JUGlja2xlRG9jU3RyaW5nfSBtZXNzYWdlIFBpY2tsZURvY1N0cmluZyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZURvY1N0cmluZy5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBpY2tsZURvY1N0cmluZyBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nfSBQaWNrbGVEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVEb2NTdHJpbmcuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZURvY1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnRUeXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBpY2tsZURvY1N0cmluZyBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nfSBQaWNrbGVEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVEb2NTdHJpbmcuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgUGlja2xlRG9jU3RyaW5nIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZURvY1N0cmluZy52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50VHlwZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb250ZW50VHlwZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuY29udGVudFR5cGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250ZW50VHlwZTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNvbnRlbnRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmNvbnRlbnQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250ZW50OiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgUGlja2xlRG9jU3RyaW5nIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nfSBQaWNrbGVEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZURvY1N0cmluZy5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlRG9jU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmNvbnRlbnRUeXBlICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb250ZW50VHlwZSA9IFN0cmluZyhvYmplY3QuY29udGVudFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jb250ZW50ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb250ZW50ID0gU3RyaW5nKG9iamVjdC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBQaWNrbGVEb2NTdHJpbmcgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVEb2NTdHJpbmd9IG1lc3NhZ2UgUGlja2xlRG9jU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlRG9jU3RyaW5nLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbnRlbnRUeXBlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50VHlwZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb250ZW50VHlwZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29udGVudFR5cGUgPSBtZXNzYWdlLmNvbnRlbnRUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb250ZW50XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb250ZW50ID0gbWVzc2FnZS5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBQaWNrbGVEb2NTdHJpbmcgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZURvY1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlRG9jU3RyaW5nLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGlja2xlRG9jU3RyaW5nO1xuICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICBQaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBQaWNrbGVUYWJsZS5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElQaWNrbGVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuSVBpY2tsZVRhYmxlUm93PnxudWxsfSBbcm93c10gUGlja2xlVGFibGUgcm93c1xuICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBQaWNrbGVUYWJsZS5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBQaWNrbGVUYWJsZS5cbiAgICAgICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVBpY2tsZVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5JUGlja2xlVGFibGU9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFBpY2tsZVRhYmxlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm93cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBQaWNrbGVUYWJsZSByb3dzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLklQaWNrbGVUYWJsZVJvdz59IHJvd3NcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlLnByb3RvdHlwZS5yb3dzID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBQaWNrbGVUYWJsZSBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LklQaWNrbGVUYWJsZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlfSBQaWNrbGVUYWJsZSBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGlja2xlVGFibGUocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQaWNrbGVUYWJsZSBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LklQaWNrbGVUYWJsZX0gbWVzc2FnZSBQaWNrbGVUYWJsZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5yb3dzICE9IG51bGwgJiYgbWVzc2FnZS5yb3dzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uucm93cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LmVuY29kZShtZXNzYWdlLnJvd3NbaV0sIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQaWNrbGVUYWJsZSBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LklQaWNrbGVUYWJsZX0gbWVzc2FnZSBQaWNrbGVUYWJsZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgUGlja2xlVGFibGUgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGV9IFBpY2tsZVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGUuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2Uucm93cyAmJiBtZXNzYWdlLnJvd3MubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm93cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvd3MucHVzaCgkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBQaWNrbGVUYWJsZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZX0gUGlja2xlVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWJsZS5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBQaWNrbGVUYWJsZSBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnJvd3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicm93c1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnJvd3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJyb3dzOiBhcnJheSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5yb3dzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy52ZXJpZnkobWVzc2FnZS5yb3dzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicm93cy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgUGlja2xlVGFibGUgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlfSBQaWNrbGVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Qucm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3Qucm93cykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUucm93czogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb3dzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3Qucm93cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5yb3dzW2ldICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5yb3dzOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm93c1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5mcm9tT2JqZWN0KG9iamVjdC5yb3dzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgUGlja2xlVGFibGUgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlfSBtZXNzYWdlIFBpY2tsZVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGUudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnJvd3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnJvd3MgJiYgbWVzc2FnZS5yb3dzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5yb3dzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLnJvd3MubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5yb3dzW2pdID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LnRvT2JqZWN0KG1lc3NhZ2Uucm93c1tqXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFBpY2tsZVRhYmxlIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93ID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBQaWNrbGVUYWJsZVJvdy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuSVBpY2tsZVRhYmxlQ2VsbD58bnVsbH0gW2NlbGxzXSBQaWNrbGVUYWJsZVJvdyBjZWxsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBQaWNrbGVUYWJsZVJvdy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFBpY2tsZVRhYmxlUm93LlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLklQaWNrbGVUYWJsZVJvdz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBQaWNrbGVUYWJsZVJvdyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jZWxscyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogUGlja2xlVGFibGVSb3cgY2VsbHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LklQaWNrbGVUYWJsZUNlbGw+fSBjZWxsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlUm93LnByb3RvdHlwZS5jZWxscyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBQaWNrbGVUYWJsZVJvdyBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5JUGlja2xlVGFibGVSb3c9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3d9IFBpY2tsZVRhYmxlUm93IGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlUm93LmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQaWNrbGVUYWJsZVJvdyhwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFBpY2tsZVRhYmxlUm93IG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLklQaWNrbGVUYWJsZVJvd30gbWVzc2FnZSBQaWNrbGVUYWJsZVJvdyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWJsZVJvdy5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY2VsbHMgIT0gbnVsbCAmJiBtZXNzYWdlLmNlbGxzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLmNlbGxzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LlBpY2tsZVRhYmxlQ2VsbC5lbmNvZGUobWVzc2FnZS5jZWxsc1tpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQaWNrbGVUYWJsZVJvdyBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5JUGlja2xlVGFibGVSb3d9IG1lc3NhZ2UgUGlja2xlVGFibGVSb3cgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGVSb3cuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgUGlja2xlVGFibGVSb3cgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3d9IFBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlUm93LmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2UuY2VsbHMgJiYgbWVzc2FnZS5jZWxscy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2VsbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2VsbHMucHVzaCgkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuUGlja2xlVGFibGVDZWxsLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBpY2tsZVRhYmxlUm93IG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3d9IFBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlUm93LmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFBpY2tsZVRhYmxlUm93IG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlUm93LnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNlbGxzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNlbGxzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLmNlbGxzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNlbGxzOiBhcnJheSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuY2VsbHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5QaWNrbGVUYWJsZUNlbGwudmVyaWZ5KG1lc3NhZ2UuY2VsbHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNlbGxzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBQaWNrbGVUYWJsZVJvdyBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvd30gUGlja2xlVGFibGVSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGVSb3cuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmNlbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QuY2VsbHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5jZWxsczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2VsbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QuY2VsbHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmNlbGxzW2ldICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuY2VsbHM6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2VsbHNbaV0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuUGlja2xlVGFibGVDZWxsLmZyb21PYmplY3Qob2JqZWN0LmNlbGxzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgUGlja2xlVGFibGVSb3cgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvd30gbWVzc2FnZSBQaWNrbGVUYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWJsZVJvdy50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jZWxscyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNlbGxzICYmIG1lc3NhZ2UuY2VsbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jZWxscyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2UuY2VsbHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2VsbHNbal0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuUGlja2xlVGFibGVDZWxsLnRvT2JqZWN0KG1lc3NhZ2UuY2VsbHNbal0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFBpY2tsZVRhYmxlUm93IHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGVSb3cucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlUm93LlBpY2tsZVRhYmxlQ2VsbCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBQaWNrbGVUYWJsZUNlbGwuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVBpY2tsZVRhYmxlQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFt2YWx1ZV0gUGlja2xlVGFibGVDZWxsIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFBpY2tsZVRhYmxlQ2VsbC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgUGlja2xlVGFibGVDZWxsLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElQaWNrbGVUYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5JUGlja2xlVGFibGVDZWxsPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gUGlja2xlVGFibGVDZWxsKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBQaWNrbGVUYWJsZUNlbGwgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuUGlja2xlVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGVDZWxsLnByb3RvdHlwZS52YWx1ZSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFBpY2tsZVRhYmxlQ2VsbCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuUGlja2xlVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LklQaWNrbGVUYWJsZUNlbGw9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LlBpY2tsZVRhYmxlQ2VsbH0gUGlja2xlVGFibGVDZWxsIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGVDZWxsLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGlja2xlVGFibGVDZWxsKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgUGlja2xlVGFibGVDZWxsIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5QaWNrbGVUYWJsZUNlbGwudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuUGlja2xlVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LklQaWNrbGVUYWJsZUNlbGx9IG1lc3NhZ2UgUGlja2xlVGFibGVDZWxsIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWJsZUNlbGwuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQaWNrbGVUYWJsZUNlbGwgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LlBpY2tsZVRhYmxlQ2VsbC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5QaWNrbGVUYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuSVBpY2tsZVRhYmxlQ2VsbH0gbWVzc2FnZSBQaWNrbGVUYWJsZUNlbGwgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBpY2tsZVRhYmxlQ2VsbC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgUGlja2xlVGFibGVDZWxsIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuUGlja2xlVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5QaWNrbGVUYWJsZUNlbGx9IFBpY2tsZVRhYmxlQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGVDZWxsLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5QaWNrbGVUYWJsZUNlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBpY2tsZVRhYmxlQ2VsbCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LlBpY2tsZVRhYmxlQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LlBpY2tsZVRhYmxlQ2VsbH0gUGlja2xlVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWJsZUNlbGwuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgUGlja2xlVGFibGVDZWxsIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuUGlja2xlVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGVDZWxsLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ2YWx1ZTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgUGlja2xlVGFibGVDZWxsIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuUGlja2xlVGFibGUuUGlja2xlVGFibGVSb3cuUGlja2xlVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LlBpY2tsZVRhYmxlQ2VsbH0gUGlja2xlVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGVDZWxsLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LlBpY2tsZVRhYmxlQ2VsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5QaWNrbGVUYWJsZUNlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC52YWx1ZSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IFN0cmluZyhvYmplY3QudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgUGlja2xlVGFibGVDZWxsIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LlBpY2tsZVRhYmxlLlBpY2tsZVRhYmxlUm93LlBpY2tsZVRhYmxlQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5QaWNrbGVUYWJsZUNlbGx9IG1lc3NhZ2UgUGlja2xlVGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaWNrbGVUYWJsZUNlbGwudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZhbHVlID0gbWVzc2FnZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBQaWNrbGVUYWJsZUNlbGwgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5QaWNrbGVUYWJsZS5QaWNrbGVUYWJsZVJvdy5QaWNrbGVUYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2xlVGFibGVDZWxsLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGlja2xlVGFibGVDZWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBpY2tsZVRhYmxlUm93O1xuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQaWNrbGVUYWJsZTtcbiAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBpY2tsZVN0ZXBBcmd1bWVudDtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlRlc3RDYXNlID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFRlc3RDYXNlLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2lkXSBUZXN0Q2FzZSBpZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtwaWNrbGVJZF0gVGVzdENhc2UgcGlja2xlSWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5JVGVzdFN0ZXA+fG51bGx9IFt0ZXN0U3RlcHNdIFRlc3RDYXNlIHRlc3RTdGVwc1xuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBUZXN0Q2FzZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBUZXN0Q2FzZS5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFRlc3RDYXNlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXN0U3RlcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUZXN0Q2FzZSBpZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGlkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2UucHJvdG90eXBlLmlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RDYXNlIHBpY2tsZUlkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gcGlja2xlSWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZS5wcm90b3R5cGUucGlja2xlSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGVzdENhc2UgdGVzdFN0ZXBzLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5JVGVzdFN0ZXA+fSB0ZXN0U3RlcHNcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZS5wcm90b3R5cGUudGVzdFN0ZXBzID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgVGVzdENhc2UgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2U9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2V9IFRlc3RDYXNlIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2UuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXN0Q2FzZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRlc3RDYXNlIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2V9IG1lc3NhZ2UgVGVzdENhc2UgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGVJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2UucGlja2xlSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0U3RlcHMgIT0gbnVsbCAmJiBtZXNzYWdlLnRlc3RTdGVwcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UudGVzdFN0ZXBzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwLmVuY29kZShtZXNzYWdlLnRlc3RTdGVwc1tpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgVGVzdENhc2UgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZX0gbWVzc2FnZSBUZXN0Q2FzZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2UuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFRlc3RDYXNlIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZX0gVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS50ZXN0U3RlcHMgJiYgbWVzc2FnZS50ZXN0U3RlcHMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0U3RlcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RTdGVwcy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0Q2FzZSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlfSBUZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2UuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgVGVzdENhc2UgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2UudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuaWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImlkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGlja2xlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicGlja2xlSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UucGlja2xlSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInBpY2tsZUlkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdFN0ZXBzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RTdGVwc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UudGVzdFN0ZXBzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXN0U3RlcHM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UudGVzdFN0ZXBzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXAudmVyaWZ5KG1lc3NhZ2UudGVzdFN0ZXBzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRlc3RTdGVwcy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgVGVzdENhc2UgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2V9IFRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2UuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSBTdHJpbmcob2JqZWN0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5waWNrbGVJZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5waWNrbGVJZCA9IFN0cmluZyhvYmplY3QucGlja2xlSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRlc3RTdGVwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdC50ZXN0U3RlcHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS50ZXN0U3RlcHM6IGFycmF5IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0U3RlcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LnRlc3RTdGVwcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRlc3RTdGVwc1tpXSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLnRlc3RTdGVwczogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFN0ZXBzW2ldID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXAuZnJvbU9iamVjdChvYmplY3QudGVzdFN0ZXBzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgVGVzdENhc2UgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlfSBtZXNzYWdlIFRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZS50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFycmF5cyB8fCBvcHRpb25zLmRlZmF1bHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RTdGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5waWNrbGVJZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaWQgPSBtZXNzYWdlLmlkO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGVJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5waWNrbGVJZCA9IG1lc3NhZ2UucGlja2xlSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RTdGVwcyAmJiBtZXNzYWdlLnRlc3RTdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0U3RlcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS50ZXN0U3RlcHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RTdGVwc1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwLnRvT2JqZWN0KG1lc3NhZ2UudGVzdFN0ZXBzW2pdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFRlc3RDYXNlIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgVGVzdENhc2UuVGVzdFN0ZXAgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBUZXN0U3RlcC5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtpZF0gVGVzdFN0ZXAgaWRcbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW3BpY2tsZVN0ZXBJZF0gVGVzdFN0ZXAgcGlja2xlU3RlcElkXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz58bnVsbH0gW3N0ZXBEZWZpbml0aW9uSWRzXSBUZXN0U3RlcCBzdGVwRGVmaW5pdGlvbklkc1xuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcE1hdGNoQXJndW1lbnQ+fG51bGx9IFtzdGVwTWF0Y2hBcmd1bWVudHNdIFRlc3RTdGVwIHN0ZXBNYXRjaEFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbaG9va0lkXSBUZXN0U3RlcCBob29rSWRcbiAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgVGVzdFN0ZXAuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBUZXN0U3RlcC5cbiAgICAgICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLklUZXN0U3RlcD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gVGVzdFN0ZXAocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwRGVmaW5pdGlvbklkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwTWF0Y2hBcmd1bWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGVzdFN0ZXAgaWQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gaWRcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgVGVzdFN0ZXAucHJvdG90eXBlLmlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGVzdFN0ZXAgcGlja2xlU3RlcElkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHBpY2tsZVN0ZXBJZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBUZXN0U3RlcC5wcm90b3R5cGUucGlja2xlU3RlcElkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGVzdFN0ZXAgc3RlcERlZmluaXRpb25JZHMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5LjxzdHJpbmc+fSBzdGVwRGVmaW5pdGlvbklkc1xuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBUZXN0U3RlcC5wcm90b3R5cGUuc3RlcERlZmluaXRpb25JZHMgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBUZXN0U3RlcCBzdGVwTWF0Y2hBcmd1bWVudHMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcE1hdGNoQXJndW1lbnQ+fSBzdGVwTWF0Y2hBcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgVGVzdFN0ZXAucHJvdG90eXBlLnN0ZXBNYXRjaEFyZ3VtZW50cyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRlc3RTdGVwIGhvb2tJZC5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBob29rSWRcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgVGVzdFN0ZXAucHJvdG90eXBlLmhvb2tJZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgVGVzdFN0ZXAgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuSVRlc3RTdGVwPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5UZXN0U3RlcH0gVGVzdFN0ZXAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFRlc3RTdGVwLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRlc3RTdGVwKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgVGVzdFN0ZXAgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXAudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5JVGVzdFN0ZXB9IG1lc3NhZ2UgVGVzdFN0ZXAgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBUZXN0U3RlcC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGVTdGVwSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicGlja2xlU3RlcElkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2UucGlja2xlU3RlcElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWRzICE9IG51bGwgJiYgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbklkcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDMsIHdpcmVUeXBlIDIgPSovMjYpLnN0cmluZyhtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBNYXRjaEFyZ3VtZW50cyAhPSBudWxsICYmIG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5lbmNvZGUobWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHNbaV0sIHdyaXRlci51aW50MzIoLyogaWQgNCwgd2lyZVR5cGUgMiA9Ki8zNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhvb2tJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJob29rSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA1LCB3aXJlVHlwZSAyID0qLzQyKS5zdHJpbmcobWVzc2FnZS5ob29rSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRlc3RTdGVwIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuSVRlc3RTdGVwfSBtZXNzYWdlIFRlc3RTdGVwIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgVGVzdFN0ZXAuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0U3RlcCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXB9IFRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgVGVzdFN0ZXAuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBpY2tsZVN0ZXBJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWRzICYmIG1lc3NhZ2Uuc3RlcERlZmluaXRpb25JZHMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcERlZmluaXRpb25JZHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbklkcy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMgJiYgbWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzLnB1c2goJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ob29rSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0U3RlcCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXB9IFRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgVGVzdFN0ZXAuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgVGVzdFN0ZXAgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFRlc3RTdGVwLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5pZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImlkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZVN0ZXBJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVTdGVwSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnBpY2tsZVN0ZXBJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInBpY2tsZVN0ZXBJZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGVwRGVmaW5pdGlvbklkcyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdGVwRGVmaW5pdGlvbklkc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWRzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3RlcERlZmluaXRpb25JZHM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2Uuc3RlcERlZmluaXRpb25JZHNbaV0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3RlcERlZmluaXRpb25JZHM6IHN0cmluZ1tdIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic3RlcE1hdGNoQXJndW1lbnRzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3RlcE1hdGNoQXJndW1lbnRzOiBhcnJheSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQudmVyaWZ5KG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3RlcE1hdGNoQXJndW1lbnRzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaG9va0lkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImhvb2tJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuaG9va0lkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaG9va0lkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgVGVzdFN0ZXAgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5UZXN0U3RlcH0gVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFRlc3RTdGVwLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5UZXN0U3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5pZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSBTdHJpbmcob2JqZWN0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QucGlja2xlU3RlcElkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5waWNrbGVTdGVwSWQgPSBTdHJpbmcob2JqZWN0LnBpY2tsZVN0ZXBJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnN0ZXBEZWZpbml0aW9uSWRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdC5zdGVwRGVmaW5pdGlvbklkcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5UZXN0U3RlcC5zdGVwRGVmaW5pdGlvbklkczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbklkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LnN0ZXBEZWZpbml0aW9uSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWRzW2ldID0gU3RyaW5nKG9iamVjdC5zdGVwRGVmaW5pdGlvbklkc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnN0ZXBNYXRjaEFyZ3VtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3Quc3RlcE1hdGNoQXJndW1lbnRzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwLnN0ZXBNYXRjaEFyZ3VtZW50czogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5zdGVwTWF0Y2hBcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Quc3RlcE1hdGNoQXJndW1lbnRzW2ldICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwLnN0ZXBNYXRjaEFyZ3VtZW50czogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0ZXBNYXRjaEFyZ3VtZW50c1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50LmZyb21PYmplY3Qob2JqZWN0LnN0ZXBNYXRjaEFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5ob29rSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhvb2tJZCA9IFN0cmluZyhvYmplY3QuaG9va0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBUZXN0U3RlcCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2UuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlLlRlc3RTdGVwfSBtZXNzYWdlIFRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgVGVzdFN0ZXAudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc3RlcERlZmluaXRpb25JZHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc3RlcE1hdGNoQXJndW1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBpY2tsZVN0ZXBJZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lmhvb2tJZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaWQgPSBtZXNzYWdlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGlja2xlU3RlcElkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZVN0ZXBJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGlja2xlU3RlcElkID0gbWVzc2FnZS5waWNrbGVTdGVwSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGVwRGVmaW5pdGlvbklkcyAmJiBtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwRGVmaW5pdGlvbklkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbklkcy5sZW5ndGg7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBEZWZpbml0aW9uSWRzW2pdID0gbWVzc2FnZS5zdGVwRGVmaW5pdGlvbklkc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBNYXRjaEFyZ3VtZW50cyAmJiBtZXNzYWdlLnN0ZXBNYXRjaEFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc3RlcE1hdGNoQXJndW1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLnN0ZXBNYXRjaEFyZ3VtZW50cy5sZW5ndGg7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBNYXRjaEFyZ3VtZW50c1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50LnRvT2JqZWN0KG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzW2pdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhvb2tJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJob29rSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lmhvb2tJZCA9IG1lc3NhZ2UuaG9va0lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBUZXN0U3RlcCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZS5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgVGVzdFN0ZXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBUZXN0U3RlcDtcbiAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRlc3RDYXNlO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuUGlja2xlQWNjZXB0ZWQgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgUGlja2xlQWNjZXB0ZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJUGlja2xlQWNjZXB0ZWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbcGlja2xlSWRdIFBpY2tsZUFjY2VwdGVkIHBpY2tsZUlkXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFBpY2tsZUFjY2VwdGVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFBpY2tsZUFjY2VwdGVkLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElQaWNrbGVBY2NlcHRlZFxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZUFjY2VwdGVkPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gUGlja2xlQWNjZXB0ZWQocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFBpY2tsZUFjY2VwdGVkIHBpY2tsZUlkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gcGlja2xlSWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlQWNjZXB0ZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVBY2NlcHRlZC5wcm90b3R5cGUucGlja2xlSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBQaWNrbGVBY2NlcHRlZCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklQaWNrbGVBY2NlcHRlZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZH0gUGlja2xlQWNjZXB0ZWQgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVBY2NlcHRlZC5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBpY2tsZUFjY2VwdGVkKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgUGlja2xlQWNjZXB0ZWQgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlQWNjZXB0ZWQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklQaWNrbGVBY2NlcHRlZH0gbWVzc2FnZSBQaWNrbGVBY2NlcHRlZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlQWNjZXB0ZWQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZUlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZUlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS5waWNrbGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQaWNrbGVBY2NlcHRlZCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZUFjY2VwdGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZUFjY2VwdGVkfSBtZXNzYWdlIFBpY2tsZUFjY2VwdGVkIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVBY2NlcHRlZC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgUGlja2xlQWNjZXB0ZWQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZUFjY2VwdGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZUFjY2VwdGVkfSBQaWNrbGVBY2NlcHRlZFxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlQWNjZXB0ZWQuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlQWNjZXB0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBpY2tsZUFjY2VwdGVkIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlQWNjZXB0ZWR9IFBpY2tsZUFjY2VwdGVkXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVBY2NlcHRlZC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBQaWNrbGVBY2NlcHRlZCBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlQWNjZXB0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVBY2NlcHRlZC52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGVJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5waWNrbGVJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGlja2xlSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFBpY2tsZUFjY2VwdGVkIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZUFjY2VwdGVkfSBQaWNrbGVBY2NlcHRlZFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZUFjY2VwdGVkLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlQWNjZXB0ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVBY2NlcHRlZCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnBpY2tsZUlkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBpY2tsZUlkID0gU3RyaW5nKG9iamVjdC5waWNrbGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBQaWNrbGVBY2NlcHRlZCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZUFjY2VwdGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlQWNjZXB0ZWR9IG1lc3NhZ2UgUGlja2xlQWNjZXB0ZWRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZUFjY2VwdGVkLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGlja2xlSWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGVJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5waWNrbGVJZCA9IG1lc3NhZ2UucGlja2xlSWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgUGlja2xlQWNjZXB0ZWQgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZUFjY2VwdGVkXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZUFjY2VwdGVkLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUGlja2xlQWNjZXB0ZWQ7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5QaWNrbGVSZWplY3RlZCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBQaWNrbGVSZWplY3RlZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElQaWNrbGVSZWplY3RlZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtwaWNrbGVJZF0gUGlja2xlUmVqZWN0ZWQgcGlja2xlSWRcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgUGlja2xlUmVqZWN0ZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgUGlja2xlUmVqZWN0ZWQuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVBpY2tsZVJlamVjdGVkXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlUmVqZWN0ZWQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBQaWNrbGVSZWplY3RlZChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUGlja2xlUmVqZWN0ZWQgcGlja2xlSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBwaWNrbGVJZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVSZWplY3RlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZVJlamVjdGVkLnByb3RvdHlwZS5waWNrbGVJZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFBpY2tsZVJlamVjdGVkIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVJlamVjdGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZVJlamVjdGVkPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVJlamVjdGVkfSBQaWNrbGVSZWplY3RlZCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZVJlamVjdGVkLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGlja2xlUmVqZWN0ZWQocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQaWNrbGVSZWplY3RlZCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVSZWplY3RlZC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVJlamVjdGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZVJlamVjdGVkfSBtZXNzYWdlIFBpY2tsZVJlamVjdGVkIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVSZWplY3RlZC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGlja2xlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicGlja2xlSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLnN0cmluZyhtZXNzYWdlLnBpY2tsZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFBpY2tsZVJlamVjdGVkIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVJlamVjdGVkLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlUmVqZWN0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlUmVqZWN0ZWR9IG1lc3NhZ2UgUGlja2xlUmVqZWN0ZWQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZVJlamVjdGVkLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBQaWNrbGVSZWplY3RlZCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlUmVqZWN0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlUmVqZWN0ZWR9IFBpY2tsZVJlamVjdGVkXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQaWNrbGVSZWplY3RlZC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVSZWplY3RlZCgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5waWNrbGVJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgUGlja2xlUmVqZWN0ZWQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVJlamVjdGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVSZWplY3RlZH0gUGlja2xlUmVqZWN0ZWRcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZVJlamVjdGVkLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFBpY2tsZVJlamVjdGVkIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVSZWplY3RlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBpY2tsZVJlamVjdGVkLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZUlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZUlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnBpY2tsZUlkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJwaWNrbGVJZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgUGlja2xlUmVqZWN0ZWQgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVJlamVjdGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlUmVqZWN0ZWR9IFBpY2tsZVJlamVjdGVkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlUmVqZWN0ZWQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVSZWplY3RlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVJlamVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QucGlja2xlSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlSWQgPSBTdHJpbmcob2JqZWN0LnBpY2tsZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFBpY2tsZVJlamVjdGVkIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlUmVqZWN0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVSZWplY3RlZH0gbWVzc2FnZSBQaWNrbGVSZWplY3RlZFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlUmVqZWN0ZWQudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5waWNrbGVJZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZUlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZUlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBpY2tsZUlkID0gbWVzc2FnZS5waWNrbGVJZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBQaWNrbGVSZWplY3RlZCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlUmVqZWN0ZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGlja2xlUmVqZWN0ZWQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQaWNrbGVSZWplY3RlZDtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFRlc3RSdW5TdGFydGVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGltZXN0YW1wfG51bGx9IFt0aW1lc3RhbXBdIFRlc3RSdW5TdGFydGVkIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBUZXN0UnVuU3RhcnRlZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBUZXN0UnVuU3RhcnRlZC5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJVGVzdFJ1blN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0UnVuU3RhcnRlZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFRlc3RSdW5TdGFydGVkKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUZXN0UnVuU3RhcnRlZCB0aW1lc3RhbXAuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcHxudWxsfHVuZGVmaW5lZH0gdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFJ1blN0YXJ0ZWQucHJvdG90eXBlLnRpbWVzdGFtcCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFRlc3RSdW5TdGFydGVkIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSdW5TdGFydGVkPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkfSBUZXN0UnVuU3RhcnRlZCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSdW5TdGFydGVkLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGVzdFJ1blN0YXJ0ZWQocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUZXN0UnVuU3RhcnRlZCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuU3RhcnRlZC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSdW5TdGFydGVkfSBtZXNzYWdlIFRlc3RSdW5TdGFydGVkIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UnVuU3RhcnRlZC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVzdGFtcFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC5lbmNvZGUobWVzc2FnZS50aW1lc3RhbXAsIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRlc3RSdW5TdGFydGVkIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFJ1blN0YXJ0ZWR9IG1lc3NhZ2UgVGVzdFJ1blN0YXJ0ZWQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSdW5TdGFydGVkLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0UnVuU3RhcnRlZCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWR9IFRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UnVuU3RhcnRlZC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuU3RhcnRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgVGVzdFJ1blN0YXJ0ZWQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuU3RhcnRlZH0gVGVzdFJ1blN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSdW5TdGFydGVkLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFRlc3RSdW5TdGFydGVkIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSdW5TdGFydGVkLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0aW1lc3RhbXBcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC52ZXJpZnkobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRpbWVzdGFtcC5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgVGVzdFJ1blN0YXJ0ZWQgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWR9IFRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFJ1blN0YXJ0ZWQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuU3RhcnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGltZXN0YW1wICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRpbWVzdGFtcCAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWQudGltZXN0YW1wOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC5mcm9tT2JqZWN0KG9iamVjdC50aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBUZXN0UnVuU3RhcnRlZCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5TdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1blN0YXJ0ZWR9IG1lc3NhZ2UgVGVzdFJ1blN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSdW5TdGFydGVkLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVzdGFtcFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50aW1lc3RhbXAgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAudG9PYmplY3QobWVzc2FnZS50aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFRlc3RSdW5TdGFydGVkIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UnVuU3RhcnRlZC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRlc3RSdW5TdGFydGVkO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFN0ZXAgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgVGVzdENhc2VQcmVwYXJlZFN0ZXAuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJVGVzdENhc2VQcmVwYXJlZFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2VSZWZlcmVuY2V8bnVsbH0gW3NvdXJjZUxvY2F0aW9uXSBUZXN0Q2FzZVByZXBhcmVkU3RlcCBzb3VyY2VMb2NhdGlvblxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZVJlZmVyZW5jZXxudWxsfSBbYWN0aW9uTG9jYXRpb25dIFRlc3RDYXNlUHJlcGFyZWRTdGVwIGFjdGlvbkxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFRlc3RDYXNlUHJlcGFyZWRTdGVwLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFRlc3RDYXNlUHJlcGFyZWRTdGVwLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElUZXN0Q2FzZVByZXBhcmVkU3RlcFxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlUHJlcGFyZWRTdGVwPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gVGVzdENhc2VQcmVwYXJlZFN0ZXAocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RDYXNlUHJlcGFyZWRTdGVwIHNvdXJjZUxvY2F0aW9uLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2VSZWZlcmVuY2V8bnVsbHx1bmRlZmluZWR9IHNvdXJjZUxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VQcmVwYXJlZFN0ZXAucHJvdG90eXBlLnNvdXJjZUxvY2F0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RDYXNlUHJlcGFyZWRTdGVwIGFjdGlvbkxvY2F0aW9uLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2VSZWZlcmVuY2V8bnVsbHx1bmRlZmluZWR9IGFjdGlvbkxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VQcmVwYXJlZFN0ZXAucHJvdG90eXBlLmFjdGlvbkxvY2F0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgVGVzdENhc2VQcmVwYXJlZFN0ZXAgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2VQcmVwYXJlZFN0ZXA9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFN0ZXB9IFRlc3RDYXNlUHJlcGFyZWRTdGVwIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VQcmVwYXJlZFN0ZXAuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXN0Q2FzZVByZXBhcmVkU3RlcChwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRlc3RDYXNlUHJlcGFyZWRTdGVwIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2VQcmVwYXJlZFN0ZXB9IG1lc3NhZ2UgVGVzdENhc2VQcmVwYXJlZFN0ZXAgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlUHJlcGFyZWRTdGVwLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zb3VyY2VMb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VMb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS5lbmNvZGUobWVzc2FnZS5zb3VyY2VMb2NhdGlvbiwgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hY3Rpb25Mb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25Mb2NhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS5lbmNvZGUobWVzc2FnZS5hY3Rpb25Mb2NhdGlvbiwgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgVGVzdENhc2VQcmVwYXJlZFN0ZXAgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFN0ZXAudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkU3RlcFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZVByZXBhcmVkU3RlcH0gbWVzc2FnZSBUZXN0Q2FzZVByZXBhcmVkU3RlcCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VQcmVwYXJlZFN0ZXAuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFRlc3RDYXNlUHJlcGFyZWRTdGVwIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkU3RlcFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkU3RlcH0gVGVzdENhc2VQcmVwYXJlZFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlUHJlcGFyZWRTdGVwLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNvdXJjZUxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hY3Rpb25Mb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0Q2FzZVByZXBhcmVkU3RlcCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwfSBUZXN0Q2FzZVByZXBhcmVkU3RlcFxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VQcmVwYXJlZFN0ZXAuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgVGVzdENhc2VQcmVwYXJlZFN0ZXAgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VQcmVwYXJlZFN0ZXAudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc291cmNlTG9jYXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic291cmNlTG9jYXRpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS52ZXJpZnkobWVzc2FnZS5zb3VyY2VMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic291cmNlTG9jYXRpb24uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hY3Rpb25Mb2NhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25Mb2NhdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlLnZlcmlmeShtZXNzYWdlLmFjdGlvbkxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhY3Rpb25Mb2NhdGlvbi5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgVGVzdENhc2VQcmVwYXJlZFN0ZXAgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFN0ZXB9IFRlc3RDYXNlUHJlcGFyZWRTdGVwXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VQcmVwYXJlZFN0ZXAuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkU3RlcClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Quc291cmNlTG9jYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Quc291cmNlTG9jYXRpb24gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwLnNvdXJjZUxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNvdXJjZUxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlLmZyb21PYmplY3Qob2JqZWN0LnNvdXJjZUxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmFjdGlvbkxvY2F0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmFjdGlvbkxvY2F0aW9uICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkU3RlcC5hY3Rpb25Mb2NhdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hY3Rpb25Mb2NhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS5mcm9tT2JqZWN0KG9iamVjdC5hY3Rpb25Mb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFRlc3RDYXNlUHJlcGFyZWRTdGVwIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkU3RlcH0gbWVzc2FnZSBUZXN0Q2FzZVByZXBhcmVkU3RlcFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VQcmVwYXJlZFN0ZXAudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNvdXJjZUxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25Mb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc291cmNlTG9jYXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic291cmNlTG9jYXRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc291cmNlTG9jYXRpb24gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2UudG9PYmplY3QobWVzc2FnZS5zb3VyY2VMb2NhdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbkxvY2F0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbkxvY2F0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFjdGlvbkxvY2F0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlLnRvT2JqZWN0KG1lc3NhZ2UuYWN0aW9uTG9jYXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFRlc3RDYXNlUHJlcGFyZWRTdGVwIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkU3RlcFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVByZXBhcmVkU3RlcC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRlc3RDYXNlUHJlcGFyZWRTdGVwO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBUZXN0Q2FzZVByZXBhcmVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVRlc3RDYXNlUHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbcGlja2xlSWRdIFRlc3RDYXNlUHJlcGFyZWQgcGlja2xlSWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2VQcmVwYXJlZFN0ZXA+fG51bGx9IFtzdGVwc10gVGVzdENhc2VQcmVwYXJlZCBzdGVwc1xuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBUZXN0Q2FzZVByZXBhcmVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFRlc3RDYXNlUHJlcGFyZWQuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVRlc3RDYXNlUHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZVByZXBhcmVkPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gVGVzdENhc2VQcmVwYXJlZChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RlcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUZXN0Q2FzZVByZXBhcmVkIHBpY2tsZUlkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gcGlja2xlSWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlUHJlcGFyZWQucHJvdG90eXBlLnBpY2tsZUlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RDYXNlUHJlcGFyZWQgc3RlcHMuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZVByZXBhcmVkU3RlcD59IHN0ZXBzXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVByZXBhcmVkLnByb3RvdHlwZS5zdGVwcyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFRlc3RDYXNlUHJlcGFyZWQgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZVByZXBhcmVkPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWR9IFRlc3RDYXNlUHJlcGFyZWQgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVByZXBhcmVkLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGVzdENhc2VQcmVwYXJlZChwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRlc3RDYXNlUHJlcGFyZWQgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2VQcmVwYXJlZH0gbWVzc2FnZSBUZXN0Q2FzZVByZXBhcmVkIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVByZXBhcmVkLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGVJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UucGlja2xlSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGVwcyAhPSBudWxsICYmIG1lc3NhZ2Uuc3RlcHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnN0ZXBzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwLmVuY29kZShtZXNzYWdlLnN0ZXBzW2ldLCB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUZXN0Q2FzZVByZXBhcmVkIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlUHJlcGFyZWR9IG1lc3NhZ2UgVGVzdENhc2VQcmVwYXJlZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VQcmVwYXJlZC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgVGVzdENhc2VQcmVwYXJlZCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkfSBUZXN0Q2FzZVByZXBhcmVkXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVByZXBhcmVkLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS5zdGVwcyAmJiBtZXNzYWdlLnN0ZXBzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0ZXBzLnB1c2goJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFN0ZXAuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFRlc3RDYXNlUHJlcGFyZWQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWR9IFRlc3RDYXNlUHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlUHJlcGFyZWQuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgVGVzdENhc2VQcmVwYXJlZCBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlUHJlcGFyZWQudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGlja2xlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicGlja2xlSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UucGlja2xlSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInBpY2tsZUlkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RlcHMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic3RlcHNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnN0ZXBzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdGVwczogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5zdGVwcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwLnZlcmlmeShtZXNzYWdlLnN0ZXBzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0ZXBzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBUZXN0Q2FzZVByZXBhcmVkIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZH0gVGVzdENhc2VQcmVwYXJlZFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlUHJlcGFyZWQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnBpY2tsZUlkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBpY2tsZUlkID0gU3RyaW5nKG9iamVjdC5waWNrbGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Quc3RlcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3Quc3RlcHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkLnN0ZXBzOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LnN0ZXBzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Quc3RlcHNbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkLnN0ZXBzOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwc1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwLmZyb21PYmplY3Qob2JqZWN0LnN0ZXBzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgVGVzdENhc2VQcmVwYXJlZCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVByZXBhcmVkfSBtZXNzYWdlIFRlc3RDYXNlUHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlUHJlcGFyZWQudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcnJheXMgfHwgb3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5waWNrbGVJZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZUlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZUlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBpY2tsZUlkID0gbWVzc2FnZS5waWNrbGVJZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RlcHMgJiYgbWVzc2FnZS5zdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLnN0ZXBzLmxlbmd0aDsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwc1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlUHJlcGFyZWRTdGVwLnRvT2JqZWN0KG1lc3NhZ2Uuc3RlcHNbal0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgVGVzdENhc2VQcmVwYXJlZCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VQcmVwYXJlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVByZXBhcmVkLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVGVzdENhc2VQcmVwYXJlZDtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBUZXN0Q2FzZVN0YXJ0ZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJVGVzdENhc2VTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGltZXN0YW1wfG51bGx9IFt0aW1lc3RhbXBdIFRlc3RDYXNlU3RhcnRlZCB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5JUGxhdGZvcm18bnVsbH0gW3BsYXRmb3JtXSBUZXN0Q2FzZVN0YXJ0ZWQgcGxhdGZvcm1cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcnxudWxsfSBbYXR0ZW1wdF0gVGhlIGZpcnN0IGF0dGVtcHQgc2hvdWxkIGhhdmUgdmFsdWUgMCwgYW5kIGZvciBlYWNoIHJldHJ5IHRoZSB2YWx1ZVxuICAgICAgICAgICAgICAgICAqIHNob3VsZCBpbmNyZWFzZSBieSAxLlxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFt0ZXN0Q2FzZUlkXSBUZXN0Q2FzZVN0YXJ0ZWQgdGVzdENhc2VJZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtpZF0gQmVjYXVzZSBhIGBUZXN0Q2FzZWAgY2FuIGJlIHJ1biBtdWx0aXBsZSB0aW1lcyAoaW4gY2FzZSBvZiBhIHJldHJ5KSxcbiAgICAgICAgICAgICAgICAgKiB3ZSB1c2UgdGhpcyBmaWVsZCB0byBncm91cCBtZXNzYWdlcyByZWxhdGluZyB0byB0aGUgc2FtZSBhdHRlbXB0LlxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBUZXN0Q2FzZVN0YXJ0ZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgVGVzdENhc2VTdGFydGVkLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElUZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZVN0YXJ0ZWQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBUZXN0Q2FzZVN0YXJ0ZWQocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RDYXNlU3RhcnRlZCB0aW1lc3RhbXAuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcHxudWxsfHVuZGVmaW5lZH0gdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlU3RhcnRlZC5wcm90b3R5cGUudGltZXN0YW1wID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RDYXNlU3RhcnRlZCBwbGF0Zm9ybS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuSVBsYXRmb3JtfG51bGx8dW5kZWZpbmVkfSBwbGF0Zm9ybVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVN0YXJ0ZWQucHJvdG90eXBlLnBsYXRmb3JtID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBmaXJzdCBhdHRlbXB0IHNob3VsZCBoYXZlIHZhbHVlIDAsIGFuZCBmb3IgZWFjaCByZXRyeSB0aGUgdmFsdWVcbiAgICAgICAgICAgICAgICAgKiBzaG91bGQgaW5jcmVhc2UgYnkgMS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IGF0dGVtcHRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VTdGFydGVkLnByb3RvdHlwZS5hdHRlbXB0ID0gMDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RDYXNlU3RhcnRlZCB0ZXN0Q2FzZUlkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gdGVzdENhc2VJZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVN0YXJ0ZWQucHJvdG90eXBlLnRlc3RDYXNlSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQmVjYXVzZSBhIGBUZXN0Q2FzZWAgY2FuIGJlIHJ1biBtdWx0aXBsZSB0aW1lcyAoaW4gY2FzZSBvZiBhIHJldHJ5KSxcbiAgICAgICAgICAgICAgICAgKiB3ZSB1c2UgdGhpcyBmaWVsZCB0byBncm91cCBtZXNzYWdlcyByZWxhdGluZyB0byB0aGUgc2FtZSBhdHRlbXB0LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gaWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VTdGFydGVkLnByb3RvdHlwZS5pZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFRlc3RDYXNlU3RhcnRlZCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2VTdGFydGVkPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZH0gVGVzdENhc2VTdGFydGVkIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VTdGFydGVkLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGVzdENhc2VTdGFydGVkKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgVGVzdENhc2VTdGFydGVkIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZVN0YXJ0ZWR9IG1lc3NhZ2UgVGVzdENhc2VTdGFydGVkIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVN0YXJ0ZWQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0aW1lc3RhbXBcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAuZW5jb2RlKG1lc3NhZ2UudGltZXN0YW1wLCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBsYXRmb3JtICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBsYXRmb3JtXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLlBsYXRmb3JtLmVuY29kZShtZXNzYWdlLnBsYXRmb3JtLCB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmF0dGVtcHQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYXR0ZW1wdFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMCA9Ki8yNCkudWludDMyKG1lc3NhZ2UuYXR0ZW1wdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgNCwgd2lyZVR5cGUgMiA9Ki8zNCkuc3RyaW5nKG1lc3NhZ2UudGVzdENhc2VJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA1LCB3aXJlVHlwZSAyID0qLzQyKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUZXN0Q2FzZVN0YXJ0ZWQgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlU3RhcnRlZH0gbWVzc2FnZSBUZXN0Q2FzZVN0YXJ0ZWQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlU3RhcnRlZC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgVGVzdENhc2VTdGFydGVkIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkfSBUZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlU3RhcnRlZC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF0Zm9ybSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXR0ZW1wdCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RDYXNlSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgVGVzdENhc2VTdGFydGVkIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZH0gVGVzdENhc2VTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVN0YXJ0ZWQuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgVGVzdENhc2VTdGFydGVkIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVN0YXJ0ZWQudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVzdGFtcFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLnZlcmlmeShtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGltZXN0YW1wLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGxhdGZvcm0gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicGxhdGZvcm1cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybS52ZXJpZnkobWVzc2FnZS5wbGF0Zm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGxhdGZvcm0uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hdHRlbXB0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImF0dGVtcHRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLmF0dGVtcHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImF0dGVtcHQ6IGludGVnZXIgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZUlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnRlc3RDYXNlSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRlc3RDYXNlSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5pZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFRlc3RDYXNlU3RhcnRlZCBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkfSBUZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVN0YXJ0ZWQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50aW1lc3RhbXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QudGltZXN0YW1wICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQudGltZXN0YW1wOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC5mcm9tT2JqZWN0KG9iamVjdC50aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QucGxhdGZvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QucGxhdGZvcm0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5wbGF0Zm9ybTogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF0Zm9ybSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybS5mcm9tT2JqZWN0KG9iamVjdC5wbGF0Zm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5hdHRlbXB0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmF0dGVtcHQgPSBvYmplY3QuYXR0ZW1wdCA+Pj4gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0Q2FzZUlkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RDYXNlSWQgPSBTdHJpbmcob2JqZWN0LnRlc3RDYXNlSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmlkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gU3RyaW5nKG9iamVjdC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBUZXN0Q2FzZVN0YXJ0ZWQgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWR9IG1lc3NhZ2UgVGVzdENhc2VTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVN0YXJ0ZWQudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRpbWVzdGFtcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGxhdGZvcm0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmF0dGVtcHQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RDYXNlSWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGltZXN0YW1wXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRpbWVzdGFtcCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC50b09iamVjdChtZXNzYWdlLnRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBsYXRmb3JtICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBsYXRmb3JtXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBsYXRmb3JtID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLlBsYXRmb3JtLnRvT2JqZWN0KG1lc3NhZ2UucGxhdGZvcm0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hdHRlbXB0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImF0dGVtcHRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYXR0ZW1wdCA9IG1lc3NhZ2UuYXR0ZW1wdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZUlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RDYXNlSWQgPSBtZXNzYWdlLnRlc3RDYXNlSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlkID0gbWVzc2FnZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBUZXN0Q2FzZVN0YXJ0ZWQgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZVN0YXJ0ZWQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIFRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybSA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFBsYXRmb3JtLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVBsYXRmb3JtXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtpbXBsZW1lbnRhdGlvbl0gUGxhdGZvcm0gaW1wbGVtZW50YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW3ZlcnNpb25dIFBsYXRmb3JtIHZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW29zXSBQbGF0Zm9ybSBvc1xuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbY3B1XSBQbGF0Zm9ybSBjcHVcbiAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgUGxhdGZvcm0uXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgUGxhdGZvcm0uXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElQbGF0Zm9ybVxuICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuSVBsYXRmb3JtPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBQbGF0Zm9ybShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFBsYXRmb3JtIGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuUGxhdGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQbGF0Zm9ybS5wcm90b3R5cGUuaW1wbGVtZW50YXRpb24gPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBQbGF0Zm9ybSB2ZXJzaW9uLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybVxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtLnByb3RvdHlwZS52ZXJzaW9uID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUGxhdGZvcm0gb3MuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gb3NcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybVxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtLnByb3RvdHlwZS5vcyA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFBsYXRmb3JtIGNwdS5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBjcHVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybVxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtLnByb3RvdHlwZS5jcHUgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFBsYXRmb3JtIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLlBsYXRmb3JtXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuSVBsYXRmb3JtPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuUGxhdGZvcm19IFBsYXRmb3JtIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQbGF0Zm9ybS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQbGF0Zm9ybShwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFBsYXRmb3JtIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybS52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLlBsYXRmb3JtXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuSVBsYXRmb3JtfSBtZXNzYWdlIFBsYXRmb3JtIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGxhdGZvcm0uZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmltcGxlbWVudGF0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImltcGxlbWVudGF0aW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UuaW1wbGVtZW50YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudmVyc2lvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ2ZXJzaW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2UudmVyc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5vcyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJvc1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDMsIHdpcmVUeXBlIDIgPSovMjYpLnN0cmluZyhtZXNzYWdlLm9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNwdSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjcHVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5zdHJpbmcobWVzc2FnZS5jcHUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFBsYXRmb3JtIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybS52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLlBsYXRmb3JtXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuSVBsYXRmb3JtfSBtZXNzYWdlIFBsYXRmb3JtIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGxhdGZvcm0uZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBQbGF0Zm9ybSBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuUGxhdGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybX0gUGxhdGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQbGF0Zm9ybS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuUGxhdGZvcm0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbXBsZW1lbnRhdGlvbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZlcnNpb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vcyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNwdSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBsYXRmb3JtIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybVxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLlBsYXRmb3JtfSBQbGF0Zm9ybVxuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFBsYXRmb3JtIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybVxuICAgICAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgUGxhdGZvcm0udmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW1wbGVtZW50YXRpb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaW1wbGVtZW50YXRpb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmltcGxlbWVudGF0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaW1wbGVtZW50YXRpb246IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudmVyc2lvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ2ZXJzaW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS52ZXJzaW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidmVyc2lvbjogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5vcyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJvc1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2Uub3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvczogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jcHUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY3B1XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5jcHUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjcHU6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBQbGF0Zm9ybSBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuUGxhdGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuUGxhdGZvcm19IFBsYXRmb3JtXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQbGF0Zm9ybS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuUGxhdGZvcm0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlU3RhcnRlZC5QbGF0Zm9ybSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5pbXBsZW1lbnRhdGlvbiAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW1wbGVtZW50YXRpb24gPSBTdHJpbmcob2JqZWN0LmltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmVyc2lvbiAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmVyc2lvbiA9IFN0cmluZyhvYmplY3QudmVyc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lm9zICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vcyA9IFN0cmluZyhvYmplY3Qub3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jcHUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNwdSA9IFN0cmluZyhvYmplY3QuY3B1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBQbGF0Zm9ybSBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VTdGFydGVkLlBsYXRmb3JtXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuUGxhdGZvcm19IG1lc3NhZ2UgUGxhdGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBQbGF0Zm9ybS50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pbXBsZW1lbnRhdGlvbiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZlcnNpb24gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5vcyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNwdSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pbXBsZW1lbnRhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpbXBsZW1lbnRhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaW1wbGVtZW50YXRpb24gPSBtZXNzYWdlLmltcGxlbWVudGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudmVyc2lvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ2ZXJzaW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC52ZXJzaW9uID0gbWVzc2FnZS52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uub3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwib3NcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm9zID0gbWVzc2FnZS5vcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNwdSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjcHVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNwdSA9IG1lc3NhZ2UuY3B1O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBQbGF0Zm9ybSB0byBKU09OLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZVN0YXJ0ZWQuUGxhdGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGxhdGZvcm07XG4gICAgICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBUZXN0Q2FzZVN0YXJ0ZWQ7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFRlc3RDYXNlRmluaXNoZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJVGVzdENhc2VGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcHxudWxsfSBbdGltZXN0YW1wXSBUZXN0Q2FzZUZpbmlzaGVkIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSZXN1bHR8bnVsbH0gW3Rlc3RSZXN1bHRdIFRlc3RDYXNlRmluaXNoZWQgdGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFt0ZXN0Q2FzZVN0YXJ0ZWRJZF0gVGVzdENhc2VGaW5pc2hlZCB0ZXN0Q2FzZVN0YXJ0ZWRJZFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBUZXN0Q2FzZUZpbmlzaGVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFRlc3RDYXNlRmluaXNoZWQuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVRlc3RDYXNlRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0Q2FzZUZpbmlzaGVkPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gVGVzdENhc2VGaW5pc2hlZChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGVzdENhc2VGaW5pc2hlZCB0aW1lc3RhbXAuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcHxudWxsfHVuZGVmaW5lZH0gdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZUZpbmlzaGVkLnByb3RvdHlwZS50aW1lc3RhbXAgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGVzdENhc2VGaW5pc2hlZCB0ZXN0UmVzdWx0LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0UmVzdWx0fG51bGx8dW5kZWZpbmVkfSB0ZXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZUZpbmlzaGVkLnByb3RvdHlwZS50ZXN0UmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RDYXNlRmluaXNoZWQgdGVzdENhc2VTdGFydGVkSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB0ZXN0Q2FzZVN0YXJ0ZWRJZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VGaW5pc2hlZC5wcm90b3R5cGUudGVzdENhc2VTdGFydGVkSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBUZXN0Q2FzZUZpbmlzaGVkIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdENhc2VGaW5pc2hlZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkfSBUZXN0Q2FzZUZpbmlzaGVkIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VGaW5pc2hlZC5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRlc3RDYXNlRmluaXNoZWQocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUZXN0Q2FzZUZpbmlzaGVkIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlRmluaXNoZWR9IG1lc3NhZ2UgVGVzdENhc2VGaW5pc2hlZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VGaW5pc2hlZC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVzdGFtcFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC5lbmNvZGUobWVzc2FnZS50aW1lc3RhbXAsIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdFJlc3VsdCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0UmVzdWx0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdC5lbmNvZGUobWVzc2FnZS50ZXN0UmVzdWx0LCB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlU3RhcnRlZElkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5zdHJpbmcobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUZXN0Q2FzZUZpbmlzaGVkIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RDYXNlRmluaXNoZWR9IG1lc3NhZ2UgVGVzdENhc2VGaW5pc2hlZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VGaW5pc2hlZC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgVGVzdENhc2VGaW5pc2hlZCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkfSBUZXN0Q2FzZUZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0Q2FzZUZpbmlzaGVkLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0UmVzdWx0ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdENhc2VTdGFydGVkSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFRlc3RDYXNlRmluaXNoZWQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWR9IFRlc3RDYXNlRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlRmluaXNoZWQuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgVGVzdENhc2VGaW5pc2hlZCBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RDYXNlRmluaXNoZWQudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVzdGFtcFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLnZlcmlmeShtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGltZXN0YW1wLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdFJlc3VsdCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0UmVzdWx0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0LnZlcmlmeShtZXNzYWdlLnRlc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRlc3RSZXN1bHQuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZVN0YXJ0ZWRJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdENhc2VTdGFydGVkSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFRlc3RDYXNlRmluaXNoZWQgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkfSBUZXN0Q2FzZUZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VGaW5pc2hlZC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0Q2FzZUZpbmlzaGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGltZXN0YW1wICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRpbWVzdGFtcCAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VGaW5pc2hlZC50aW1lc3RhbXA6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLmZyb21PYmplY3Qob2JqZWN0LnRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0UmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRlc3RSZXN1bHQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWQudGVzdFJlc3VsdDogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0UmVzdWx0ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdC5mcm9tT2JqZWN0KG9iamVjdC50ZXN0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRlc3RDYXNlU3RhcnRlZElkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkID0gU3RyaW5nKG9iamVjdC50ZXN0Q2FzZVN0YXJ0ZWRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBUZXN0Q2FzZUZpbmlzaGVkIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdENhc2VGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWR9IG1lc3NhZ2UgVGVzdENhc2VGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VGaW5pc2hlZC50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0Q2FzZVN0YXJ0ZWRJZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVzdGFtcFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50aW1lc3RhbXAgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAudG9PYmplY3QobWVzc2FnZS50aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0UmVzdWx0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RSZXN1bHRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdFJlc3VsdCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHQudG9PYmplY3QobWVzc2FnZS50ZXN0UmVzdWx0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VTdGFydGVkSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VTdGFydGVkSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdENhc2VTdGFydGVkSWQgPSBtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFRlc3RDYXNlRmluaXNoZWQgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RDYXNlRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdENhc2VGaW5pc2hlZC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRlc3RDYXNlRmluaXNoZWQ7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWQgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgVGVzdFN0ZXBTdGFydGVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVRlc3RTdGVwU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcHxudWxsfSBbdGltZXN0YW1wXSBUZXN0U3RlcFN0YXJ0ZWQgdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW3Rlc3RTdGVwSWRdIFRlc3RTdGVwU3RhcnRlZCB0ZXN0U3RlcElkXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW3Rlc3RDYXNlU3RhcnRlZElkXSBUZXN0U3RlcFN0YXJ0ZWQgdGVzdENhc2VTdGFydGVkSWRcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgVGVzdFN0ZXBTdGFydGVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFRlc3RTdGVwU3RhcnRlZC5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJVGVzdFN0ZXBTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFN0ZXBTdGFydGVkPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gVGVzdFN0ZXBTdGFydGVkKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUZXN0U3RlcFN0YXJ0ZWQgdGltZXN0YW1wLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUaW1lc3RhbXB8bnVsbHx1bmRlZmluZWR9IHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcFN0YXJ0ZWQucHJvdG90eXBlLnRpbWVzdGFtcCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUZXN0U3RlcFN0YXJ0ZWQgdGVzdFN0ZXBJZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHRlc3RTdGVwSWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFN0ZXBTdGFydGVkLnByb3RvdHlwZS50ZXN0U3RlcElkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RTdGVwU3RhcnRlZCB0ZXN0Q2FzZVN0YXJ0ZWRJZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHRlc3RDYXNlU3RhcnRlZElkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RTdGVwU3RhcnRlZC5wcm90b3R5cGUudGVzdENhc2VTdGFydGVkSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBUZXN0U3RlcFN0YXJ0ZWQgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RTdGVwU3RhcnRlZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWR9IFRlc3RTdGVwU3RhcnRlZCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RTdGVwU3RhcnRlZC5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRlc3RTdGVwU3RhcnRlZChwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRlc3RTdGVwU3RhcnRlZCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFN0ZXBTdGFydGVkfSBtZXNzYWdlIFRlc3RTdGVwU3RhcnRlZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFN0ZXBTdGFydGVkLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGltZXN0YW1wXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLmVuY29kZShtZXNzYWdlLnRpbWVzdGFtcCwgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0U3RlcElkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RTdGVwSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLnN0cmluZyhtZXNzYWdlLnRlc3RTdGVwSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZVN0YXJ0ZWRJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuc3RyaW5nKG1lc3NhZ2UudGVzdENhc2VTdGFydGVkSWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgVGVzdFN0ZXBTdGFydGVkIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0U3RlcFN0YXJ0ZWR9IG1lc3NhZ2UgVGVzdFN0ZXBTdGFydGVkIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcFN0YXJ0ZWQuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFRlc3RTdGVwU3RhcnRlZCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZH0gVGVzdFN0ZXBTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcFN0YXJ0ZWQuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBTdGFydGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFN0ZXBJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0U3RlcFN0YXJ0ZWQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBTdGFydGVkfSBUZXN0U3RlcFN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RTdGVwU3RhcnRlZC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBUZXN0U3RlcFN0YXJ0ZWQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RTdGVwU3RhcnRlZC52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGltZXN0YW1wXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAudmVyaWZ5KG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0aW1lc3RhbXAuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0U3RlcElkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RTdGVwSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudGVzdFN0ZXBJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdFN0ZXBJZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlU3RhcnRlZElkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXN0Q2FzZVN0YXJ0ZWRJZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgVGVzdFN0ZXBTdGFydGVkIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWR9IFRlc3RTdGVwU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RTdGVwU3RhcnRlZC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRpbWVzdGFtcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC50aW1lc3RhbXAgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZC50aW1lc3RhbXA6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLmZyb21PYmplY3Qob2JqZWN0LnRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0U3RlcElkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RTdGVwSWQgPSBTdHJpbmcob2JqZWN0LnRlc3RTdGVwSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRlc3RDYXNlU3RhcnRlZElkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkID0gU3RyaW5nKG9iamVjdC50ZXN0Q2FzZVN0YXJ0ZWRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBUZXN0U3RlcFN0YXJ0ZWQgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcFN0YXJ0ZWR9IG1lc3NhZ2UgVGVzdFN0ZXBTdGFydGVkXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcFN0YXJ0ZWQudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRpbWVzdGFtcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdFN0ZXBJZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdENhc2VTdGFydGVkSWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0aW1lc3RhbXBcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGltZXN0YW1wID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLnRvT2JqZWN0KG1lc3NhZ2UudGltZXN0YW1wLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdFN0ZXBJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0U3RlcElkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RTdGVwSWQgPSBtZXNzYWdlLnRlc3RTdGVwSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlU3RhcnRlZElkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RDYXNlU3RhcnRlZElkID0gbWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBUZXN0U3RlcFN0YXJ0ZWQgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwU3RhcnRlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcFN0YXJ0ZWQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBUZXN0U3RlcFN0YXJ0ZWQ7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFRlc3RTdGVwRmluaXNoZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJVGVzdFN0ZXBGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSZXN1bHR8bnVsbH0gW3Rlc3RSZXN1bHRdIFRlc3RTdGVwRmluaXNoZWQgdGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcHxudWxsfSBbdGltZXN0YW1wXSBUZXN0U3RlcEZpbmlzaGVkIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFt0ZXN0U3RlcElkXSBUZXN0U3RlcEZpbmlzaGVkIHRlc3RTdGVwSWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdGVzdENhc2VTdGFydGVkSWRdIFRlc3RTdGVwRmluaXNoZWQgdGVzdENhc2VTdGFydGVkSWRcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgVGVzdFN0ZXBGaW5pc2hlZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBUZXN0U3RlcEZpbmlzaGVkLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElUZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFN0ZXBGaW5pc2hlZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFRlc3RTdGVwRmluaXNoZWQocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RTdGVwRmluaXNoZWQgdGVzdFJlc3VsdC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFJlc3VsdHxudWxsfHVuZGVmaW5lZH0gdGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFN0ZXBGaW5pc2hlZC5wcm90b3R5cGUudGVzdFJlc3VsdCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUZXN0U3RlcEZpbmlzaGVkIHRpbWVzdGFtcC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGltZXN0YW1wfG51bGx8dW5kZWZpbmVkfSB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RTdGVwRmluaXNoZWQucHJvdG90eXBlLnRpbWVzdGFtcCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUZXN0U3RlcEZpbmlzaGVkIHRlc3RTdGVwSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB0ZXN0U3RlcElkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcEZpbmlzaGVkLnByb3RvdHlwZS50ZXN0U3RlcElkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RTdGVwRmluaXNoZWQgdGVzdENhc2VTdGFydGVkSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB0ZXN0Q2FzZVN0YXJ0ZWRJZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFN0ZXBGaW5pc2hlZC5wcm90b3R5cGUudGVzdENhc2VTdGFydGVkSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBUZXN0U3RlcEZpbmlzaGVkIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFN0ZXBGaW5pc2hlZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkfSBUZXN0U3RlcEZpbmlzaGVkIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFN0ZXBGaW5pc2hlZC5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRlc3RTdGVwRmluaXNoZWQocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUZXN0U3RlcEZpbmlzaGVkIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RTdGVwRmluaXNoZWR9IG1lc3NhZ2UgVGVzdFN0ZXBGaW5pc2hlZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFN0ZXBGaW5pc2hlZC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdFJlc3VsdCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0UmVzdWx0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdC5lbmNvZGUobWVzc2FnZS50ZXN0UmVzdWx0LCB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0aW1lc3RhbXBcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAuZW5jb2RlKG1lc3NhZ2UudGltZXN0YW1wLCB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RTdGVwSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdFN0ZXBJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuc3RyaW5nKG1lc3NhZ2UudGVzdFN0ZXBJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlU3RhcnRlZElkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5zdHJpbmcobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUZXN0U3RlcEZpbmlzaGVkIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RTdGVwRmluaXNoZWR9IG1lc3NhZ2UgVGVzdFN0ZXBGaW5pc2hlZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFN0ZXBGaW5pc2hlZC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgVGVzdFN0ZXBGaW5pc2hlZCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBGaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkfSBUZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcEZpbmlzaGVkLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFJlc3VsdCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFN0ZXBJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0U3RlcEZpbmlzaGVkIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkfSBUZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcEZpbmlzaGVkLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFRlc3RTdGVwRmluaXNoZWQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcEZpbmlzaGVkLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RSZXN1bHQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdFJlc3VsdFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdC52ZXJpZnkobWVzc2FnZS50ZXN0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXN0UmVzdWx0LlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVzdGFtcFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGltZXN0YW1wLnZlcmlmeShtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGltZXN0YW1wLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdFN0ZXBJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0U3RlcElkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnRlc3RTdGVwSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRlc3RTdGVwSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZVN0YXJ0ZWRJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS50ZXN0Q2FzZVN0YXJ0ZWRJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdENhc2VTdGFydGVkSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFRlc3RTdGVwRmluaXNoZWQgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkfSBUZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFN0ZXBGaW5pc2hlZC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGVzdFJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC50ZXN0UmVzdWx0ICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkLnRlc3RSZXN1bHQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFJlc3VsdCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHQuZnJvbU9iamVjdChvYmplY3QudGVzdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50aW1lc3RhbXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QudGltZXN0YW1wICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkLnRpbWVzdGFtcDogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAuZnJvbU9iamVjdChvYmplY3QudGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRlc3RTdGVwSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdFN0ZXBJZCA9IFN0cmluZyhvYmplY3QudGVzdFN0ZXBJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGVzdENhc2VTdGFydGVkSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdENhc2VTdGFydGVkSWQgPSBTdHJpbmcob2JqZWN0LnRlc3RDYXNlU3RhcnRlZElkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFRlc3RTdGVwRmluaXNoZWQgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFN0ZXBGaW5pc2hlZH0gbWVzc2FnZSBUZXN0U3RlcEZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0U3RlcEZpbmlzaGVkLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50aW1lc3RhbXAgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RTdGVwSWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RDYXNlU3RhcnRlZElkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0UmVzdWx0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RSZXN1bHRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdFJlc3VsdCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHQudG9PYmplY3QobWVzc2FnZS50ZXN0UmVzdWx0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVzdGFtcFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50aW1lc3RhbXAgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAudG9PYmplY3QobWVzc2FnZS50aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0U3RlcElkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RTdGVwSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdFN0ZXBJZCA9IG1lc3NhZ2UudGVzdFN0ZXBJZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VTdGFydGVkSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VTdGFydGVkSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGVzdENhc2VTdGFydGVkSWQgPSBtZXNzYWdlLnRlc3RDYXNlU3RhcnRlZElkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFRlc3RTdGVwRmluaXNoZWQgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RTdGVwRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFN0ZXBGaW5pc2hlZC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRlc3RTdGVwRmluaXNoZWQ7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5UZXN0UmVzdWx0ID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFRlc3RSZXN1bHQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJVGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdC5TdGF0dXN8bnVsbH0gW3N0YXR1c10gVGVzdFJlc3VsdCBzdGF0dXNcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbbWVzc2FnZV0gVGVzdFJlc3VsdCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JRHVyYXRpb258bnVsbH0gW2R1cmF0aW9uXSBUZXN0UmVzdWx0IGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufG51bGx9IFt3aWxsQmVSZXRyaWVkXSBUZXN0UmVzdWx0IHdpbGxCZVJldHJpZWRcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgVGVzdFJlc3VsdC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBUZXN0UmVzdWx0LlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElUZXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFJlc3VsdD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFRlc3RSZXN1bHQocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RSZXN1bHQgc3RhdHVzLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHQuU3RhdHVzfSBzdGF0dXNcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSZXN1bHQucHJvdG90eXBlLnN0YXR1cyA9IDA7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUZXN0UmVzdWx0IG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UmVzdWx0LnByb3RvdHlwZS5tZXNzYWdlID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RSZXN1bHQgZHVyYXRpb24uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUR1cmF0aW9ufG51bGx8dW5kZWZpbmVkfSBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFJlc3VsdC5wcm90b3R5cGUuZHVyYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGVzdFJlc3VsdCB3aWxsQmVSZXRyaWVkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IHdpbGxCZVJldHJpZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSZXN1bHQucHJvdG90eXBlLndpbGxCZVJldHJpZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgVGVzdFJlc3VsdCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSZXN1bHQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdH0gVGVzdFJlc3VsdCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSZXN1bHQuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXN0UmVzdWx0KHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgVGVzdFJlc3VsdCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0LnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0UmVzdWx0fSBtZXNzYWdlIFRlc3RSZXN1bHQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSZXN1bHQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0YXR1cyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdGF0dXNcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDAgPSovOCkuaW50MzIobWVzc2FnZS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5tZXNzYWdlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLnN0cmluZyhtZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kdXJhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkdXJhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkR1cmF0aW9uLmVuY29kZShtZXNzYWdlLmR1cmF0aW9uLCB3cml0ZXIudWludDMyKC8qIGlkIDMsIHdpcmVUeXBlIDIgPSovMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLndpbGxCZVJldHJpZWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwid2lsbEJlUmV0cmllZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgNCwgd2lyZVR5cGUgMCA9Ki8zMikuYm9vbChtZXNzYWdlLndpbGxCZVJldHJpZWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgVGVzdFJlc3VsdCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0LnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0UmVzdWx0fSBtZXNzYWdlIFRlc3RSZXN1bHQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSZXN1bHQuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFRlc3RSZXN1bHQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdH0gVGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFJlc3VsdC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXR1cyA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmR1cmF0aW9uID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuRHVyYXRpb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndpbGxCZVJldHJpZWQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0UmVzdWx0IG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0fSBUZXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UmVzdWx0LmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFRlc3RSZXN1bHQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UmVzdWx0LnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0YXR1cyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdGF0dXNcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2Uuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0YXR1czogZW51bSB2YWx1ZSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5tZXNzYWdlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UubWVzc2FnZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWVzc2FnZTogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmR1cmF0aW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImR1cmF0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5EdXJhdGlvbi52ZXJpZnkobWVzc2FnZS5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZHVyYXRpb24uXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS53aWxsQmVSZXRyaWVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIndpbGxCZVJldHJpZWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2Uud2lsbEJlUmV0cmllZCAhPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwid2lsbEJlUmV0cmllZDogYm9vbGVhbiBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFRlc3RSZXN1bHQgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0fSBUZXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFJlc3VsdC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob2JqZWN0LnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVU5LTk9XTlwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXR1cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBBU1NFRFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXR1cyA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNLSVBQRURcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0dXMgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQRU5ESU5HXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdHVzID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVU5ERUZJTkVEXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdHVzID0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQU1CSUdVT1VTXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdHVzID0gNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRkFJTEVEXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdHVzID0gNjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubWVzc2FnZSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNzYWdlID0gU3RyaW5nKG9iamVjdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5kdXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5kdXJhdGlvbiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdC5kdXJhdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kdXJhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkR1cmF0aW9uLmZyb21PYmplY3Qob2JqZWN0LmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LndpbGxCZVJldHJpZWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lsbEJlUmV0cmllZCA9IEJvb2xlYW4ob2JqZWN0LndpbGxCZVJldHJpZWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgVGVzdFJlc3VsdCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0fSBtZXNzYWdlIFRlc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSZXN1bHQudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0YXR1cyA9IG9wdGlvbnMuZW51bXMgPT09IFN0cmluZyA/IFwiVU5LTk9XTlwiIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kdXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Qud2lsbEJlUmV0cmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0YXR1cyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdGF0dXNcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc3RhdHVzID0gb3B0aW9ucy5lbnVtcyA9PT0gU3RyaW5nID8gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdC5TdGF0dXNbbWVzc2FnZS5zdGF0dXNdIDogbWVzc2FnZS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm1lc3NhZ2UgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tZXNzYWdlID0gbWVzc2FnZS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kdXJhdGlvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJkdXJhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kdXJhdGlvbiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkR1cmF0aW9uLnRvT2JqZWN0KG1lc3NhZ2UuZHVyYXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS53aWxsQmVSZXRyaWVkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIndpbGxCZVJldHJpZWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Qud2lsbEJlUmV0cmllZCA9IG1lc3NhZ2Uud2lsbEJlUmV0cmllZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBUZXN0UmVzdWx0IHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSZXN1bHQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFN0YXR1cyBvZiBhIHN0ZXAuIENhbiBhbHNvIHJlcHJlc2VudCBzdGF0dXMgb2YgYSBQaWNrbGUgKGFnZ3JlZ2F0ZWRcbiAgICAgICAgICAgICAgICAgKiBmcm9tIHRoZSBzdGF0dXMgb2YgaXRzIHN0ZXBzKS5cbiAgICAgICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAgICAgKiBUaGUgb3JkaW5hbCB2YWx1ZXMgb2Ygc3RhdHVzZXMgYXJlIHNpZ25pZmljYW50LiBUaGUgc3RhdHVzIG9mIGEgUGlja2xlXG4gICAgICAgICAgICAgICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgdW5pb24gb2Ygc3RhdHVzZXMgb2YgaXRzIHN0ZXBzLiBUaGVcbiAgICAgICAgICAgICAgICAgKiBzdGF0dXMgb2YgdGhlIFBpY2tsZSBpcyB0aGUgc3RhdHVzIHdpdGggdGhlIGhpZ2hlc3Qgb3JkaW5hbFxuICAgICAgICAgICAgICAgICAqIGluIHRoZSBlbnVtLlxuICAgICAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICAgICAqIEZvciBleGFtcGxlLCBpZiBhIHBpY2tsZSBoYXMgc3RlcHMgd2l0aCBzdGF0dXNlcyBwYXNzZWQsIHVuZGVmaW5lZCBhbmQgc2tpcHBlZCxcbiAgICAgICAgICAgICAgICAgKiB0aGVuIHRoZSBwaWNrbGUncyBzdGF0dXMgaXMgdW5kZWZpbmVkLlxuICAgICAgICAgICAgICAgICAqIEBuYW1lIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSZXN1bHQuU3RhdHVzXG4gICAgICAgICAgICAgICAgICogQGVudW0ge3N0cmluZ31cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gVU5LTk9XTj0wIFVOS05PV04gdmFsdWVcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gUEFTU0VEPTEgUEFTU0VEIHZhbHVlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFNLSVBQRUQ9MiBTS0lQUEVEIHZhbHVlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFBFTkRJTkc9MyBQRU5ESU5HIHZhbHVlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFVOREVGSU5FRD00IFVOREVGSU5FRCB2YWx1ZVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBTUJJR1VPVVM9NSBBTUJJR1VPVVMgdmFsdWVcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gRkFJTEVEPTYgRkFJTEVEIHZhbHVlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFJlc3VsdC5TdGF0dXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXNCeUlkID0ge30sIHZhbHVlcyA9IE9iamVjdC5jcmVhdGUodmFsdWVzQnlJZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1t2YWx1ZXNCeUlkWzBdID0gXCJVTktOT1dOXCJdID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlc0J5SWRbMV0gPSBcIlBBU1NFRFwiXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1t2YWx1ZXNCeUlkWzJdID0gXCJTS0lQUEVEXCJdID0gMjtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlc0J5SWRbM10gPSBcIlBFTkRJTkdcIl0gPSAzO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbdmFsdWVzQnlJZFs0XSA9IFwiVU5ERUZJTkVEXCJdID0gNDtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlc0J5SWRbNV0gPSBcIkFNQklHVU9VU1wiXSA9IDU7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1t2YWx1ZXNCeUlkWzZdID0gXCJGQUlMRURcIl0gPSA2O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVGVzdFJlc3VsdDtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlRlc3RSdW5GaW5pc2hlZCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBUZXN0UnVuRmluaXNoZWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJVGVzdFJ1bkZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufG51bGx9IFtzdWNjZXNzXSBUZXN0UnVuRmluaXNoZWQgc3VjY2Vzc1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcHxudWxsfSBbdGltZXN0YW1wXSBUZXN0UnVuRmluaXNoZWQgdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFRlc3RSdW5GaW5pc2hlZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBUZXN0UnVuRmluaXNoZWQuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVRlc3RSdW5GaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSdW5GaW5pc2hlZD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFRlc3RSdW5GaW5pc2hlZChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGVzdFJ1bkZpbmlzaGVkIHN1Y2Nlc3MuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn0gc3VjY2Vzc1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UnVuRmluaXNoZWQucHJvdG90eXBlLnN1Y2Nlc3MgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRlc3RSdW5GaW5pc2hlZCB0aW1lc3RhbXAuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRpbWVzdGFtcHxudWxsfHVuZGVmaW5lZH0gdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5GaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSdW5GaW5pc2hlZC5wcm90b3R5cGUudGltZXN0YW1wID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgVGVzdFJ1bkZpbmlzaGVkIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5GaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0UnVuRmluaXNoZWQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1bkZpbmlzaGVkfSBUZXN0UnVuRmluaXNoZWQgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UnVuRmluaXNoZWQuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXN0UnVuRmluaXNoZWQocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBUZXN0UnVuRmluaXNoZWQgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1bkZpbmlzaGVkLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1bkZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSdW5GaW5pc2hlZH0gbWVzc2FnZSBUZXN0UnVuRmluaXNoZWQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSdW5GaW5pc2hlZC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3VjY2VzcyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdWNjZXNzXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAwID0qLzgpLmJvb2wobWVzc2FnZS5zdWNjZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVzdGFtcFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC5lbmNvZGUobWVzc2FnZS50aW1lc3RhbXAsIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFRlc3RSdW5GaW5pc2hlZCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVGVzdFJ1bkZpbmlzaGVkfSBtZXNzYWdlIFRlc3RSdW5GaW5pc2hlZCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFJ1bkZpbmlzaGVkLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0UnVuRmluaXNoZWQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5GaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWR9IFRlc3RSdW5GaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFJ1bkZpbmlzaGVkLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5GaW5pc2hlZCgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBUZXN0UnVuRmluaXNoZWQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5GaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1bkZpbmlzaGVkfSBUZXN0UnVuRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSdW5GaW5pc2hlZC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBUZXN0UnVuRmluaXNoZWQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRlc3RSdW5GaW5pc2hlZFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFRlc3RSdW5GaW5pc2hlZC52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdWNjZXNzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInN1Y2Nlc3NcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2Uuc3VjY2VzcyAhPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3VjY2VzczogYm9vbGVhbiBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGltZXN0YW1wXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UaW1lc3RhbXAudmVyaWZ5KG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0aW1lc3RhbXAuXCIgKyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFRlc3RSdW5GaW5pc2hlZCBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1bkZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJ1bkZpbmlzaGVkfSBUZXN0UnVuRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UnVuRmluaXNoZWQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5zdWNjZXNzICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MgPSBCb29sZWFuKG9iamVjdC5zdWNjZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50aW1lc3RhbXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QudGltZXN0YW1wICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWQudGltZXN0YW1wOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC5mcm9tT2JqZWN0KG9iamVjdC50aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBUZXN0UnVuRmluaXNoZWQgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWR9IG1lc3NhZ2UgVGVzdFJ1bkZpbmlzaGVkXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBUZXN0UnVuRmluaXNoZWQudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50aW1lc3RhbXAgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN1Y2Nlc3MgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic3VjY2Vzc1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdWNjZXNzID0gbWVzc2FnZS5zdWNjZXNzO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGltZXN0YW1wXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRpbWVzdGFtcCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlRpbWVzdGFtcC50b09iamVjdChtZXNzYWdlLnRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgVGVzdFJ1bkZpbmlzaGVkIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UnVuRmluaXNoZWRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVGVzdFJ1bkZpbmlzaGVkLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVGVzdFJ1bkZpbmlzaGVkO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuQ29tbWFuZFN0YXJ0ID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIENvbW1hbmRTdGFydC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElDb21tYW5kU3RhcnRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbYmFzZURpcmVjdG9yeV0gQ29tbWFuZFN0YXJ0IGJhc2VEaXJlY3RvcnlcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2VzQ29uZmlnfG51bGx9IFtzb3VyY2VzQ29uZmlnXSBDb21tYW5kU3RhcnQgc291cmNlc0NvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVJ1bnRpbWVDb25maWd8bnVsbH0gW3J1bnRpbWVDb25maWddIENvbW1hbmRTdGFydCBydW50aW1lQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3VwcG9ydENvZGVDb25maWd8bnVsbH0gW3N1cHBvcnRDb2RlQ29uZmlnXSBDb21tYW5kU3RhcnQgc3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgQ29tbWFuZFN0YXJ0LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIENvbW1hbmRTdGFydC5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJQ29tbWFuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZFN0YXJ0PX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gQ29tbWFuZFN0YXJ0KHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb21tYW5kU3RhcnQgYmFzZURpcmVjdG9yeS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGJhc2VEaXJlY3RvcnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFN0YXJ0LnByb3RvdHlwZS5iYXNlRGlyZWN0b3J5ID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbW1hbmRTdGFydCBzb3VyY2VzQ29uZmlnLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2VzQ29uZmlnfG51bGx8dW5kZWZpbmVkfSBzb3VyY2VzQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRTdGFydC5wcm90b3R5cGUuc291cmNlc0NvbmZpZyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb21tYW5kU3RhcnQgcnVudGltZUNvbmZpZy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUnVudGltZUNvbmZpZ3xudWxsfHVuZGVmaW5lZH0gcnVudGltZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kU3RhcnQucHJvdG90eXBlLnJ1bnRpbWVDb25maWcgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZFN0YXJ0IHN1cHBvcnRDb2RlQ29uZmlnLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTdXBwb3J0Q29kZUNvbmZpZ3xudWxsfHVuZGVmaW5lZH0gc3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFN0YXJ0LnByb3RvdHlwZS5zdXBwb3J0Q29kZUNvbmZpZyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IENvbW1hbmRTdGFydCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZFN0YXJ0PX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydH0gQ29tbWFuZFN0YXJ0IGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFN0YXJ0LmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tbWFuZFN0YXJ0KHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgQ29tbWFuZFN0YXJ0IG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kU3RhcnR9IG1lc3NhZ2UgQ29tbWFuZFN0YXJ0IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kU3RhcnQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmJhc2VEaXJlY3RvcnkgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYmFzZURpcmVjdG9yeVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2UuYmFzZURpcmVjdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNvdXJjZXNDb25maWcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic291cmNlc0NvbmZpZ1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNDb25maWcuZW5jb2RlKG1lc3NhZ2Uuc291cmNlc0NvbmZpZywgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5ydW50aW1lQ29uZmlnICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInJ1bnRpbWVDb25maWdcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5SdW50aW1lQ29uZmlnLmVuY29kZShtZXNzYWdlLnJ1bnRpbWVDb25maWcsIHdyaXRlci51aW50MzIoLyogaWQgNCwgd2lyZVR5cGUgMiA9Ki8zNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3VwcG9ydENvZGVDb25maWcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic3VwcG9ydENvZGVDb25maWdcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZy5lbmNvZGUobWVzc2FnZS5zdXBwb3J0Q29kZUNvbmZpZywgd3JpdGVyLnVpbnQzMigvKiBpZCA1LCB3aXJlVHlwZSAyID0qLzQyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgQ29tbWFuZFN0YXJ0IG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kU3RhcnR9IG1lc3NhZ2UgQ29tbWFuZFN0YXJ0IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kU3RhcnQuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIENvbW1hbmRTdGFydCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydH0gQ29tbWFuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kU3RhcnQuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJhc2VEaXJlY3RvcnkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zb3VyY2VzQ29uZmlnID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucnVudGltZUNvbmZpZyA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlJ1bnRpbWVDb25maWcuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN1cHBvcnRDb2RlQ29uZmlnID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWcuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgQ29tbWFuZFN0YXJ0IG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydH0gQ29tbWFuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kU3RhcnQuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgQ29tbWFuZFN0YXJ0IG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kU3RhcnQudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYmFzZURpcmVjdG9yeSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJiYXNlRGlyZWN0b3J5XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmJhc2VEaXJlY3RvcnkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJhc2VEaXJlY3Rvcnk6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zb3VyY2VzQ29uZmlnICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZXNDb25maWdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNDb25maWcudmVyaWZ5KG1lc3NhZ2Uuc291cmNlc0NvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic291cmNlc0NvbmZpZy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnJ1bnRpbWVDb25maWcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicnVudGltZUNvbmZpZ1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZy52ZXJpZnkobWVzc2FnZS5ydW50aW1lQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJydW50aW1lQ29uZmlnLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3VwcG9ydENvZGVDb25maWcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic3VwcG9ydENvZGVDb25maWdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnLnZlcmlmeShtZXNzYWdlLnN1cHBvcnRDb2RlQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdXBwb3J0Q29kZUNvbmZpZy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgQ29tbWFuZFN0YXJ0IG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnR9IENvbW1hbmRTdGFydFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRTdGFydC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRTdGFydCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmJhc2VEaXJlY3RvcnkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmFzZURpcmVjdG9yeSA9IFN0cmluZyhvYmplY3QuYmFzZURpcmVjdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Quc291cmNlc0NvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5zb3VyY2VzQ29uZmlnICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnQuc291cmNlc0NvbmZpZzogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zb3VyY2VzQ29uZmlnID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZy5mcm9tT2JqZWN0KG9iamVjdC5zb3VyY2VzQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnJ1bnRpbWVDb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QucnVudGltZUNvbmZpZyAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFN0YXJ0LnJ1bnRpbWVDb25maWc6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucnVudGltZUNvbmZpZyA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlJ1bnRpbWVDb25maWcuZnJvbU9iamVjdChvYmplY3QucnVudGltZUNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5zdXBwb3J0Q29kZUNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5zdXBwb3J0Q29kZUNvbmZpZyAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFN0YXJ0LnN1cHBvcnRDb2RlQ29uZmlnOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN1cHBvcnRDb2RlQ29uZmlnID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWcuZnJvbU9iamVjdChvYmplY3Quc3VwcG9ydENvZGVDb25maWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBDb21tYW5kU3RhcnQgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kU3RhcnR9IG1lc3NhZ2UgQ29tbWFuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kU3RhcnQudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmJhc2VEaXJlY3RvcnkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNvdXJjZXNDb25maWcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnJ1bnRpbWVDb25maWcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN1cHBvcnRDb2RlQ29uZmlnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5iYXNlRGlyZWN0b3J5ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImJhc2VEaXJlY3RvcnlcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYmFzZURpcmVjdG9yeSA9IG1lc3NhZ2UuYmFzZURpcmVjdG9yeTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc291cmNlc0NvbmZpZyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VzQ29uZmlnXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNvdXJjZXNDb25maWcgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnLnRvT2JqZWN0KG1lc3NhZ2Uuc291cmNlc0NvbmZpZywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnJ1bnRpbWVDb25maWcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicnVudGltZUNvbmZpZ1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5ydW50aW1lQ29uZmlnID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZy50b09iamVjdChtZXNzYWdlLnJ1bnRpbWVDb25maWcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdXBwb3J0Q29kZUNvbmZpZyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdXBwb3J0Q29kZUNvbmZpZ1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdXBwb3J0Q29kZUNvbmZpZyA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnLnRvT2JqZWN0KG1lc3NhZ2Uuc3VwcG9ydENvZGVDb25maWcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIENvbW1hbmRTdGFydCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRTdGFydC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbW1hbmRTdGFydDtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlNvdXJjZXNDb25maWcgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgU291cmNlc0NvbmZpZy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElTb3VyY2VzQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtBcnJheS48c3RyaW5nPnxudWxsfSBbYWJzb2x1dGVQYXRoc10gU291cmNlc0NvbmZpZyBhYnNvbHV0ZVBhdGhzXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2xhbmd1YWdlXSBTb3VyY2VzQ29uZmlnIGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlc0ZpbHRlckNvbmZpZ3xudWxsfSBbZmlsdGVyc10gU291cmNlc0NvbmZpZyBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlc09yZGVyfG51bGx9IFtvcmRlcl0gU291cmNlc0NvbmZpZyBvcmRlclxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBTb3VyY2VzQ29uZmlnLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFNvdXJjZXNDb25maWcuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVNvdXJjZXNDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2VzQ29uZmlnPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gU291cmNlc0NvbmZpZyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJzb2x1dGVQYXRocyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNvdXJjZXNDb25maWcgYWJzb2x1dGVQYXRocy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48c3RyaW5nPn0gYWJzb2x1dGVQYXRoc1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc0NvbmZpZy5wcm90b3R5cGUuYWJzb2x1dGVQYXRocyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTb3VyY2VzQ29uZmlnIGxhbmd1YWdlLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNDb25maWcucHJvdG90eXBlLmxhbmd1YWdlID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNvdXJjZXNDb25maWcgZmlsdGVycy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlc0ZpbHRlckNvbmZpZ3xudWxsfHVuZGVmaW5lZH0gZmlsdGVyc1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc0NvbmZpZy5wcm90b3R5cGUuZmlsdGVycyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTb3VyY2VzQ29uZmlnIG9yZGVyLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2VzT3JkZXJ8bnVsbHx1bmRlZmluZWR9IG9yZGVyXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzQ29uZmlnLnByb3RvdHlwZS5vcmRlciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFNvdXJjZXNDb25maWcgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2VzQ29uZmlnPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNDb25maWd9IFNvdXJjZXNDb25maWcgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzQ29uZmlnLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU291cmNlc0NvbmZpZyhwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFNvdXJjZXNDb25maWcgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZy52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlc0NvbmZpZ30gbWVzc2FnZSBTb3VyY2VzQ29uZmlnIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzQ29uZmlnLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hYnNvbHV0ZVBhdGhzICE9IG51bGwgJiYgbWVzc2FnZS5hYnNvbHV0ZVBhdGhzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5hYnNvbHV0ZVBhdGhzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UuYWJzb2x1dGVQYXRoc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxhbmd1YWdlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxhbmd1YWdlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5zdHJpbmcobWVzc2FnZS5sYW5ndWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmZpbHRlcnMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiZmlsdGVyc1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWcuZW5jb2RlKG1lc3NhZ2UuZmlsdGVycywgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5vcmRlciAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJvcmRlclwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNPcmRlci5lbmNvZGUobWVzc2FnZS5vcmRlciwgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgU291cmNlc0NvbmZpZyBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTb3VyY2VzQ29uZmlnfSBtZXNzYWdlIFNvdXJjZXNDb25maWcgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNDb25maWcuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFNvdXJjZXNDb25maWcgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZ30gU291cmNlc0NvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc0NvbmZpZy5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLmFic29sdXRlUGF0aHMgJiYgbWVzc2FnZS5hYnNvbHV0ZVBhdGhzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWJzb2x1dGVQYXRocyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWJzb2x1dGVQYXRocy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sYW5ndWFnZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZpbHRlcnMgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vcmRlciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNPcmRlci5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBTb3VyY2VzQ29uZmlnIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnfSBTb3VyY2VzQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzQ29uZmlnLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFNvdXJjZXNDb25maWcgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzQ29uZmlnLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFic29sdXRlUGF0aHMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYWJzb2x1dGVQYXRoc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UuYWJzb2x1dGVQYXRocykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYWJzb2x1dGVQYXRoczogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5hYnNvbHV0ZVBhdGhzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5hYnNvbHV0ZVBhdGhzW2ldKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYWJzb2x1dGVQYXRoczogc3RyaW5nW10gZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5sYW5ndWFnZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJsYW5ndWFnZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5sYW5ndWFnZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFuZ3VhZ2U6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5maWx0ZXJzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImZpbHRlcnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWcudmVyaWZ5KG1lc3NhZ2UuZmlsdGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZmlsdGVycy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm9yZGVyICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm9yZGVyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXIudmVyaWZ5KG1lc3NhZ2Uub3JkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9yZGVyLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBTb3VyY2VzQ29uZmlnIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZ30gU291cmNlc0NvbmZpZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNDb25maWcuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmFic29sdXRlUGF0aHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QuYWJzb2x1dGVQYXRocykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNDb25maWcuYWJzb2x1dGVQYXRoczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFic29sdXRlUGF0aHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LmFic29sdXRlUGF0aHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hYnNvbHV0ZVBhdGhzW2ldID0gU3RyaW5nKG9iamVjdC5hYnNvbHV0ZVBhdGhzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lmxhbmd1YWdlICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxhbmd1YWdlID0gU3RyaW5nKG9iamVjdC5sYW5ndWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuZmlsdGVycyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5maWx0ZXJzICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnLmZpbHRlcnM6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmlsdGVycyA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWcuZnJvbU9iamVjdChvYmplY3QuZmlsdGVycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5vcmRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5vcmRlciAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZy5vcmRlcjogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vcmRlciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNPcmRlci5mcm9tT2JqZWN0KG9iamVjdC5vcmRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFNvdXJjZXNDb25maWcgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZ30gbWVzc2FnZSBTb3VyY2VzQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzQ29uZmlnLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYWJzb2x1dGVQYXRocyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lmxhbmd1YWdlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5vcmRlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWJzb2x1dGVQYXRocyAmJiBtZXNzYWdlLmFic29sdXRlUGF0aHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYWJzb2x1dGVQYXRocyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLmFic29sdXRlUGF0aHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFic29sdXRlUGF0aHNbal0gPSBtZXNzYWdlLmFic29sdXRlUGF0aHNbal07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGFuZ3VhZ2UgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibGFuZ3VhZ2VcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubGFuZ3VhZ2UgPSBtZXNzYWdlLmxhbmd1YWdlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5maWx0ZXJzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImZpbHRlcnNcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZmlsdGVycyA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWcudG9PYmplY3QobWVzc2FnZS5maWx0ZXJzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uub3JkZXIgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwib3JkZXJcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Qub3JkZXIgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXIudG9PYmplY3QobWVzc2FnZS5vcmRlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgU291cmNlc0NvbmZpZyB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0NvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzQ29uZmlnLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gU291cmNlc0NvbmZpZztcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWcgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgU291cmNlc0ZpbHRlckNvbmZpZy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElTb3VyY2VzRmlsdGVyQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW3RhZ0V4cHJlc3Npb25dIFNvdXJjZXNGaWx0ZXJDb25maWcgdGFnRXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz58bnVsbH0gW25hbWVSZWd1bGFyRXhwcmVzc2lvbnNdIFNvdXJjZXNGaWx0ZXJDb25maWcgbmFtZVJlZ3VsYXJFeHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLklVcmlUb0xpbmVzTWFwcGluZz58bnVsbH0gW3VyaVRvTGluZXNNYXBwaW5nXSBTb3VyY2VzRmlsdGVyQ29uZmlnIHVyaVRvTGluZXNNYXBwaW5nXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFNvdXJjZXNGaWx0ZXJDb25maWcuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgU291cmNlc0ZpbHRlckNvbmZpZy5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJU291cmNlc0ZpbHRlckNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZXNGaWx0ZXJDb25maWc9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBTb3VyY2VzRmlsdGVyQ29uZmlnKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lUmVndWxhckV4cHJlc3Npb25zID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXJpVG9MaW5lc01hcHBpbmcgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTb3VyY2VzRmlsdGVyQ29uZmlnIHRhZ0V4cHJlc3Npb24uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB0YWdFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzRmlsdGVyQ29uZmlnLnByb3RvdHlwZS50YWdFeHByZXNzaW9uID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNvdXJjZXNGaWx0ZXJDb25maWcgbmFtZVJlZ3VsYXJFeHByZXNzaW9ucy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48c3RyaW5nPn0gbmFtZVJlZ3VsYXJFeHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc0ZpbHRlckNvbmZpZy5wcm90b3R5cGUubmFtZVJlZ3VsYXJFeHByZXNzaW9ucyA9ICR1dGlsLmVtcHR5QXJyYXk7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTb3VyY2VzRmlsdGVyQ29uZmlnIHVyaVRvTGluZXNNYXBwaW5nLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JVXJpVG9MaW5lc01hcHBpbmc+fSB1cmlUb0xpbmVzTWFwcGluZ1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc0ZpbHRlckNvbmZpZy5wcm90b3R5cGUudXJpVG9MaW5lc01hcHBpbmcgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBTb3VyY2VzRmlsdGVyQ29uZmlnIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlc0ZpbHRlckNvbmZpZz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnfSBTb3VyY2VzRmlsdGVyQ29uZmlnIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc0ZpbHRlckNvbmZpZy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNvdXJjZXNGaWx0ZXJDb25maWcocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBTb3VyY2VzRmlsdGVyQ29uZmlnIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWcudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZXNGaWx0ZXJDb25maWd9IG1lc3NhZ2UgU291cmNlc0ZpbHRlckNvbmZpZyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc0ZpbHRlckNvbmZpZy5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFnRXhwcmVzc2lvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0YWdFeHByZXNzaW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS50YWdFeHByZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZVJlZ3VsYXJFeHByZXNzaW9ucyAhPSBudWxsICYmIG1lc3NhZ2UubmFtZVJlZ3VsYXJFeHByZXNzaW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UubmFtZVJlZ3VsYXJFeHByZXNzaW9ucy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLnN0cmluZyhtZXNzYWdlLm5hbWVSZWd1bGFyRXhwcmVzc2lvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51cmlUb0xpbmVzTWFwcGluZyAhPSBudWxsICYmIG1lc3NhZ2UudXJpVG9MaW5lc01hcHBpbmcubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnVyaVRvTGluZXNNYXBwaW5nLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nLmVuY29kZShtZXNzYWdlLnVyaVRvTGluZXNNYXBwaW5nW2ldLCB3cml0ZXIudWludDMyKC8qIGlkIDMsIHdpcmVUeXBlIDIgPSovMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBTb3VyY2VzRmlsdGVyQ29uZmlnIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWcudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZXNGaWx0ZXJDb25maWd9IG1lc3NhZ2UgU291cmNlc0ZpbHRlckNvbmZpZyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc0ZpbHRlckNvbmZpZy5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgU291cmNlc0ZpbHRlckNvbmZpZyBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0ZpbHRlckNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnfSBTb3VyY2VzRmlsdGVyQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzRmlsdGVyQ29uZmlnLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWcoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFnRXhwcmVzc2lvbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLm5hbWVSZWd1bGFyRXhwcmVzc2lvbnMgJiYgbWVzc2FnZS5uYW1lUmVndWxhckV4cHJlc3Npb25zLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZVJlZ3VsYXJFeHByZXNzaW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZVJlZ3VsYXJFeHByZXNzaW9ucy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS51cmlUb0xpbmVzTWFwcGluZyAmJiBtZXNzYWdlLnVyaVRvTGluZXNNYXBwaW5nLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJpVG9MaW5lc01hcHBpbmcgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnVyaVRvTGluZXNNYXBwaW5nLnB1c2goJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVXJpVG9MaW5lc01hcHBpbmcuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFNvdXJjZXNGaWx0ZXJDb25maWcgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWd9IFNvdXJjZXNGaWx0ZXJDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNGaWx0ZXJDb25maWcuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgU291cmNlc0ZpbHRlckNvbmZpZyBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0ZpbHRlckNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNGaWx0ZXJDb25maWcudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFnRXhwcmVzc2lvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0YWdFeHByZXNzaW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnRhZ0V4cHJlc3Npb24pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhZ0V4cHJlc3Npb246IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5uYW1lUmVndWxhckV4cHJlc3Npb25zICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVSZWd1bGFyRXhwcmVzc2lvbnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLm5hbWVSZWd1bGFyRXhwcmVzc2lvbnMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm5hbWVSZWd1bGFyRXhwcmVzc2lvbnM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UubmFtZVJlZ3VsYXJFeHByZXNzaW9ucy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UubmFtZVJlZ3VsYXJFeHByZXNzaW9uc1tpXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm5hbWVSZWd1bGFyRXhwcmVzc2lvbnM6IHN0cmluZ1tdIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudXJpVG9MaW5lc01hcHBpbmcgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidXJpVG9MaW5lc01hcHBpbmdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnVyaVRvTGluZXNNYXBwaW5nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ1cmlUb0xpbmVzTWFwcGluZzogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS51cmlUb0xpbmVzTWFwcGluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nLnZlcmlmeShtZXNzYWdlLnVyaVRvTGluZXNNYXBwaW5nW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInVyaVRvTGluZXNNYXBwaW5nLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBTb3VyY2VzRmlsdGVyQ29uZmlnIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0ZpbHRlckNvbmZpZ30gU291cmNlc0ZpbHRlckNvbmZpZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNGaWx0ZXJDb25maWcuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0ZpbHRlckNvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRhZ0V4cHJlc3Npb24gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFnRXhwcmVzc2lvbiA9IFN0cmluZyhvYmplY3QudGFnRXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubmFtZVJlZ3VsYXJFeHByZXNzaW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdC5uYW1lUmVndWxhckV4cHJlc3Npb25zKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0ZpbHRlckNvbmZpZy5uYW1lUmVndWxhckV4cHJlc3Npb25zOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZVJlZ3VsYXJFeHByZXNzaW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QubmFtZVJlZ3VsYXJFeHByZXNzaW9ucy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbWVSZWd1bGFyRXhwcmVzc2lvbnNbaV0gPSBTdHJpbmcob2JqZWN0Lm5hbWVSZWd1bGFyRXhwcmVzc2lvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudXJpVG9MaW5lc01hcHBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QudXJpVG9MaW5lc01hcHBpbmcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnLnVyaVRvTGluZXNNYXBwaW5nOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJpVG9MaW5lc01hcHBpbmcgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LnVyaVRvTGluZXNNYXBwaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QudXJpVG9MaW5lc01hcHBpbmdbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnLnVyaVRvTGluZXNNYXBwaW5nOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51cmlUb0xpbmVzTWFwcGluZ1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nLmZyb21PYmplY3Qob2JqZWN0LnVyaVRvTGluZXNNYXBwaW5nW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgU291cmNlc0ZpbHRlckNvbmZpZyBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNGaWx0ZXJDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzRmlsdGVyQ29uZmlnfSBtZXNzYWdlIFNvdXJjZXNGaWx0ZXJDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNGaWx0ZXJDb25maWcudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcnJheXMgfHwgb3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWVSZWd1bGFyRXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC51cmlUb0xpbmVzTWFwcGluZyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRhZ0V4cHJlc3Npb24gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWdFeHByZXNzaW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRhZ0V4cHJlc3Npb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGFnRXhwcmVzc2lvbiA9IG1lc3NhZ2UudGFnRXhwcmVzc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZVJlZ3VsYXJFeHByZXNzaW9ucyAmJiBtZXNzYWdlLm5hbWVSZWd1bGFyRXhwcmVzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZVJlZ3VsYXJFeHByZXNzaW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLm5hbWVSZWd1bGFyRXhwcmVzc2lvbnMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWVSZWd1bGFyRXhwcmVzc2lvbnNbal0gPSBtZXNzYWdlLm5hbWVSZWd1bGFyRXhwcmVzc2lvbnNbal07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudXJpVG9MaW5lc01hcHBpbmcgJiYgbWVzc2FnZS51cmlUb0xpbmVzTWFwcGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC51cmlUb0xpbmVzTWFwcGluZyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZXNzYWdlLnVyaVRvTGluZXNNYXBwaW5nLmxlbmd0aDsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC51cmlUb0xpbmVzTWFwcGluZ1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nLnRvT2JqZWN0KG1lc3NhZ2UudXJpVG9MaW5lc01hcHBpbmdbal0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgU291cmNlc0ZpbHRlckNvbmZpZyB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc0ZpbHRlckNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzRmlsdGVyQ29uZmlnLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gU291cmNlc0ZpbHRlckNvbmZpZztcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhbiBVcmlUb0xpbmVzTWFwcGluZy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElVcmlUb0xpbmVzTWFwcGluZ1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFthYnNvbHV0ZVBhdGhdIFVyaVRvTGluZXNNYXBwaW5nIGFic29sdXRlUGF0aFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPG51bWJlcnxMb25nPnxudWxsfSBbbGluZXNdIFVyaVRvTGluZXNNYXBwaW5nIGxpbmVzXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFVyaVRvTGluZXNNYXBwaW5nLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhbiBVcmlUb0xpbmVzTWFwcGluZy5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJVXJpVG9MaW5lc01hcHBpbmdcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklVcmlUb0xpbmVzTWFwcGluZz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFVyaVRvTGluZXNNYXBwaW5nKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFVyaVRvTGluZXNNYXBwaW5nIGFic29sdXRlUGF0aC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGFic29sdXRlUGF0aFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5VcmlUb0xpbmVzTWFwcGluZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFVyaVRvTGluZXNNYXBwaW5nLnByb3RvdHlwZS5hYnNvbHV0ZVBhdGggPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVXJpVG9MaW5lc01hcHBpbmcgbGluZXMuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7QXJyYXkuPG51bWJlcnxMb25nPn0gbGluZXNcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVXJpVG9MaW5lc01hcHBpbmdcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBVcmlUb0xpbmVzTWFwcGluZy5wcm90b3R5cGUubGluZXMgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBVcmlUb0xpbmVzTWFwcGluZyBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5VcmlUb0xpbmVzTWFwcGluZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklVcmlUb0xpbmVzTWFwcGluZz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5VcmlUb0xpbmVzTWFwcGluZ30gVXJpVG9MaW5lc01hcHBpbmcgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBVcmlUb0xpbmVzTWFwcGluZy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVyaVRvTGluZXNNYXBwaW5nKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgVXJpVG9MaW5lc01hcHBpbmcgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuVXJpVG9MaW5lc01hcHBpbmcudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5VcmlUb0xpbmVzTWFwcGluZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklVcmlUb0xpbmVzTWFwcGluZ30gbWVzc2FnZSBVcmlUb0xpbmVzTWFwcGluZyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVXJpVG9MaW5lc01hcHBpbmcuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFic29sdXRlUGF0aCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhYnNvbHV0ZVBhdGhcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLnN0cmluZyhtZXNzYWdlLmFic29sdXRlUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxpbmVzICE9IG51bGwgJiYgbWVzc2FnZS5saW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLmxpbmVzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50NjQobWVzc2FnZS5saW5lc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFVyaVRvTGluZXNNYXBwaW5nIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVXJpVG9MaW5lc01hcHBpbmdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JVXJpVG9MaW5lc01hcHBpbmd9IG1lc3NhZ2UgVXJpVG9MaW5lc01hcHBpbmcgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFVyaVRvTGluZXNNYXBwaW5nLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYW4gVXJpVG9MaW5lc01hcHBpbmcgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nfSBVcmlUb0xpbmVzTWFwcGluZ1xuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVXJpVG9MaW5lc01hcHBpbmcuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVXJpVG9MaW5lc01hcHBpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWJzb2x1dGVQYXRoID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2UubGluZXMgJiYgbWVzc2FnZS5saW5lcy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxpbmVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGluZXMucHVzaChyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxpbmVzLnB1c2gocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGFuIFVyaVRvTGluZXNNYXBwaW5nIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5VcmlUb0xpbmVzTWFwcGluZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuVXJpVG9MaW5lc01hcHBpbmd9IFVyaVRvTGluZXNNYXBwaW5nXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBVcmlUb0xpbmVzTWFwcGluZy5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYW4gVXJpVG9MaW5lc01hcHBpbmcgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgVXJpVG9MaW5lc01hcHBpbmcudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWJzb2x1dGVQYXRoICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFic29sdXRlUGF0aFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5hYnNvbHV0ZVBhdGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFic29sdXRlUGF0aDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxpbmVzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImxpbmVzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZS5saW5lcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGluZXM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UubGluZXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc0ludGVnZXIobWVzc2FnZS5saW5lc1tpXSkgJiYgIShtZXNzYWdlLmxpbmVzW2ldICYmICR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLmxpbmVzW2ldLmxvdykgJiYgJHV0aWwuaXNJbnRlZ2VyKG1lc3NhZ2UubGluZXNbaV0uaGlnaCkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsaW5lczogaW50ZWdlcnxMb25nW10gZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhbiBVcmlUb0xpbmVzTWFwcGluZyBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuVXJpVG9MaW5lc01hcHBpbmdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5VcmlUb0xpbmVzTWFwcGluZ30gVXJpVG9MaW5lc01hcHBpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBVcmlUb0xpbmVzTWFwcGluZy5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVXJpVG9MaW5lc01hcHBpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5hYnNvbHV0ZVBhdGggIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWJzb2x1dGVQYXRoID0gU3RyaW5nKG9iamVjdC5hYnNvbHV0ZVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmxpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LmxpbmVzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuVXJpVG9MaW5lc01hcHBpbmcubGluZXM6IGFycmF5IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5saW5lcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QubGluZXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR1dGlsLkxvbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtZXNzYWdlLmxpbmVzW2ldID0gJHV0aWwuTG9uZy5mcm9tVmFsdWUob2JqZWN0LmxpbmVzW2ldKSkudW5zaWduZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QubGluZXNbaV0gPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGluZXNbaV0gPSBwYXJzZUludChvYmplY3QubGluZXNbaV0sIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0LmxpbmVzW2ldID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxpbmVzW2ldID0gb2JqZWN0LmxpbmVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QubGluZXNbaV0gPT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGluZXNbaV0gPSBuZXcgJHV0aWwuTG9uZ0JpdHMob2JqZWN0LmxpbmVzW2ldLmxvdyA+Pj4gMCwgb2JqZWN0LmxpbmVzW2ldLmhpZ2ggPj4+IDApLnRvTnVtYmVyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYW4gVXJpVG9MaW5lc01hcHBpbmcgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5VcmlUb0xpbmVzTWFwcGluZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlVyaVRvTGluZXNNYXBwaW5nfSBtZXNzYWdlIFVyaVRvTGluZXNNYXBwaW5nXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBVcmlUb0xpbmVzTWFwcGluZy50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFycmF5cyB8fCBvcHRpb25zLmRlZmF1bHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmxpbmVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFic29sdXRlUGF0aCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFic29sdXRlUGF0aCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhYnNvbHV0ZVBhdGhcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYWJzb2x1dGVQYXRoID0gbWVzc2FnZS5hYnNvbHV0ZVBhdGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmxpbmVzICYmIG1lc3NhZ2UubGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubGluZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5saW5lcy5sZW5ndGg7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UubGluZXNbal0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5saW5lc1tqXSA9IG9wdGlvbnMubG9uZ3MgPT09IFN0cmluZyA/IFN0cmluZyhtZXNzYWdlLmxpbmVzW2pdKSA6IG1lc3NhZ2UubGluZXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubGluZXNbal0gPSBvcHRpb25zLmxvbmdzID09PSBTdHJpbmcgPyAkdXRpbC5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG1lc3NhZ2UubGluZXNbal0pIDogb3B0aW9ucy5sb25ncyA9PT0gTnVtYmVyID8gbmV3ICR1dGlsLkxvbmdCaXRzKG1lc3NhZ2UubGluZXNbal0ubG93ID4+PiAwLCBtZXNzYWdlLmxpbmVzW2pdLmhpZ2ggPj4+IDApLnRvTnVtYmVyKHRydWUpIDogbWVzc2FnZS5saW5lc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFVyaVRvTGluZXNNYXBwaW5nIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5VcmlUb0xpbmVzTWFwcGluZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBVcmlUb0xpbmVzTWFwcGluZy5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFVyaVRvTGluZXNNYXBwaW5nO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuU291cmNlc09yZGVyID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFNvdXJjZXNPcmRlci5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElTb3VyY2VzT3JkZXJcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNPcmRlclR5cGV8bnVsbH0gW3R5cGVdIFNvdXJjZXNPcmRlciB0eXBlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ8TG9uZ3xudWxsfSBbc2VlZF0gU291cmNlc09yZGVyIHNlZWRcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgU291cmNlc09yZGVyLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFNvdXJjZXNPcmRlci5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJU291cmNlc09yZGVyXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlc09yZGVyPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gU291cmNlc09yZGVyKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTb3VyY2VzT3JkZXIgdHlwZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXJUeXBlfSB0eXBlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNPcmRlclxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNPcmRlci5wcm90b3R5cGUudHlwZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTb3VyY2VzT3JkZXIgc2VlZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ8TG9uZ30gc2VlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXJcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzT3JkZXIucHJvdG90eXBlLnNlZWQgPSAkdXRpbC5Mb25nID8gJHV0aWwuTG9uZy5mcm9tQml0cygwLDAsdHJ1ZSkgOiAwO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBTb3VyY2VzT3JkZXIgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc09yZGVyXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZXNPcmRlcj19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXJ9IFNvdXJjZXNPcmRlciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNPcmRlci5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNvdXJjZXNPcmRlcihwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFNvdXJjZXNPcmRlciBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXIudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXJcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlc09yZGVyfSBtZXNzYWdlIFNvdXJjZXNPcmRlciBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc09yZGVyLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDAgPSovOCkuaW50MzIobWVzc2FnZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc2VlZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzZWVkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAwID0qLzE2KS51aW50NjQobWVzc2FnZS5zZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFNvdXJjZXNPcmRlciBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXIudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXJcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlc09yZGVyfSBtZXNzYWdlIFNvdXJjZXNPcmRlciBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc09yZGVyLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBTb3VyY2VzT3JkZXIgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNPcmRlclxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXJ9IFNvdXJjZXNPcmRlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU291cmNlc09yZGVyLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNPcmRlcigpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZWVkID0gcmVhZGVyLnVpbnQ2NCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBTb3VyY2VzT3JkZXIgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNPcmRlclxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc09yZGVyfSBTb3VyY2VzT3JkZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNPcmRlci5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBTb3VyY2VzT3JkZXIgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZXNPcmRlclxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNPcmRlci52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0eXBlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNlZWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic2VlZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNJbnRlZ2VyKG1lc3NhZ2Uuc2VlZCkgJiYgIShtZXNzYWdlLnNlZWQgJiYgJHV0aWwuaXNJbnRlZ2VyKG1lc3NhZ2Uuc2VlZC5sb3cpICYmICR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLnNlZWQuaGlnaCkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInNlZWQ6IGludGVnZXJ8TG9uZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFNvdXJjZXNPcmRlciBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc09yZGVyXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc09yZGVyfSBTb3VyY2VzT3JkZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzT3JkZXIuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvYmplY3QudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiT1JERVJfT0ZfREVGSU5JVElPTlwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR5cGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSQU5ET01cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eXBlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Quc2VlZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR1dGlsLkxvbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1lc3NhZ2Uuc2VlZCA9ICR1dGlsLkxvbmcuZnJvbVZhbHVlKG9iamVjdC5zZWVkKSkudW5zaWduZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9iamVjdC5zZWVkID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VlZCA9IHBhcnNlSW50KG9iamVjdC5zZWVkLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0LnNlZWQgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZWVkID0gb2JqZWN0LnNlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0LnNlZWQgPT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZWVkID0gbmV3ICR1dGlsLkxvbmdCaXRzKG9iamVjdC5zZWVkLmxvdyA+Pj4gMCwgb2JqZWN0LnNlZWQuaGlnaCA+Pj4gMCkudG9OdW1iZXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBTb3VyY2VzT3JkZXIgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXJcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXJ9IG1lc3NhZ2UgU291cmNlc09yZGVyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTb3VyY2VzT3JkZXIudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnR5cGUgPSBvcHRpb25zLmVudW1zID09PSBTdHJpbmcgPyBcIk9SREVSX09GX0RFRklOSVRJT05cIiA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHV0aWwuTG9uZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nID0gbmV3ICR1dGlsLkxvbmcoMCwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNlZWQgPSBvcHRpb25zLmxvbmdzID09PSBTdHJpbmcgPyBsb25nLnRvU3RyaW5nKCkgOiBvcHRpb25zLmxvbmdzID09PSBOdW1iZXIgPyBsb25nLnRvTnVtYmVyKCkgOiBsb25nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNlZWQgPSBvcHRpb25zLmxvbmdzID09PSBTdHJpbmcgPyBcIjBcIiA6IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnR5cGUgPSBvcHRpb25zLmVudW1zID09PSBTdHJpbmcgPyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VzT3JkZXJUeXBlW21lc3NhZ2UudHlwZV0gOiBtZXNzYWdlLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNlZWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic2VlZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5zZWVkID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zZWVkID0gb3B0aW9ucy5sb25ncyA9PT0gU3RyaW5nID8gU3RyaW5nKG1lc3NhZ2Uuc2VlZCkgOiBtZXNzYWdlLnNlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNlZWQgPSBvcHRpb25zLmxvbmdzID09PSBTdHJpbmcgPyAkdXRpbC5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG1lc3NhZ2Uuc2VlZCkgOiBvcHRpb25zLmxvbmdzID09PSBOdW1iZXIgPyBuZXcgJHV0aWwuTG9uZ0JpdHMobWVzc2FnZS5zZWVkLmxvdyA+Pj4gMCwgbWVzc2FnZS5zZWVkLmhpZ2ggPj4+IDApLnRvTnVtYmVyKHRydWUpIDogbWVzc2FnZS5zZWVkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFNvdXJjZXNPcmRlciB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc09yZGVyXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFNvdXJjZXNPcmRlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNvdXJjZXNPcmRlcjtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU291cmNlc09yZGVyVHlwZSBlbnVtLlxuICAgICAgICAgICAgICogQG5hbWUgaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlc09yZGVyVHlwZVxuICAgICAgICAgICAgICogQGVudW0ge3N0cmluZ31cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPUkRFUl9PRl9ERUZJTklUSU9OPTAgT1JERVJfT0ZfREVGSU5JVElPTiB2YWx1ZVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFJBTkRPTT0xIFJBTkRPTSB2YWx1ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtZXNzYWdlcy5Tb3VyY2VzT3JkZXJUeXBlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXNCeUlkID0ge30sIHZhbHVlcyA9IE9iamVjdC5jcmVhdGUodmFsdWVzQnlJZCk7XG4gICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlc0J5SWRbMF0gPSBcIk9SREVSX09GX0RFRklOSVRJT05cIl0gPSAwO1xuICAgICAgICAgICAgICAgIHZhbHVlc1t2YWx1ZXNCeUlkWzFdID0gXCJSQU5ET01cIl0gPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5SdW50aW1lQ29uZmlnID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFJ1bnRpbWVDb25maWcuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJUnVudGltZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbnxudWxsfSBbaXNGYWlsRmFzdF0gUnVudGltZUNvbmZpZyBpc0ZhaWxGYXN0XG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufG51bGx9IFtpc0RyeVJ1bl0gUnVudGltZUNvbmZpZyBpc0RyeVJ1blxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbnxudWxsfSBbaXNTdHJpY3RdIFJ1bnRpbWVDb25maWcgaXNTdHJpY3RcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcnxMb25nfG51bGx9IFttYXhQYXJhbGxlbF0gUnVudGltZUNvbmZpZyBtYXhQYXJhbGxlbFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBSdW50aW1lQ29uZmlnLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIFJ1bnRpbWVDb25maWcuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVJ1bnRpbWVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklSdW50aW1lQ29uZmlnPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gUnVudGltZUNvbmZpZyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUnVudGltZUNvbmZpZyBpc0ZhaWxGYXN0LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IGlzRmFpbEZhc3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFJ1bnRpbWVDb25maWcucHJvdG90eXBlLmlzRmFpbEZhc3QgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJ1bnRpbWVDb25maWcgaXNEcnlSdW4uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn0gaXNEcnlSdW5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFJ1bnRpbWVDb25maWcucHJvdG90eXBlLmlzRHJ5UnVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSdW50aW1lQ29uZmlnIGlzU3RyaWN0LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IGlzU3RyaWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlJ1bnRpbWVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBSdW50aW1lQ29uZmlnLnByb3RvdHlwZS5pc1N0cmljdCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUnVudGltZUNvbmZpZyBtYXhQYXJhbGxlbC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ8TG9uZ30gbWF4UGFyYWxsZWxcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFJ1bnRpbWVDb25maWcucHJvdG90eXBlLm1heFBhcmFsbGVsID0gJHV0aWwuTG9uZyA/ICR1dGlsLkxvbmcuZnJvbUJpdHMoMCwwLHRydWUpIDogMDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgUnVudGltZUNvbmZpZyBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5SdW50aW1lQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVJ1bnRpbWVDb25maWc9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZ30gUnVudGltZUNvbmZpZyBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFJ1bnRpbWVDb25maWcuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lQ29uZmlnKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgUnVudGltZUNvbmZpZyBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5SdW50aW1lQ29uZmlnLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklSdW50aW1lQ29uZmlnfSBtZXNzYWdlIFJ1bnRpbWVDb25maWcgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFJ1bnRpbWVDb25maWcuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlzRmFpbEZhc3QgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaXNGYWlsRmFzdFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMCA9Ki84KS5ib29sKG1lc3NhZ2UuaXNGYWlsRmFzdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlzRHJ5UnVuICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlzRHJ5UnVuXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAwID0qLzE2KS5ib29sKG1lc3NhZ2UuaXNEcnlSdW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pc1N0cmljdCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpc1N0cmljdFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMCA9Ki8yNCkuYm9vbChtZXNzYWdlLmlzU3RyaWN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubWF4UGFyYWxsZWwgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibWF4UGFyYWxsZWxcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDQsIHdpcmVUeXBlIDAgPSovMzIpLnVpbnQ2NChtZXNzYWdlLm1heFBhcmFsbGVsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFJ1bnRpbWVDb25maWcgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZy52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlJ1bnRpbWVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUnVudGltZUNvbmZpZ30gbWVzc2FnZSBSdW50aW1lQ29uZmlnIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBSdW50aW1lQ29uZmlnLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBSdW50aW1lQ29uZmlnIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5SdW50aW1lQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlJ1bnRpbWVDb25maWd9IFJ1bnRpbWVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFJ1bnRpbWVDb25maWcuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pc0ZhaWxGYXN0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlzRHJ5UnVuID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlzU3RyaWN0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heFBhcmFsbGVsID0gcmVhZGVyLnVpbnQ2NCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBSdW50aW1lQ29uZmlnIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5SdW50aW1lQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5SdW50aW1lQ29uZmlnfSBSdW50aW1lQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBSdW50aW1lQ29uZmlnLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFJ1bnRpbWVDb25maWcgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlJ1bnRpbWVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBSdW50aW1lQ29uZmlnLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlzRmFpbEZhc3QgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaXNGYWlsRmFzdFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5pc0ZhaWxGYXN0ICE9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJpc0ZhaWxGYXN0OiBib29sZWFuIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlzRHJ5UnVuICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlzRHJ5UnVuXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmlzRHJ5UnVuICE9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJpc0RyeVJ1bjogYm9vbGVhbiBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pc1N0cmljdCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpc1N0cmljdFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5pc1N0cmljdCAhPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaXNTdHJpY3Q6IGJvb2xlYW4gZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubWF4UGFyYWxsZWwgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwibWF4UGFyYWxsZWxcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLm1heFBhcmFsbGVsKSAmJiAhKG1lc3NhZ2UubWF4UGFyYWxsZWwgJiYgJHV0aWwuaXNJbnRlZ2VyKG1lc3NhZ2UubWF4UGFyYWxsZWwubG93KSAmJiAkdXRpbC5pc0ludGVnZXIobWVzc2FnZS5tYXhQYXJhbGxlbC5oaWdoKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWF4UGFyYWxsZWw6IGludGVnZXJ8TG9uZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIFJ1bnRpbWVDb25maWcgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlJ1bnRpbWVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5SdW50aW1lQ29uZmlnfSBSdW50aW1lQ29uZmlnXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUnVudGltZUNvbmZpZy5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlJ1bnRpbWVDb25maWcpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5SdW50aW1lQ29uZmlnKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaXNGYWlsRmFzdCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pc0ZhaWxGYXN0ID0gQm9vbGVhbihvYmplY3QuaXNGYWlsRmFzdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaXNEcnlSdW4gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaXNEcnlSdW4gPSBCb29sZWFuKG9iamVjdC5pc0RyeVJ1bik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaXNTdHJpY3QgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaXNTdHJpY3QgPSBCb29sZWFuKG9iamVjdC5pc1N0cmljdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubWF4UGFyYWxsZWwgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdXRpbC5Mb25nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtZXNzYWdlLm1heFBhcmFsbGVsID0gJHV0aWwuTG9uZy5mcm9tVmFsdWUob2JqZWN0Lm1heFBhcmFsbGVsKSkudW5zaWduZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9iamVjdC5tYXhQYXJhbGxlbCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heFBhcmFsbGVsID0gcGFyc2VJbnQob2JqZWN0Lm1heFBhcmFsbGVsLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0Lm1heFBhcmFsbGVsID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF4UGFyYWxsZWwgPSBvYmplY3QubWF4UGFyYWxsZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0Lm1heFBhcmFsbGVsID09PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF4UGFyYWxsZWwgPSBuZXcgJHV0aWwuTG9uZ0JpdHMob2JqZWN0Lm1heFBhcmFsbGVsLmxvdyA+Pj4gMCwgb2JqZWN0Lm1heFBhcmFsbGVsLmhpZ2ggPj4+IDApLnRvTnVtYmVyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgUnVudGltZUNvbmZpZyBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlJ1bnRpbWVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5SdW50aW1lQ29uZmlnfSBtZXNzYWdlIFJ1bnRpbWVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFJ1bnRpbWVDb25maWcudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlzRmFpbEZhc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pc0RyeVJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlzU3RyaWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHV0aWwuTG9uZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nID0gbmV3ICR1dGlsLkxvbmcoMCwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1heFBhcmFsbGVsID0gb3B0aW9ucy5sb25ncyA9PT0gU3RyaW5nID8gbG9uZy50b1N0cmluZygpIDogb3B0aW9ucy5sb25ncyA9PT0gTnVtYmVyID8gbG9uZy50b051bWJlcigpIDogbG9uZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tYXhQYXJhbGxlbCA9IG9wdGlvbnMubG9uZ3MgPT09IFN0cmluZyA/IFwiMFwiIDogMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pc0ZhaWxGYXN0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlzRmFpbEZhc3RcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaXNGYWlsRmFzdCA9IG1lc3NhZ2UuaXNGYWlsRmFzdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaXNEcnlSdW4gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaXNEcnlSdW5cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaXNEcnlSdW4gPSBtZXNzYWdlLmlzRHJ5UnVuO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pc1N0cmljdCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpc1N0cmljdFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pc1N0cmljdCA9IG1lc3NhZ2UuaXNTdHJpY3Q7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm1heFBhcmFsbGVsICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcIm1heFBhcmFsbGVsXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLm1heFBhcmFsbGVsID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tYXhQYXJhbGxlbCA9IG9wdGlvbnMubG9uZ3MgPT09IFN0cmluZyA/IFN0cmluZyhtZXNzYWdlLm1heFBhcmFsbGVsKSA6IG1lc3NhZ2UubWF4UGFyYWxsZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1heFBhcmFsbGVsID0gb3B0aW9ucy5sb25ncyA9PT0gU3RyaW5nID8gJHV0aWwuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChtZXNzYWdlLm1heFBhcmFsbGVsKSA6IG9wdGlvbnMubG9uZ3MgPT09IE51bWJlciA/IG5ldyAkdXRpbC5Mb25nQml0cyhtZXNzYWdlLm1heFBhcmFsbGVsLmxvdyA+Pj4gMCwgbWVzc2FnZS5tYXhQYXJhbGxlbC5oaWdoID4+PiAwKS50b051bWJlcih0cnVlKSA6IG1lc3NhZ2UubWF4UGFyYWxsZWw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgUnVudGltZUNvbmZpZyB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUnVudGltZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBSdW50aW1lQ29uZmlnLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUnVudGltZUNvbmZpZztcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFN1cHBvcnRDb2RlQ29uZmlnLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVN1cHBvcnRDb2RlQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuSUhvb2s+fG51bGx9IFtiZWZvcmVUZXN0Q2FzZUhvb2tzXSBTdXBwb3J0Q29kZUNvbmZpZyBiZWZvcmVUZXN0Q2FzZUhvb2tzXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuSUhvb2s+fG51bGx9IFthZnRlclRlc3RDYXNlSG9va3NdIFN1cHBvcnRDb2RlQ29uZmlnIGFmdGVyVGVzdENhc2VIb29rc1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTdGVwRGVmaW5pdGlvbj58bnVsbH0gW3N0ZXBEZWZpbml0aW9uc10gU3VwcG9ydENvZGVDb25maWcgc3RlcERlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBhcmFtZXRlclR5cGU+fG51bGx9IFtwYXJhbWV0ZXJUeXBlc10gU3VwcG9ydENvZGVDb25maWcgcGFyYW1ldGVyVHlwZXNcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgU3VwcG9ydENvZGVDb25maWcuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgU3VwcG9ydENvZGVDb25maWcuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVN1cHBvcnRDb2RlQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3VwcG9ydENvZGVDb25maWc9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBTdXBwb3J0Q29kZUNvbmZpZyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmVmb3JlVGVzdENhc2VIb29rcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFmdGVyVGVzdENhc2VIb29rcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZXBEZWZpbml0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtZXRlclR5cGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3VwcG9ydENvZGVDb25maWcgYmVmb3JlVGVzdENhc2VIb29rcy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuSUhvb2s+fSBiZWZvcmVUZXN0Q2FzZUhvb2tzXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3VwcG9ydENvZGVDb25maWcucHJvdG90eXBlLmJlZm9yZVRlc3RDYXNlSG9va3MgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3VwcG9ydENvZGVDb25maWcgYWZ0ZXJUZXN0Q2FzZUhvb2tzLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JSG9vaz59IGFmdGVyVGVzdENhc2VIb29rc1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN1cHBvcnRDb2RlQ29uZmlnLnByb3RvdHlwZS5hZnRlclRlc3RDYXNlSG9va3MgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3VwcG9ydENvZGVDb25maWcgc3RlcERlZmluaXRpb25zLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcERlZmluaXRpb24+fSBzdGVwRGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdXBwb3J0Q29kZUNvbmZpZy5wcm90b3R5cGUuc3RlcERlZmluaXRpb25zID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFN1cHBvcnRDb2RlQ29uZmlnIHBhcmFtZXRlclR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JUGFyYW1ldGVyVHlwZT59IHBhcmFtZXRlclR5cGVzXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3VwcG9ydENvZGVDb25maWcucHJvdG90eXBlLnBhcmFtZXRlclR5cGVzID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgU3VwcG9ydENvZGVDb25maWcgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3VwcG9ydENvZGVDb25maWc9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWd9IFN1cHBvcnRDb2RlQ29uZmlnIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3VwcG9ydENvZGVDb25maWcuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdXBwb3J0Q29kZUNvbmZpZyhwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFN1cHBvcnRDb2RlQ29uZmlnIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3VwcG9ydENvZGVDb25maWd9IG1lc3NhZ2UgU3VwcG9ydENvZGVDb25maWcgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN1cHBvcnRDb2RlQ29uZmlnLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5iZWZvcmVUZXN0Q2FzZUhvb2tzICE9IG51bGwgJiYgbWVzc2FnZS5iZWZvcmVUZXN0Q2FzZUhvb2tzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5iZWZvcmVUZXN0Q2FzZUhvb2tzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2suZW5jb2RlKG1lc3NhZ2UuYmVmb3JlVGVzdENhc2VIb29rc1tpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hZnRlclRlc3RDYXNlSG9va3MgIT0gbnVsbCAmJiBtZXNzYWdlLmFmdGVyVGVzdENhc2VIb29rcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuYWZ0ZXJUZXN0Q2FzZUhvb2tzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2suZW5jb2RlKG1lc3NhZ2UuYWZ0ZXJUZXN0Q2FzZUhvb2tzW2ldLCB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBEZWZpbml0aW9ucyAhPSBudWxsICYmIG1lc3NhZ2Uuc3RlcERlZmluaXRpb25zLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbnMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb24uZW5jb2RlKG1lc3NhZ2Uuc3RlcERlZmluaXRpb25zW2ldLCB3cml0ZXIudWludDMyKC8qIGlkIDMsIHdpcmVUeXBlIDIgPSovMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmFtZXRlclR5cGVzICE9IG51bGwgJiYgbWVzc2FnZS5wYXJhbWV0ZXJUeXBlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UucGFyYW1ldGVyVHlwZXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZS5lbmNvZGUobWVzc2FnZS5wYXJhbWV0ZXJUeXBlc1tpXSwgd3JpdGVyLnVpbnQzMigvKiBpZCA0LCB3aXJlVHlwZSAyID0qLzM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgU3VwcG9ydENvZGVDb25maWcgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWcudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTdXBwb3J0Q29kZUNvbmZpZ30gbWVzc2FnZSBTdXBwb3J0Q29kZUNvbmZpZyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3VwcG9ydENvZGVDb25maWcuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFN1cHBvcnRDb2RlQ29uZmlnIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZ30gU3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN1cHBvcnRDb2RlQ29uZmlnLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLmJlZm9yZVRlc3RDYXNlSG9va3MgJiYgbWVzc2FnZS5iZWZvcmVUZXN0Q2FzZUhvb2tzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmVmb3JlVGVzdENhc2VIb29rcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmVmb3JlVGVzdENhc2VIb29rcy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2suZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS5hZnRlclRlc3RDYXNlSG9va3MgJiYgbWVzc2FnZS5hZnRlclRlc3RDYXNlSG9va3MubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hZnRlclRlc3RDYXNlSG9va3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFmdGVyVGVzdENhc2VIb29rcy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2suZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS5zdGVwRGVmaW5pdGlvbnMgJiYgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbnMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0ZXBEZWZpbml0aW9ucy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2UucGFyYW1ldGVyVHlwZXMgJiYgbWVzc2FnZS5wYXJhbWV0ZXJUeXBlcy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhcmFtZXRlclR5cGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJhbWV0ZXJUeXBlcy5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFN1cHBvcnRDb2RlQ29uZmlnIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWd9IFN1cHBvcnRDb2RlQ29uZmlnXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdXBwb3J0Q29kZUNvbmZpZy5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBTdXBwb3J0Q29kZUNvbmZpZyBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdXBwb3J0Q29kZUNvbmZpZy52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5iZWZvcmVUZXN0Q2FzZUhvb2tzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImJlZm9yZVRlc3RDYXNlSG9va3NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLmJlZm9yZVRlc3RDYXNlSG9va3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJlZm9yZVRlc3RDYXNlSG9va3M6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuYmVmb3JlVGVzdENhc2VIb29rcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2sudmVyaWZ5KG1lc3NhZ2UuYmVmb3JlVGVzdENhc2VIb29rc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJiZWZvcmVUZXN0Q2FzZUhvb2tzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWZ0ZXJUZXN0Q2FzZUhvb2tzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFmdGVyVGVzdENhc2VIb29rc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UuYWZ0ZXJUZXN0Q2FzZUhvb2tzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhZnRlclRlc3RDYXNlSG9va3M6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuYWZ0ZXJUZXN0Q2FzZUhvb2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vay52ZXJpZnkobWVzc2FnZS5hZnRlclRlc3RDYXNlSG9va3NbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYWZ0ZXJUZXN0Q2FzZUhvb2tzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RlcERlZmluaXRpb25zICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInN0ZXBEZWZpbml0aW9uc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2Uuc3RlcERlZmluaXRpb25zKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdGVwRGVmaW5pdGlvbnM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uuc3RlcERlZmluaXRpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb24udmVyaWZ5KG1lc3NhZ2Uuc3RlcERlZmluaXRpb25zW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0ZXBEZWZpbml0aW9ucy5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmFtZXRlclR5cGVzICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBhcmFtZXRlclR5cGVzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZS5wYXJhbWV0ZXJUeXBlcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGFyYW1ldGVyVHlwZXM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UucGFyYW1ldGVyVHlwZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QYXJhbWV0ZXJUeXBlLnZlcmlmeShtZXNzYWdlLnBhcmFtZXRlclR5cGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInBhcmFtZXRlclR5cGVzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBTdXBwb3J0Q29kZUNvbmZpZyBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZ30gU3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdXBwb3J0Q29kZUNvbmZpZy5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWcoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5iZWZvcmVUZXN0Q2FzZUhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LmJlZm9yZVRlc3RDYXNlSG9va3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZy5iZWZvcmVUZXN0Q2FzZUhvb2tzOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmVmb3JlVGVzdENhc2VIb29rcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QuYmVmb3JlVGVzdENhc2VIb29rcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmJlZm9yZVRlc3RDYXNlSG9va3NbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZy5iZWZvcmVUZXN0Q2FzZUhvb2tzOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iZWZvcmVUZXN0Q2FzZUhvb2tzW2ldID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vay5mcm9tT2JqZWN0KG9iamVjdC5iZWZvcmVUZXN0Q2FzZUhvb2tzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmFmdGVyVGVzdENhc2VIb29rcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdC5hZnRlclRlc3RDYXNlSG9va3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZy5hZnRlclRlc3RDYXNlSG9va3M6IGFycmF5IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hZnRlclRlc3RDYXNlSG9va3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LmFmdGVyVGVzdENhc2VIb29rcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmFmdGVyVGVzdENhc2VIb29rc1tpXSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnLmFmdGVyVGVzdENhc2VIb29rczogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWZ0ZXJUZXN0Q2FzZUhvb2tzW2ldID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vay5mcm9tT2JqZWN0KG9iamVjdC5hZnRlclRlc3RDYXNlSG9va3NbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Quc3RlcERlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LnN0ZXBEZWZpbml0aW9ucykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN1cHBvcnRDb2RlQ29uZmlnLnN0ZXBEZWZpbml0aW9uczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0ZXBEZWZpbml0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3Quc3RlcERlZmluaXRpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Quc3RlcERlZmluaXRpb25zW2ldICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWcuc3RlcERlZmluaXRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbnNbaV0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvbi5mcm9tT2JqZWN0KG9iamVjdC5zdGVwRGVmaW5pdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QucGFyYW1ldGVyVHlwZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QucGFyYW1ldGVyVHlwZXMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZy5wYXJhbWV0ZXJUeXBlczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhcmFtZXRlclR5cGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5wYXJhbWV0ZXJUeXBlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnBhcmFtZXRlclR5cGVzW2ldICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWcucGFyYW1ldGVyVHlwZXM6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhcmFtZXRlclR5cGVzW2ldID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZS5mcm9tT2JqZWN0KG9iamVjdC5wYXJhbWV0ZXJUeXBlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFN1cHBvcnRDb2RlQ29uZmlnIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3VwcG9ydENvZGVDb25maWdcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZ30gbWVzc2FnZSBTdXBwb3J0Q29kZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3VwcG9ydENvZGVDb25maWcudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcnJheXMgfHwgb3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmJlZm9yZVRlc3RDYXNlSG9va3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hZnRlclRlc3RDYXNlSG9va3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwRGVmaW5pdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5wYXJhbWV0ZXJUeXBlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmJlZm9yZVRlc3RDYXNlSG9va3MgJiYgbWVzc2FnZS5iZWZvcmVUZXN0Q2FzZUhvb2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmJlZm9yZVRlc3RDYXNlSG9va3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5iZWZvcmVUZXN0Q2FzZUhvb2tzLmxlbmd0aDsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5iZWZvcmVUZXN0Q2FzZUhvb2tzW2pdID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vay50b09iamVjdChtZXNzYWdlLmJlZm9yZVRlc3RDYXNlSG9va3Nbal0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFmdGVyVGVzdENhc2VIb29rcyAmJiBtZXNzYWdlLmFmdGVyVGVzdENhc2VIb29rcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hZnRlclRlc3RDYXNlSG9va3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5hZnRlclRlc3RDYXNlSG9va3MubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFmdGVyVGVzdENhc2VIb29rc1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2sudG9PYmplY3QobWVzc2FnZS5hZnRlclRlc3RDYXNlSG9va3Nbal0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBEZWZpbml0aW9ucyAmJiBtZXNzYWdlLnN0ZXBEZWZpbml0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwRGVmaW5pdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbnMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBEZWZpbml0aW9uc1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uLnRvT2JqZWN0KG1lc3NhZ2Uuc3RlcERlZmluaXRpb25zW2pdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5wYXJhbWV0ZXJUeXBlcyAmJiBtZXNzYWdlLnBhcmFtZXRlclR5cGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBhcmFtZXRlclR5cGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2UucGFyYW1ldGVyVHlwZXMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBhcmFtZXRlclR5cGVzW2pdID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZS50b09iamVjdChtZXNzYWdlLnBhcmFtZXRlclR5cGVzW2pdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIFN1cHBvcnRDb2RlQ29uZmlnIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdXBwb3J0Q29kZUNvbmZpZ1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdXBwb3J0Q29kZUNvbmZpZy5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFN1cHBvcnRDb2RlQ29uZmlnO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuSG9vayA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBIb29rLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbaWRdIEhvb2sgaWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdGFnRXhwcmVzc2lvbl0gSG9vayB0YWdFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU291cmNlUmVmZXJlbmNlfG51bGx9IFtzb3VyY2VSZWZlcmVuY2VdIEhvb2sgc291cmNlUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IEhvb2suXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgSG9vay5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJSG9va1xuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUhvb2s9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBIb29rKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBIb29rIGlkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gaWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9va1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEhvb2sucHJvdG90eXBlLmlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEhvb2sgdGFnRXhwcmVzc2lvbi5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHRhZ0V4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9va1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEhvb2sucHJvdG90eXBlLnRhZ0V4cHJlc3Npb24gPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSG9vayBzb3VyY2VSZWZlcmVuY2UuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZVJlZmVyZW5jZXxudWxsfHVuZGVmaW5lZH0gc291cmNlUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2tcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBIb29rLnByb3RvdHlwZS5zb3VyY2VSZWZlcmVuY2UgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBIb29rIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2tcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JSG9vaz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Ib29rfSBIb29rIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgSG9vay5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEhvb2socHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBIb29rIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2sudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Ib29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUhvb2t9IG1lc3NhZ2UgSG9vayBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgSG9vay5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFnRXhwcmVzc2lvbiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0YWdFeHByZXNzaW9uXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5zdHJpbmcobWVzc2FnZS50YWdFeHByZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc291cmNlUmVmZXJlbmNlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZVJlZmVyZW5jZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS5lbmNvZGUobWVzc2FnZS5zb3VyY2VSZWZlcmVuY2UsIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIEhvb2sgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vay52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2tcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JSG9va30gbWVzc2FnZSBIb29rIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBIb29rLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBIb29rIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Ib29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2t9IEhvb2tcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIEhvb2suZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vaygpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ0V4cHJlc3Npb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zb3VyY2VSZWZlcmVuY2UgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2UuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgSG9vayBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9va1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSG9va30gSG9va1xuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgSG9vay5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBIb29rIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Ib29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgSG9vay52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5pZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWdFeHByZXNzaW9uICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRhZ0V4cHJlc3Npb25cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudGFnRXhwcmVzc2lvbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFnRXhwcmVzc2lvbjogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNvdXJjZVJlZmVyZW5jZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VSZWZlcmVuY2VcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS52ZXJpZnkobWVzc2FnZS5zb3VyY2VSZWZlcmVuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInNvdXJjZVJlZmVyZW5jZS5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgSG9vayBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9va1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2t9IEhvb2tcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBIb29rLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vaylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkhvb2soKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5pZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9IFN0cmluZyhvYmplY3QuaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnRhZ0V4cHJlc3Npb24gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFnRXhwcmVzc2lvbiA9IFN0cmluZyhvYmplY3QudGFnRXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Quc291cmNlUmVmZXJlbmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnNvdXJjZVJlZmVyZW5jZSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9vay5zb3VyY2VSZWZlcmVuY2U6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc291cmNlUmVmZXJlbmNlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU291cmNlUmVmZXJlbmNlLmZyb21PYmplY3Qob2JqZWN0LnNvdXJjZVJlZmVyZW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIEhvb2sgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Ib29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSG9va30gbWVzc2FnZSBIb29rXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBIb29rLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudGFnRXhwcmVzc2lvbiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc291cmNlUmVmZXJlbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJpZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IG1lc3NhZ2UuaWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRhZ0V4cHJlc3Npb24gIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGFnRXhwcmVzc2lvblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50YWdFeHByZXNzaW9uID0gbWVzc2FnZS50YWdFeHByZXNzaW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zb3VyY2VSZWZlcmVuY2UgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic291cmNlUmVmZXJlbmNlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNvdXJjZVJlZmVyZW5jZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS50b09iamVjdChtZXNzYWdlLnNvdXJjZVJlZmVyZW5jZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgSG9vayB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuSG9va1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBIb29rLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gSG9vaztcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFN0ZXBEZWZpbml0aW9uLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2lkXSBTdGVwRGVmaW5pdGlvbiBpZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVN0ZXBEZWZpbml0aW9uUGF0dGVybnxudWxsfSBbcGF0dGVybl0gU3RlcERlZmluaXRpb24gcGF0dGVyblxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZVJlZmVyZW5jZXxudWxsfSBbc291cmNlUmVmZXJlbmNlXSBTdGVwRGVmaW5pdGlvbiBzb3VyY2VSZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgU3RlcERlZmluaXRpb24uXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgU3RlcERlZmluaXRpb24uXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcERlZmluaXRpb249fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBTdGVwRGVmaW5pdGlvbihwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3RlcERlZmluaXRpb24gaWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBpZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN0ZXBEZWZpbml0aW9uLnByb3RvdHlwZS5pZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdGVwRGVmaW5pdGlvbiBwYXR0ZXJuLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTdGVwRGVmaW5pdGlvblBhdHRlcm58bnVsbHx1bmRlZmluZWR9IHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb25cbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwRGVmaW5pdGlvbi5wcm90b3R5cGUucGF0dGVybiA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdGVwRGVmaW5pdGlvbiBzb3VyY2VSZWZlcmVuY2UuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVNvdXJjZVJlZmVyZW5jZXxudWxsfHVuZGVmaW5lZH0gc291cmNlUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb24ucHJvdG90eXBlLnNvdXJjZVJlZmVyZW5jZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFN0ZXBEZWZpbml0aW9uIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVN0ZXBEZWZpbml0aW9uPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9ufSBTdGVwRGVmaW5pdGlvbiBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN0ZXBEZWZpbml0aW9uLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU3RlcERlZmluaXRpb24ocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBTdGVwRGVmaW5pdGlvbiBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvbi52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVN0ZXBEZWZpbml0aW9ufSBtZXNzYWdlIFN0ZXBEZWZpbml0aW9uIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwRGVmaW5pdGlvbi5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGF0dGVybiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwYXR0ZXJuXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb25QYXR0ZXJuLmVuY29kZShtZXNzYWdlLnBhdHRlcm4sIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc291cmNlUmVmZXJlbmNlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZVJlZmVyZW5jZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS5lbmNvZGUobWVzc2FnZS5zb3VyY2VSZWZlcmVuY2UsIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFN0ZXBEZWZpbml0aW9uIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcERlZmluaXRpb259IG1lc3NhZ2UgU3RlcERlZmluaXRpb24gbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN0ZXBEZWZpbml0aW9uLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBTdGVwRGVmaW5pdGlvbiBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb259IFN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwRGVmaW5pdGlvbi5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhdHRlcm4gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm4uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNvdXJjZVJlZmVyZW5jZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBTdGVwRGVmaW5pdGlvbiBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9ufSBTdGVwRGVmaW5pdGlvblxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb24uZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgU3RlcERlZmluaXRpb24gbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb24udmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuaWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImlkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGF0dGVybiAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwYXR0ZXJuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm4udmVyaWZ5KG1lc3NhZ2UucGF0dGVybik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGF0dGVybi5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNvdXJjZVJlZmVyZW5jZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VSZWZlcmVuY2VcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS52ZXJpZnkobWVzc2FnZS5zb3VyY2VSZWZlcmVuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInNvdXJjZVJlZmVyZW5jZS5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgU3RlcERlZmluaXRpb24gbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb259IFN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb24uZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSBTdHJpbmcob2JqZWN0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5wYXR0ZXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnBhdHRlcm4gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uLnBhdHRlcm46IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGF0dGVybiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVybi5mcm9tT2JqZWN0KG9iamVjdC5wYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnNvdXJjZVJlZmVyZW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5zb3VyY2VSZWZlcmVuY2UgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uLnNvdXJjZVJlZmVyZW5jZTogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zb3VyY2VSZWZlcmVuY2UgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Tb3VyY2VSZWZlcmVuY2UuZnJvbU9iamVjdChvYmplY3Quc291cmNlUmVmZXJlbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgU3RlcERlZmluaXRpb24gbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9ufSBtZXNzYWdlIFN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwRGVmaW5pdGlvbi50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBhdHRlcm4gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNvdXJjZVJlZmVyZW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiaWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaWQgPSBtZXNzYWdlLmlkO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5wYXR0ZXJuICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBhdHRlcm5cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGF0dGVybiA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVybi50b09iamVjdChtZXNzYWdlLnBhdHRlcm4sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zb3VyY2VSZWZlcmVuY2UgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic291cmNlUmVmZXJlbmNlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNvdXJjZVJlZmVyZW5jZSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlNvdXJjZVJlZmVyZW5jZS50b09iamVjdChtZXNzYWdlLnNvdXJjZVJlZmVyZW5jZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgU3RlcERlZmluaXRpb24gdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN0ZXBEZWZpbml0aW9uLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gU3RlcERlZmluaXRpb247XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm4gPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgU3RlcERlZmluaXRpb25QYXR0ZXJuLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVN0ZXBEZWZpbml0aW9uUGF0dGVyblxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtzb3VyY2VdIFN0ZXBEZWZpbml0aW9uUGF0dGVybiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVyblR5cGV8bnVsbH0gW3R5cGVdIFN0ZXBEZWZpbml0aW9uUGF0dGVybiB0eXBlXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFN0ZXBEZWZpbml0aW9uUGF0dGVybi5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBTdGVwRGVmaW5pdGlvblBhdHRlcm4uXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSVN0ZXBEZWZpbml0aW9uUGF0dGVyblxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVN0ZXBEZWZpbml0aW9uUGF0dGVybj19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFN0ZXBEZWZpbml0aW9uUGF0dGVybihwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3RlcERlZmluaXRpb25QYXR0ZXJuIHNvdXJjZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm5cbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwRGVmaW5pdGlvblBhdHRlcm4ucHJvdG90eXBlLnNvdXJjZSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdGVwRGVmaW5pdGlvblBhdHRlcm4gdHlwZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm5UeXBlfSB0eXBlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVyblxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN0ZXBEZWZpbml0aW9uUGF0dGVybi5wcm90b3R5cGUudHlwZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFN0ZXBEZWZpbml0aW9uUGF0dGVybiBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm5cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcERlZmluaXRpb25QYXR0ZXJuPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVybn0gU3RlcERlZmluaXRpb25QYXR0ZXJuIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb25QYXR0ZXJuLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU3RlcERlZmluaXRpb25QYXR0ZXJuKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgU3RlcERlZmluaXRpb25QYXR0ZXJuIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVybi52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVyblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTdGVwRGVmaW5pdGlvblBhdHRlcm59IG1lc3NhZ2UgU3RlcERlZmluaXRpb25QYXR0ZXJuIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwRGVmaW5pdGlvblBhdHRlcm4uZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNvdXJjZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLnN0cmluZyhtZXNzYWdlLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnR5cGUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMCA9Ki8xNikuaW50MzIobWVzc2FnZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFN0ZXBEZWZpbml0aW9uUGF0dGVybiBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm4udmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm5cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcERlZmluaXRpb25QYXR0ZXJufSBtZXNzYWdlIFN0ZXBEZWZpbml0aW9uUGF0dGVybiBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb25QYXR0ZXJuLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBTdGVwRGVmaW5pdGlvblBhdHRlcm4gbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVyblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm59IFN0ZXBEZWZpbml0aW9uUGF0dGVyblxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb25QYXR0ZXJuLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVybigpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zb3VyY2UgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFN0ZXBEZWZpbml0aW9uUGF0dGVybiBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb25QYXR0ZXJuXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm59IFN0ZXBEZWZpbml0aW9uUGF0dGVyblxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb25QYXR0ZXJuLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIFN0ZXBEZWZpbml0aW9uUGF0dGVybiBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb25QYXR0ZXJuXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb25QYXR0ZXJuLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNvdXJjZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2Uuc291cmNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzb3VyY2U6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0eXBlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgU3RlcERlZmluaXRpb25QYXR0ZXJuIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm5cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm59IFN0ZXBEZWZpbml0aW9uUGF0dGVyblxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN0ZXBEZWZpbml0aW9uUGF0dGVybi5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVybilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVybigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnNvdXJjZSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zb3VyY2UgPSBTdHJpbmcob2JqZWN0LnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob2JqZWN0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNVQ1VNQkVSX0VYUFJFU1NJT05cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eXBlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUkVHVUxBUl9FWFBSRVNTSU9OXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgU3RlcERlZmluaXRpb25QYXR0ZXJuIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb25QYXR0ZXJuXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcERlZmluaXRpb25QYXR0ZXJufSBtZXNzYWdlIFN0ZXBEZWZpbml0aW9uUGF0dGVyblxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb25QYXR0ZXJuLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zb3VyY2UgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnR5cGUgPSBvcHRpb25zLmVudW1zID09PSBTdHJpbmcgPyBcIkNVQ1VNQkVSX0VYUFJFU1NJT05cIiA6IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc291cmNlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zb3VyY2UgPSBtZXNzYWdlLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnR5cGUgPSBvcHRpb25zLmVudW1zID09PSBTdHJpbmcgPyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm5UeXBlW21lc3NhZ2UudHlwZV0gOiBtZXNzYWdlLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgU3RlcERlZmluaXRpb25QYXR0ZXJuIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm5cbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcERlZmluaXRpb25QYXR0ZXJuLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gU3RlcERlZmluaXRpb25QYXR0ZXJuO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGVwRGVmaW5pdGlvblBhdHRlcm5UeXBlIGVudW0uXG4gICAgICAgICAgICAgKiBAbmFtZSBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwRGVmaW5pdGlvblBhdHRlcm5UeXBlXG4gICAgICAgICAgICAgKiBAZW51bSB7c3RyaW5nfVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IENVQ1VNQkVSX0VYUFJFU1NJT049MCBDVUNVTUJFUl9FWFBSRVNTSU9OIHZhbHVlXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gUkVHVUxBUl9FWFBSRVNTSU9OPTEgUkVHVUxBUl9FWFBSRVNTSU9OIHZhbHVlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG1lc3NhZ2VzLlN0ZXBEZWZpbml0aW9uUGF0dGVyblR5cGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlc0J5SWQgPSB7fSwgdmFsdWVzID0gT2JqZWN0LmNyZWF0ZSh2YWx1ZXNCeUlkKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbdmFsdWVzQnlJZFswXSA9IFwiQ1VDVU1CRVJfRVhQUkVTU0lPTlwiXSA9IDA7XG4gICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlc0J5SWRbMV0gPSBcIlJFR1VMQVJfRVhQUkVTU0lPTlwiXSA9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlBhcmFtZXRlclR5cGUgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgUGFyYW1ldGVyVHlwZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElQYXJhbWV0ZXJUeXBlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW25hbWVdIFBhcmFtZXRlclR5cGUgbmFtZVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz58bnVsbH0gW3JlZ3VsYXJFeHByZXNzaW9uc10gUGFyYW1ldGVyVHlwZSByZWd1bGFyRXhwcmVzc2lvbnNcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW58bnVsbH0gW3ByZWZlckZvclJlZ3VsYXJFeHByZXNzaW9uTWF0Y2hdIFBhcmFtZXRlclR5cGUgcHJlZmVyRm9yUmVndWxhckV4cHJlc3Npb25NYXRjaFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbnxudWxsfSBbdXNlRm9yU25pcHBldHNdIFBhcmFtZXRlclR5cGUgdXNlRm9yU25pcHBldHNcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgUGFyYW1ldGVyVHlwZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBQYXJhbWV0ZXJUeXBlLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElQYXJhbWV0ZXJUeXBlXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGFyYW1ldGVyVHlwZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFBhcmFtZXRlclR5cGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ3VsYXJFeHByZXNzaW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFBhcmFtZXRlclR5cGUgbmFtZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBhcmFtZXRlclR5cGUucHJvdG90eXBlLm5hbWUgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUGFyYW1ldGVyVHlwZSByZWd1bGFyRXhwcmVzc2lvbnMuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7QXJyYXkuPHN0cmluZz59IHJlZ3VsYXJFeHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QYXJhbWV0ZXJUeXBlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGFyYW1ldGVyVHlwZS5wcm90b3R5cGUucmVndWxhckV4cHJlc3Npb25zID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFBhcmFtZXRlclR5cGUgcHJlZmVyRm9yUmVndWxhckV4cHJlc3Npb25NYXRjaC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufSBwcmVmZXJGb3JSZWd1bGFyRXhwcmVzc2lvbk1hdGNoXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQYXJhbWV0ZXJUeXBlLnByb3RvdHlwZS5wcmVmZXJGb3JSZWd1bGFyRXhwcmVzc2lvbk1hdGNoID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQYXJhbWV0ZXJUeXBlIHVzZUZvclNuaXBwZXRzLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IHVzZUZvclNuaXBwZXRzXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQYXJhbWV0ZXJUeXBlLnByb3RvdHlwZS51c2VGb3JTbmlwcGV0cyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBQYXJhbWV0ZXJUeXBlIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGFyYW1ldGVyVHlwZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5QYXJhbWV0ZXJUeXBlfSBQYXJhbWV0ZXJUeXBlIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGFyYW1ldGVyVHlwZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBhcmFtZXRlclR5cGUocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBQYXJhbWV0ZXJUeXBlIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QYXJhbWV0ZXJUeXBlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBhcmFtZXRlclR5cGV9IG1lc3NhZ2UgUGFyYW1ldGVyVHlwZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgUGFyYW1ldGVyVHlwZS5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucmVndWxhckV4cHJlc3Npb25zICE9IG51bGwgJiYgbWVzc2FnZS5yZWd1bGFyRXhwcmVzc2lvbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnJlZ3VsYXJFeHByZXNzaW9ucy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLnN0cmluZyhtZXNzYWdlLnJlZ3VsYXJFeHByZXNzaW9uc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnByZWZlckZvclJlZ3VsYXJFeHByZXNzaW9uTWF0Y2ggIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicHJlZmVyRm9yUmVndWxhckV4cHJlc3Npb25NYXRjaFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMCA9Ki8yNCkuYm9vbChtZXNzYWdlLnByZWZlckZvclJlZ3VsYXJFeHByZXNzaW9uTWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51c2VGb3JTbmlwcGV0cyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ1c2VGb3JTbmlwcGV0c1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgNCwgd2lyZVR5cGUgMCA9Ki8zMikuYm9vbChtZXNzYWdlLnVzZUZvclNuaXBwZXRzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFBhcmFtZXRlclR5cGUgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZS52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGFyYW1ldGVyVHlwZX0gbWVzc2FnZSBQYXJhbWV0ZXJUeXBlIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQYXJhbWV0ZXJUeXBlLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBQYXJhbWV0ZXJUeXBlIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QYXJhbWV0ZXJUeXBlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGV9IFBhcmFtZXRlclR5cGVcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBhcmFtZXRlclR5cGUuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2UucmVndWxhckV4cHJlc3Npb25zICYmIG1lc3NhZ2UucmVndWxhckV4cHJlc3Npb25zLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmVndWxhckV4cHJlc3Npb25zID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yZWd1bGFyRXhwcmVzc2lvbnMucHVzaChyZWFkZXIuc3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucHJlZmVyRm9yUmVndWxhckV4cHJlc3Npb25NYXRjaCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51c2VGb3JTbmlwcGV0cyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFBhcmFtZXRlclR5cGUgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGV9IFBhcmFtZXRlclR5cGVcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBhcmFtZXRlclR5cGUuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgUGFyYW1ldGVyVHlwZSBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBhcmFtZXRlclR5cGUudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5yZWd1bGFyRXhwcmVzc2lvbnMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicmVndWxhckV4cHJlc3Npb25zXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZS5yZWd1bGFyRXhwcmVzc2lvbnMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInJlZ3VsYXJFeHByZXNzaW9uczogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5yZWd1bGFyRXhwcmVzc2lvbnMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnJlZ3VsYXJFeHByZXNzaW9uc1tpXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInJlZ3VsYXJFeHByZXNzaW9uczogc3RyaW5nW10gZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5wcmVmZXJGb3JSZWd1bGFyRXhwcmVzc2lvbk1hdGNoICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInByZWZlckZvclJlZ3VsYXJFeHByZXNzaW9uTWF0Y2hcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UucHJlZmVyRm9yUmVndWxhckV4cHJlc3Npb25NYXRjaCAhPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicHJlZmVyRm9yUmVndWxhckV4cHJlc3Npb25NYXRjaDogYm9vbGVhbiBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51c2VGb3JTbmlwcGV0cyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ1c2VGb3JTbmlwcGV0c1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS51c2VGb3JTbmlwcGV0cyAhPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidXNlRm9yU25pcHBldHM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBQYXJhbWV0ZXJUeXBlIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QYXJhbWV0ZXJUeXBlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZX0gUGFyYW1ldGVyVHlwZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFBhcmFtZXRlclR5cGUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QYXJhbWV0ZXJUeXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lm5hbWUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IFN0cmluZyhvYmplY3QubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QucmVndWxhckV4cHJlc3Npb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LnJlZ3VsYXJFeHByZXNzaW9ucykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBhcmFtZXRlclR5cGUucmVndWxhckV4cHJlc3Npb25zOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmVndWxhckV4cHJlc3Npb25zID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5yZWd1bGFyRXhwcmVzc2lvbnMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yZWd1bGFyRXhwcmVzc2lvbnNbaV0gPSBTdHJpbmcob2JqZWN0LnJlZ3VsYXJFeHByZXNzaW9uc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5wcmVmZXJGb3JSZWd1bGFyRXhwcmVzc2lvbk1hdGNoICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnByZWZlckZvclJlZ3VsYXJFeHByZXNzaW9uTWF0Y2ggPSBCb29sZWFuKG9iamVjdC5wcmVmZXJGb3JSZWd1bGFyRXhwcmVzc2lvbk1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC51c2VGb3JTbmlwcGV0cyAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51c2VGb3JTbmlwcGV0cyA9IEJvb2xlYW4ob2JqZWN0LnVzZUZvclNuaXBwZXRzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIFBhcmFtZXRlclR5cGUgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5QYXJhbWV0ZXJUeXBlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZX0gbWVzc2FnZSBQYXJhbWV0ZXJUeXBlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQYXJhbWV0ZXJUeXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucmVndWxhckV4cHJlc3Npb25zID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucHJlZmVyRm9yUmVndWxhckV4cHJlc3Npb25NYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnVzZUZvclNuaXBwZXRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSBtZXNzYWdlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnJlZ3VsYXJFeHByZXNzaW9ucyAmJiBtZXNzYWdlLnJlZ3VsYXJFeHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5yZWd1bGFyRXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5yZWd1bGFyRXhwcmVzc2lvbnMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnJlZ3VsYXJFeHByZXNzaW9uc1tqXSA9IG1lc3NhZ2UucmVndWxhckV4cHJlc3Npb25zW2pdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnByZWZlckZvclJlZ3VsYXJFeHByZXNzaW9uTWF0Y2ggIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicHJlZmVyRm9yUmVndWxhckV4cHJlc3Npb25NYXRjaFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5wcmVmZXJGb3JSZWd1bGFyRXhwcmVzc2lvbk1hdGNoID0gbWVzc2FnZS5wcmVmZXJGb3JSZWd1bGFyRXhwcmVzc2lvbk1hdGNoO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS51c2VGb3JTbmlwcGV0cyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ1c2VGb3JTbmlwcGV0c1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC51c2VGb3JTbmlwcGV0cyA9IG1lc3NhZ2UudXNlRm9yU25pcHBldHM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgUGFyYW1ldGVyVHlwZSB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuUGFyYW1ldGVyVHlwZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBQYXJhbWV0ZXJUeXBlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyYW1ldGVyVHlwZTtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZSA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBDb21tYW5kQWN0aW9uQ29tcGxldGUuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJQ29tbWFuZEFjdGlvbkNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2NvbXBsZXRlZElkXSBDb21tYW5kQWN0aW9uQ29tcGxldGUgY29tcGxldGVkSWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklUZXN0UmVzdWx0fG51bGx9IFt0ZXN0UmVzdWx0XSBDb21tYW5kQWN0aW9uQ29tcGxldGUgdGVzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFtzbmlwcGV0XSBDb21tYW5kQWN0aW9uQ29tcGxldGUgc25pcHBldFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBDb21tYW5kQWN0aW9uQ29tcGxldGUuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgQ29tbWFuZEFjdGlvbkNvbXBsZXRlLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElDb21tYW5kQWN0aW9uQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kQWN0aW9uQ29tcGxldGU9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBDb21tYW5kQWN0aW9uQ29tcGxldGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbW1hbmRBY3Rpb25Db21wbGV0ZSBjb21wbGV0ZWRJZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGNvbXBsZXRlZElkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRBY3Rpb25Db21wbGV0ZS5wcm90b3R5cGUuY29tcGxldGVkSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZEFjdGlvbkNvbXBsZXRlIHRlc3RSZXN1bHQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVRlc3RSZXN1bHR8bnVsbHx1bmRlZmluZWR9IHRlc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEFjdGlvbkNvbXBsZXRlLnByb3RvdHlwZS50ZXN0UmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbW1hbmRBY3Rpb25Db21wbGV0ZSBzbmlwcGV0LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gc25pcHBldFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kQWN0aW9uQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kQWN0aW9uQ29tcGxldGUucHJvdG90eXBlLnNuaXBwZXQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLy8gT25lT2YgZmllbGQgbmFtZXMgYm91bmQgdG8gdmlydHVhbCBnZXR0ZXJzIGFuZCBzZXR0ZXJzXG4gICAgICAgICAgICAgICAgdmFyICRvbmVPZkZpZWxkcztcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbW1hbmRBY3Rpb25Db21wbGV0ZSByZXN1bHQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7XCJ0ZXN0UmVzdWx0XCJ8XCJzbmlwcGV0XCJ8dW5kZWZpbmVkfSByZXN1bHRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbW1hbmRBY3Rpb25Db21wbGV0ZS5wcm90b3R5cGUsIFwicmVzdWx0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAkdXRpbC5vbmVPZkdldHRlcigkb25lT2ZGaWVsZHMgPSBbXCJ0ZXN0UmVzdWx0XCIsIFwic25pcHBldFwiXSksXG4gICAgICAgICAgICAgICAgICAgIHNldDogJHV0aWwub25lT2ZTZXR0ZXIoJG9uZU9mRmllbGRzKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBDb21tYW5kQWN0aW9uQ29tcGxldGUgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRBY3Rpb25Db21wbGV0ZT19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kQWN0aW9uQ29tcGxldGV9IENvbW1hbmRBY3Rpb25Db21wbGV0ZSBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRBY3Rpb25Db21wbGV0ZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbW1hbmRBY3Rpb25Db21wbGV0ZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIENvbW1hbmRBY3Rpb25Db21wbGV0ZSBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kQWN0aW9uQ29tcGxldGUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kQWN0aW9uQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZEFjdGlvbkNvbXBsZXRlfSBtZXNzYWdlIENvbW1hbmRBY3Rpb25Db21wbGV0ZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEFjdGlvbkNvbXBsZXRlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21wbGV0ZWRJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21wbGV0ZWRJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UuY29tcGxldGVkSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0UmVzdWx0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RSZXN1bHRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0LmVuY29kZShtZXNzYWdlLnRlc3RSZXN1bHQsIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc25pcHBldCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzbmlwcGV0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5zdHJpbmcobWVzc2FnZS5zbmlwcGV0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIENvbW1hbmRBY3Rpb25Db21wbGV0ZSBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kQWN0aW9uQ29tcGxldGUudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kQWN0aW9uQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZEFjdGlvbkNvbXBsZXRlfSBtZXNzYWdlIENvbW1hbmRBY3Rpb25Db21wbGV0ZSBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEFjdGlvbkNvbXBsZXRlLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBDb21tYW5kQWN0aW9uQ29tcGxldGUgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kQWN0aW9uQ29tcGxldGV9IENvbW1hbmRBY3Rpb25Db21wbGV0ZVxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEFjdGlvbkNvbXBsZXRlLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21wbGV0ZWRJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RSZXN1bHQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zbmlwcGV0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBDb21tYW5kQWN0aW9uQ29tcGxldGUgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlfSBDb21tYW5kQWN0aW9uQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRBY3Rpb25Db21wbGV0ZS5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBDb21tYW5kQWN0aW9uQ29tcGxldGUgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRBY3Rpb25Db21wbGV0ZS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb21wbGV0ZWRJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJjb21wbGV0ZWRJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5jb21wbGV0ZWRJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29tcGxldGVkSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0UmVzdWx0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RSZXN1bHRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmVzdWx0ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0LnZlcmlmeShtZXNzYWdlLnRlc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdFJlc3VsdC5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnNuaXBwZXQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic25pcHBldFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMucmVzdWx0ID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInJlc3VsdDogbXVsdGlwbGUgdmFsdWVzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJlc3VsdCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2Uuc25pcHBldCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic25pcHBldDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBDb21tYW5kQWN0aW9uQ29tcGxldGUgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBmcm9tT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZX0gQ29tbWFuZEFjdGlvbkNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEFjdGlvbkNvbXBsZXRlLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuY29tcGxldGVkSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tcGxldGVkSWQgPSBTdHJpbmcob2JqZWN0LmNvbXBsZXRlZElkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0UmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRlc3RSZXN1bHQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZS50ZXN0UmVzdWx0OiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RSZXN1bHQgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5UZXN0UmVzdWx0LmZyb21PYmplY3Qob2JqZWN0LnRlc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Quc25pcHBldCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zbmlwcGV0ID0gU3RyaW5nKG9iamVjdC5zbmlwcGV0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIENvbW1hbmRBY3Rpb25Db21wbGV0ZSBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRBY3Rpb25Db21wbGV0ZX0gbWVzc2FnZSBDb21tYW5kQWN0aW9uQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRBY3Rpb25Db21wbGV0ZS50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbXBsZXRlZElkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29tcGxldGVkSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiY29tcGxldGVkSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkSWQgPSBtZXNzYWdlLmNvbXBsZXRlZElkO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0UmVzdWx0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RSZXN1bHRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0UmVzdWx0ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuVGVzdFJlc3VsdC50b09iamVjdChtZXNzYWdlLnRlc3RSZXN1bHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5yZXN1bHQgPSBcInRlc3RSZXN1bHRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zbmlwcGV0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInNuaXBwZXRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zbmlwcGV0ID0gbWVzc2FnZS5zbmlwcGV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25lb2ZzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5yZXN1bHQgPSBcInNuaXBwZXRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIENvbW1hbmRBY3Rpb25Db21wbGV0ZSB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEFjdGlvbkNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRBY3Rpb25Db21wbGV0ZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbW1hbmRBY3Rpb25Db21wbGV0ZTtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAaW50ZXJmYWNlIElDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2FjdGlvbklkXSBDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzIGFjdGlvbklkXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcy5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3M9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzIGFjdGlvbklkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gYWN0aW9uSWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MucHJvdG90eXBlLmFjdGlvbklkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcyBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3M9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc30gQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcyBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcyBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzfSBtZXNzYWdlIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS5hY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3N9IG1lc3NhZ2UgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcyBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcy5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcyBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzfSBDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWN0aW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3NcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3N9IENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3NcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcyBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYWN0aW9uSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuYWN0aW9uSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFjdGlvbklkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc30gQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmFjdGlvbklkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFjdGlvbklkID0gU3RyaW5nKG9iamVjdC5hY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBDb21tYW5kUnVuQmVmb3JlVGVzdFJ1bkhvb2tzIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3N9IG1lc3NhZ2UgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcy50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFjdGlvbklkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYWN0aW9uSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYWN0aW9uSWQgPSBtZXNzYWdlLmFjdGlvbklkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3MgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3NcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkJlZm9yZVRlc3RSdW5Ib29rcy5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbW1hbmRSdW5CZWZvcmVUZXN0UnVuSG9va3M7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFthY3Rpb25JZF0gQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzIGFjdGlvbklkXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSUNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzIGFjdGlvbklkLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gYWN0aW9uSWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzLnByb3RvdHlwZS5hY3Rpb25JZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcyBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3NcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc30gQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcy52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3N9IG1lc3NhZ2UgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS5hY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc30gbWVzc2FnZSBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcy5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3NcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzfSBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3NcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcy5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWN0aW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcyBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3N9IENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcyBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmFjdGlvbklkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhY3Rpb25JZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3NcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3N9IENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcy5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rcygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmFjdGlvbklkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFjdGlvbklkID0gU3RyaW5nKG9iamVjdC5hY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3NcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3N9IG1lc3NhZ2UgQ29tbWFuZFJ1bkFmdGVyVGVzdFJ1bkhvb2tzXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25JZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFjdGlvbklkID0gbWVzc2FnZS5hY3Rpb25JZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RSdW5Ib29rc1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3MucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBDb21tYW5kUnVuQWZ0ZXJUZXN0UnVuSG9va3M7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5Db21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFthY3Rpb25JZF0gQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSBhY3Rpb25JZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZXxudWxsfSBbcGlja2xlXSBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlIHBpY2tsZVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UuXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSUNvbW1hbmRJbml0aWFsaXplVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSBhY3Rpb25JZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGFjdGlvbklkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRJbml0aWFsaXplVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlLnByb3RvdHlwZS5hY3Rpb25JZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlIHBpY2tsZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlfG51bGx8dW5kZWZpbmVkfSBwaWNrbGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UucHJvdG90eXBlLnBpY2tsZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRJbml0aWFsaXplVGVzdENhc2V9IENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZS52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRJbml0aWFsaXplVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZX0gbWVzc2FnZSBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hY3Rpb25JZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25JZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UuYWN0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicGlja2xlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLmVuY29kZShtZXNzYWdlLnBpY2tsZSwgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlfSBtZXNzYWdlIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRJbml0aWFsaXplVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZX0gQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFjdGlvbklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRJbml0aWFsaXplVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRJbml0aWFsaXplVGVzdENhc2V9IENvbW1hbmRJbml0aWFsaXplVGVzdENhc2VcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIFBsYWluIG9iamVjdCB0byB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IGBudWxsYCBpZiB2YWxpZCwgb3RoZXJ3aXNlIHRoZSByZWFzb24gd2h5IGl0IGlzIG5vdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYWN0aW9uSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuYWN0aW9uSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFjdGlvbklkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGlja2xlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLnZlcmlmeShtZXNzYWdlLnBpY2tsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGlja2xlLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZX0gQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmFjdGlvbklkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFjdGlvbklkID0gU3RyaW5nKG9iamVjdC5hY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QucGlja2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnBpY2tsZSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZS5waWNrbGU6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLmZyb21PYmplY3Qob2JqZWN0LnBpY2tsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEluaXRpYWxpemVUZXN0Q2FzZX0gbWVzc2FnZSBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25JZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGlja2xlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hY3Rpb25JZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25JZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25JZCA9IG1lc3NhZ2UuYWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGlja2xlID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlLnRvT2JqZWN0KG1lc3NhZ2UucGlja2xlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlIHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRJbml0aWFsaXplVGVzdENhc2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBDb21tYW5kSW5pdGlhbGl6ZVRlc3RDYXNlO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbYWN0aW9uSWRdIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgYWN0aW9uSWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbaG9va0lkXSBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rIGhvb2tJZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFt0ZXN0Q2FzZUlkXSBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rIHRlc3RDYXNlSWRcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnN0cnVjdHMgYSBuZXcgQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vay5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vaz19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2socHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgYWN0aW9uSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBhY3Rpb25JZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vay5wcm90b3R5cGUuYWN0aW9uSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayBob29rSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBob29rSWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sucHJvdG90eXBlLmhvb2tJZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rIHRlc3RDYXNlSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB0ZXN0Q2FzZUlkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLnByb3RvdHlwZS50ZXN0Q2FzZUlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2s9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9va30gQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2suY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rfSBtZXNzYWdlIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2suZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS5hY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhvb2tJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJob29rSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLnN0cmluZyhtZXNzYWdlLmhvb2tJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuc3RyaW5nKG1lc3NhZ2UudGVzdENhc2VJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2t9IG1lc3NhZ2UgQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vay5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rfSBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2soKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWN0aW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ob29rSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0Q2FzZUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rfSBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmFjdGlvbklkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhY3Rpb25JZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhvb2tJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJob29rSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuaG9va0lkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJob29rSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZUlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudGVzdENhc2VJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdENhc2VJZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vayBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2t9IENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vaylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2soKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5hY3Rpb25JZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hY3Rpb25JZCA9IFN0cmluZyhvYmplY3QuYWN0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lmhvb2tJZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ob29rSWQgPSBTdHJpbmcob2JqZWN0Lmhvb2tJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGVzdENhc2VJZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0Q2FzZUlkID0gU3RyaW5nKG9iamVjdC50ZXN0Q2FzZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9va30gbWVzc2FnZSBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQmVmb3JlVGVzdENhc2VIb29rLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25JZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaG9va0lkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0Q2FzZUlkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hY3Rpb25JZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25JZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25JZCA9IG1lc3NhZ2UuYWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhvb2tJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJob29rSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaG9va0lkID0gbWVzc2FnZS5ob29rSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0Q2FzZUlkID0gbWVzc2FnZS50ZXN0Q2FzZUlkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2sgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkJlZm9yZVRlc3RDYXNlSG9vay5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbW1hbmRSdW5CZWZvcmVUZXN0Q2FzZUhvb2s7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICBtZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFthY3Rpb25JZF0gQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rIGFjdGlvbklkXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2hvb2tJZF0gQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rIGhvb2tJZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFt0ZXN0Q2FzZUlkXSBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sgdGVzdENhc2VJZFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2suXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2s9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2socHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayBhY3Rpb25JZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGFjdGlvbklkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vay5wcm90b3R5cGUuYWN0aW9uSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rIGhvb2tJZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGhvb2tJZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sucHJvdG90eXBlLmhvb2tJZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sgdGVzdENhc2VJZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHRlc3RDYXNlSWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLnByb3RvdHlwZS50ZXN0Q2FzZUlkID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2s9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rfSBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2suY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2socHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sgbWVzc2FnZS4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va30gbWVzc2FnZSBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vay5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYWN0aW9uSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLnN0cmluZyhtZXNzYWdlLmFjdGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaG9va0lkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImhvb2tJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2UuaG9va0lkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZUlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAzLCB3aXJlVHlwZSAyID0qLzI2KS5zdHJpbmcobWVzc2FnZS50ZXN0Q2FzZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rfSBtZXNzYWdlIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBDb21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2sgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2t9IENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vaygpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hY3Rpb25JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhvb2tJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RDYXNlSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2t9IENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmFjdGlvbklkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhY3Rpb25JZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhvb2tJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJob29rSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuaG9va0lkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJob29rSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXN0Q2FzZUlkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRlc3RDYXNlSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudGVzdENhc2VJZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGVzdENhc2VJZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rIG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2tcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuQWZ0ZXJUZXN0Q2FzZUhvb2t9IENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vay5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vaylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vaygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmFjdGlvbklkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFjdGlvbklkID0gU3RyaW5nKG9iamVjdC5hY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaG9va0lkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhvb2tJZCA9IFN0cmluZyhvYmplY3QuaG9va0lkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXN0Q2FzZUlkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRlc3RDYXNlSWQgPSBTdHJpbmcob2JqZWN0LnRlc3RDYXNlSWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rfSBtZXNzYWdlIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9va1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25JZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaG9va0lkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0Q2FzZUlkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hY3Rpb25JZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25JZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25JZCA9IG1lc3NhZ2UuYWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhvb2tJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJob29rSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaG9va0lkID0gbWVzc2FnZS5ob29rSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0Q2FzZUlkID0gbWVzc2FnZS50ZXN0Q2FzZUlkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vayB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1bkFmdGVyVGVzdENhc2VIb29rXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vay5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbW1hbmRSdW5BZnRlclRlc3RDYXNlSG9vaztcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBDb21tYW5kUnVuVGVzdFN0ZXAuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJQ29tbWFuZFJ1blRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW2FjdGlvbklkXSBDb21tYW5kUnVuVGVzdFN0ZXAgYWN0aW9uSWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbc3RlcERlZmluaXRpb25JZF0gQ29tbWFuZFJ1blRlc3RTdGVwIHN0ZXBEZWZpbml0aW9uSWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcE1hdGNoQXJndW1lbnQ+fG51bGx9IFtzdGVwTWF0Y2hBcmd1bWVudHNdIENvbW1hbmRSdW5UZXN0U3RlcCBzdGVwTWF0Y2hBcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklQaWNrbGVTdGVwQXJndW1lbnR8bnVsbH0gW3BpY2tsZVN0ZXBBcmd1bWVudF0gQ29tbWFuZFJ1blRlc3RTdGVwIHBpY2tsZVN0ZXBBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IFt0ZXN0Q2FzZUlkXSBDb21tYW5kUnVuVGVzdFN0ZXAgdGVzdENhc2VJZFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBDb21tYW5kUnVuVGVzdFN0ZXAuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgQ29tbWFuZFJ1blRlc3RTdGVwLlxuICAgICAgICAgICAgICAgICAqIEBpbXBsZW1lbnRzIElDb21tYW5kUnVuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuVGVzdFN0ZXA9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBDb21tYW5kUnVuVGVzdFN0ZXAocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZXBNYXRjaEFyZ3VtZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbW1hbmRSdW5UZXN0U3RlcCBhY3Rpb25JZC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGFjdGlvbklkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5UZXN0U3RlcC5wcm90b3R5cGUuYWN0aW9uSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZFJ1blRlc3RTdGVwIHN0ZXBEZWZpbml0aW9uSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBzdGVwRGVmaW5pdGlvbklkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5UZXN0U3RlcC5wcm90b3R5cGUuc3RlcERlZmluaXRpb25JZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb21tYW5kUnVuVGVzdFN0ZXAgc3RlcE1hdGNoQXJndW1lbnRzLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcE1hdGNoQXJndW1lbnQ+fSBzdGVwTWF0Y2hBcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1blRlc3RTdGVwLnByb3RvdHlwZS5zdGVwTWF0Y2hBcmd1bWVudHMgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZFJ1blRlc3RTdGVwIHBpY2tsZVN0ZXBBcmd1bWVudC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlU3RlcEFyZ3VtZW50fG51bGx8dW5kZWZpbmVkfSBwaWNrbGVTdGVwQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1blRlc3RTdGVwLnByb3RvdHlwZS5waWNrbGVTdGVwQXJndW1lbnQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZFJ1blRlc3RTdGVwIHRlc3RDYXNlSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSB0ZXN0Q2FzZUlkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5UZXN0U3RlcC5wcm90b3R5cGUudGVzdENhc2VJZCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IENvbW1hbmRSdW5UZXN0U3RlcCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZFJ1blRlc3RTdGVwPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcH0gQ29tbWFuZFJ1blRlc3RTdGVwIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZFJ1blRlc3RTdGVwLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tbWFuZFJ1blRlc3RTdGVwKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBFbmNvZGVzIHRoZSBzcGVjaWZpZWQgQ29tbWFuZFJ1blRlc3RTdGVwIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklDb21tYW5kUnVuVGVzdFN0ZXB9IG1lc3NhZ2UgQ29tbWFuZFJ1blRlc3RTdGVwIG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuVGVzdFN0ZXAuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS5hY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic3RlcERlZmluaXRpb25JZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMiwgd2lyZVR5cGUgMiA9Ki8xOCkuc3RyaW5nKG1lc3NhZ2Uuc3RlcERlZmluaXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBNYXRjaEFyZ3VtZW50cyAhPSBudWxsICYmIG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuZW5jb2RlKG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzW2ldLCB3cml0ZXIudWludDMyKC8qIGlkIDMsIHdpcmVUeXBlIDIgPSovMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZVN0ZXBBcmd1bWVudCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVTdGVwQXJndW1lbnRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuZW5jb2RlKG1lc3NhZ2UucGlja2xlU3RlcEFyZ3VtZW50LCB3cml0ZXIudWludDMyKC8qIGlkIDQsIHdpcmVUeXBlIDIgPSovMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgNSwgd2lyZVR5cGUgMiA9Ki80Mikuc3RyaW5nKG1lc3NhZ2UudGVzdENhc2VJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBDb21tYW5kUnVuVGVzdFN0ZXAgbWVzc2FnZSwgbGVuZ3RoIGRlbGltaXRlZC4gRG9lcyBub3QgaW1wbGljaXRseSB7QGxpbmsgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwLnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRSdW5UZXN0U3RlcH0gbWVzc2FnZSBDb21tYW5kUnVuVGVzdFN0ZXAgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5UZXN0U3RlcC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgQ29tbWFuZFJ1blRlc3RTdGVwIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwfSBDb21tYW5kUnVuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3MgeyRwcm90b2J1Zi51dGlsLlByb3RvY29sRXJyb3J9IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5UZXN0U3RlcC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSAkUmVhZGVyLmNyZWF0ZShyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aCwgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWN0aW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwRGVmaW5pdGlvbklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzICYmIG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMucHVzaCgkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBpY2tsZVN0ZXBBcmd1bWVudCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGVzdENhc2VJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgQ29tbWFuZFJ1blRlc3RTdGVwIG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuUmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcH0gQ29tbWFuZFJ1blRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuVGVzdFN0ZXAuZGVjb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZGVjb2RlRGVsaW1pdGVkKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFZlcmlmaWVzIGEgQ29tbWFuZFJ1blRlc3RTdGVwIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuVGVzdFN0ZXAudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJvYmplY3QgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYWN0aW9uSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UuYWN0aW9uSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFjdGlvbklkOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RlcERlZmluaXRpb25JZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdGVwRGVmaW5pdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0ZXBEZWZpbml0aW9uSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwic3RlcE1hdGNoQXJndW1lbnRzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0ZXBNYXRjaEFyZ3VtZW50czogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC52ZXJpZnkobWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3RlcE1hdGNoQXJndW1lbnRzLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGlja2xlU3RlcEFyZ3VtZW50ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZVN0ZXBBcmd1bWVudFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LnZlcmlmeShtZXNzYWdlLnBpY2tsZVN0ZXBBcmd1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGlja2xlU3RlcEFyZ3VtZW50LlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGVzdENhc2VJZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXN0Q2FzZUlkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLnRlc3RDYXNlSWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRlc3RDYXNlSWQ6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIENvbW1hbmRSdW5UZXN0U3RlcCBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwfSBDb21tYW5kUnVuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kUnVuVGVzdFN0ZXAuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5hY3Rpb25JZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hY3Rpb25JZCA9IFN0cmluZyhvYmplY3QuYWN0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnN0ZXBEZWZpbml0aW9uSWQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RlcERlZmluaXRpb25JZCA9IFN0cmluZyhvYmplY3Quc3RlcERlZmluaXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3Quc3RlcE1hdGNoQXJndW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0LnN0ZXBNYXRjaEFyZ3VtZW50cykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcC5zdGVwTWF0Y2hBcmd1bWVudHM6IGFycmF5IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LnN0ZXBNYXRjaEFyZ3VtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnN0ZXBNYXRjaEFyZ3VtZW50c1tpXSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiLmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcC5zdGVwTWF0Y2hBcmd1bWVudHM6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0ZXBNYXRjaEFyZ3VtZW50c1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50LmZyb21PYmplY3Qob2JqZWN0LnN0ZXBNYXRjaEFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5waWNrbGVTdGVwQXJndW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QucGlja2xlU3RlcEFyZ3VtZW50ICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kUnVuVGVzdFN0ZXAucGlja2xlU3RlcEFyZ3VtZW50OiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBpY2tsZVN0ZXBBcmd1bWVudCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5mcm9tT2JqZWN0KG9iamVjdC5waWNrbGVTdGVwQXJndW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudGVzdENhc2VJZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXN0Q2FzZUlkID0gU3RyaW5nKG9iamVjdC50ZXN0Q2FzZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIENvbW1hbmRSdW5UZXN0U3RlcCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvT2JqZWN0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRSdW5UZXN0U3RlcH0gbWVzc2FnZSBDb21tYW5kUnVuVGVzdFN0ZXBcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5JQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5UZXN0U3RlcC50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFycmF5cyB8fCBvcHRpb25zLmRlZmF1bHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBNYXRjaEFyZ3VtZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFjdGlvbklkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwRGVmaW5pdGlvbklkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5waWNrbGVTdGVwQXJndW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRlc3RDYXNlSWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFjdGlvbklkID0gbWVzc2FnZS5hY3Rpb25JZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RlcERlZmluaXRpb25JZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdGVwRGVmaW5pdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBEZWZpbml0aW9uSWQgPSBtZXNzYWdlLnN0ZXBEZWZpbml0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0ZXBNYXRjaEFyZ3VtZW50cyAmJiBtZXNzYWdlLnN0ZXBNYXRjaEFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGVwTWF0Y2hBcmd1bWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5zdGVwTWF0Y2hBcmd1bWVudHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnN0ZXBNYXRjaEFyZ3VtZW50c1tqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50LnRvT2JqZWN0KG1lc3NhZ2Uuc3RlcE1hdGNoQXJndW1lbnRzW2pdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5waWNrbGVTdGVwQXJndW1lbnQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwicGlja2xlU3RlcEFyZ3VtZW50XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBpY2tsZVN0ZXBBcmd1bWVudCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC50b09iamVjdChtZXNzYWdlLnBpY2tsZVN0ZXBBcmd1bWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRlc3RDYXNlSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidGVzdENhc2VJZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXN0Q2FzZUlkID0gbWVzc2FnZS50ZXN0Q2FzZUlkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIENvbW1hbmRSdW5UZXN0U3RlcCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZFJ1blRlc3RTdGVwXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRSdW5UZXN0U3RlcC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLCAkcHJvdG9idWYudXRpbC50b0pTT05PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbW1hbmRSdW5UZXN0U3RlcDtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50ID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIFN0ZXBNYXRjaEFyZ3VtZW50LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSVN0ZXBNYXRjaEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gW3BhcmFtZXRlclR5cGVOYW1lXSBTdGVwTWF0Y2hBcmd1bWVudCBwYXJhbWV0ZXJUeXBlTmFtZVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuSUdyb3VwfG51bGx9IFtncm91cF0gUmVwcmVzZW50cyB0aGUgb3V0ZXJtb3N0IGNhcHR1cmUgZ3JvdXAgb2YgYW4gYXJndW1lbnQuIFRoaXMgbWVzc2FnZSBjbG9zZWx5IG1hdGNoZXMgdGhlXG4gICAgICAgICAgICAgICAgICogYEdyb3VwYCBjbGFzcyBpbiB0aGUgYGN1Y3VtYmVyLWV4cHJlc3Npb25zYCBsaWJyYXJ5LlxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBTdGVwTWF0Y2hBcmd1bWVudC5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgKiBAY2xhc3NkZXNjIFJlcHJlc2VudHMgYSBzaW5nbGUgYXJndW1lbnQgZXh0cmFjdGVkIGZyb20gYSBzdGVwIG1hdGNoIGFuZCBwYXNzZWQgdG8gYSBzdGVwIGRlZmluaXRpb24uXG4gICAgICAgICAgICAgICAgICogVGhpcyBpcyB1c2VkIGZvciB0aGUgZm9sbG93aW5nIHB1cnBvc2VzOlxuICAgICAgICAgICAgICAgICAqIC0gQ29uc3RydWN0IGFuIGFyZ3VtZW50IHRvIHBhc3MgdG8gYSBzdGVwIGRlZmluaXRpb24gKHBvc3NpYmx5IHRocm91Z2ggYSBwYXJhbWV0ZXIgdHlwZSB0cmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAgICogLSBIaWdobGlnaHQgdGhlIG1hdGNoZWQgcGFyYW1ldGVyIGluIHJpY2ggZm9ybWF0dGVycyBzdWNoIGFzIHRoZSBIVE1MIGZvcm1hdHRlclxuICAgICAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICAgICAqIFRoaXMgbWVzc2FnZSBjbG9zZWx5IG1hdGNoZXMgdGhlIGBBcmd1bWVudGAgY2xhc3MgaW4gdGhlIGBjdWN1bWJlci1leHByZXNzaW9uc2AgbGlicmFyeS5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJU3RlcE1hdGNoQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklTdGVwTWF0Y2hBcmd1bWVudD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFN0ZXBNYXRjaEFyZ3VtZW50KHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1trZXlzW2ldXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2tleXNbaV1dID0gcHJvcGVydGllc1trZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdGVwTWF0Y2hBcmd1bWVudCBwYXJhbWV0ZXJUeXBlTmFtZS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHBhcmFtZXRlclR5cGVOYW1lXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcE1hdGNoQXJndW1lbnQucHJvdG90eXBlLnBhcmFtZXRlclR5cGVOYW1lID0gXCJcIjtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlcHJlc2VudHMgdGhlIG91dGVybW9zdCBjYXB0dXJlIGdyb3VwIG9mIGFuIGFyZ3VtZW50LiBUaGlzIG1lc3NhZ2UgY2xvc2VseSBtYXRjaGVzIHRoZVxuICAgICAgICAgICAgICAgICAqIGBHcm91cGAgY2xhc3MgaW4gdGhlIGBjdWN1bWJlci1leHByZXNzaW9uc2AgbGlicmFyeS5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5JR3JvdXB8bnVsbHx1bmRlZmluZWR9IGdyb3VwXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcE1hdGNoQXJndW1lbnQucHJvdG90eXBlLmdyb3VwID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgU3RlcE1hdGNoQXJndW1lbnQgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcE1hdGNoQXJndW1lbnQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnR9IFN0ZXBNYXRjaEFyZ3VtZW50IGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcE1hdGNoQXJndW1lbnQuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGVwTWF0Y2hBcmd1bWVudChwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRW5jb2RlcyB0aGUgc3BlY2lmaWVkIFN0ZXBNYXRjaEFyZ3VtZW50IG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50LnZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JU3RlcE1hdGNoQXJndW1lbnR9IG1lc3NhZ2UgU3RlcE1hdGNoQXJndW1lbnQgbWVzc2FnZSBvciBwbGFpbiBvYmplY3QgdG8gZW5jb2RlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgeyRwcm90b2J1Zi5Xcml0ZXJ9IFdyaXRlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN0ZXBNYXRjaEFyZ3VtZW50LmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIgPSAkV3JpdGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5wYXJhbWV0ZXJUeXBlTmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwYXJhbWV0ZXJUeXBlTmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoLyogaWQgMSwgd2lyZVR5cGUgMiA9Ki8xMCkuc3RyaW5nKG1lc3NhZ2UucGFyYW1ldGVyVHlwZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5ncm91cCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJncm91cFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwLmVuY29kZShtZXNzYWdlLmdyb3VwLCB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBTdGVwTWF0Y2hBcmd1bWVudCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVN0ZXBNYXRjaEFyZ3VtZW50fSBtZXNzYWdlIFN0ZXBNYXRjaEFyZ3VtZW50IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0IHRvIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLldyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIGVuY29kZSB0b1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwTWF0Y2hBcmd1bWVudC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgU3RlcE1hdGNoQXJndW1lbnQgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZGVjb2RlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBNZXNzYWdlIGxlbmd0aCBpZiBrbm93biBiZWZvcmVoYW5kXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50fSBTdGVwTWF0Y2hBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgU3RlcE1hdGNoQXJndW1lbnQuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHJlYWRlciwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGgsIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFyYW1ldGVyVHlwZU5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ncm91cCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVjb2RlcyBhIFN0ZXBNYXRjaEFyZ3VtZW50IG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnR9IFN0ZXBNYXRjaEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwTWF0Y2hBcmd1bWVudC5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBTdGVwTWF0Y2hBcmd1bWVudCBtZXNzYWdlLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwTWF0Y2hBcmd1bWVudC52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5wYXJhbWV0ZXJUeXBlTmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwYXJhbWV0ZXJUeXBlTmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS5wYXJhbWV0ZXJUeXBlTmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGFyYW1ldGVyVHlwZU5hbWU6IHN0cmluZyBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5ncm91cCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJncm91cFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXAudmVyaWZ5KG1lc3NhZ2UuZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImdyb3VwLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBTdGVwTWF0Y2hBcmd1bWVudCBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudH0gU3RlcE1hdGNoQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwTWF0Y2hBcmd1bWVudC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5wYXJhbWV0ZXJUeXBlTmFtZSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJhbWV0ZXJUeXBlTmFtZSA9IFN0cmluZyhvYmplY3QucGFyYW1ldGVyVHlwZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lmdyb3VwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0Lmdyb3VwICE9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5ncm91cDogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ncm91cCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwLmZyb21PYmplY3Qob2JqZWN0Lmdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIHBsYWluIG9iamVjdCBmcm9tIGEgU3RlcE1hdGNoQXJndW1lbnQgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50fSBtZXNzYWdlIFN0ZXBNYXRjaEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBTdGVwTWF0Y2hBcmd1bWVudC50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGFyYW1ldGVyVHlwZU5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lmdyb3VwID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5wYXJhbWV0ZXJUeXBlTmFtZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwYXJhbWV0ZXJUeXBlTmFtZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5wYXJhbWV0ZXJUeXBlTmFtZSA9IG1lc3NhZ2UucGFyYW1ldGVyVHlwZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmdyb3VwICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImdyb3VwXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lmdyb3VwID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXAudG9PYmplY3QobWVzc2FnZS5ncm91cCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgU3RlcE1hdGNoQXJndW1lbnQgdG8gSlNPTi5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIFN0ZXBNYXRjaEFyZ3VtZW50LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBTdGVwTWF0Y2hBcmd1bWVudC5Hcm91cCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUHJvcGVydGllcyBvZiBhIEdyb3VwLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICogQGludGVyZmFjZSBJR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ8bnVsbH0gW3N0YXJ0XSBHcm91cCBzdGFydFxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdmFsdWVdIEdyb3VwIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50LklHcm91cD58bnVsbH0gW2NoaWxkcmVuXSBHcm91cCBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBHcm91cC5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIEdyb3VwLlxuICAgICAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuSUdyb3VwPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBHcm91cChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEdyb3VwIHN0YXJ0LlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEdyb3VwLnByb3RvdHlwZS5zdGFydCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEdyb3VwIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEdyb3VwLnByb3RvdHlwZS52YWx1ZSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEdyb3VwIGNoaWxkcmVuLlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuSUdyb3VwPn0gY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgR3JvdXAucHJvdG90eXBlLmNoaWxkcmVuID0gJHV0aWwuZW1wdHlBcnJheTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBHcm91cCBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5JR3JvdXA9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwfSBHcm91cCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgR3JvdXAuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR3JvdXAocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBHcm91cCBtZXNzYWdlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5Hcm91cC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50LklHcm91cH0gbWVzc2FnZSBHcm91cCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEdyb3VwLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlciA9ICRXcml0ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGFydCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDAgPSovOCkudWludDMyKG1lc3NhZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidmFsdWVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAyLCB3aXJlVHlwZSAyID0qLzE4KS5zdHJpbmcobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jaGlsZHJlbiAhPSBudWxsICYmIG1lc3NhZ2UuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5jaGlsZHJlbi5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXAuZW5jb2RlKG1lc3NhZ2UuY2hpbGRyZW5baV0sIHdyaXRlci51aW50MzIoLyogaWQgMywgd2lyZVR5cGUgMiA9Ki8yNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBHcm91cCBtZXNzYWdlLCBsZW5ndGggZGVsaW1pdGVkLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5Hcm91cC52ZXJpZnl8dmVyaWZ5fSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50LklHcm91cH0gbWVzc2FnZSBHcm91cCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuV3JpdGVyfSBbd3JpdGVyXSBXcml0ZXIgdG8gZW5jb2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHskcHJvdG9idWYuV3JpdGVyfSBXcml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEdyb3VwLmVuY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgR3JvdXAgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZVxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIE1lc3NhZ2UgbGVuZ3RoIGlmIGtub3duIGJlZm9yZWhhbmRcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwfSBHcm91cFxuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEdyb3VwLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gJFJlYWRlci5jcmVhdGUocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhcnQgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLmNoaWxkcmVuICYmIG1lc3NhZ2UuY2hpbGRyZW4ubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaGlsZHJlbi5wdXNoKCRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgR3JvdXAgbWVzc2FnZSBmcm9tIHRoZSBzcGVjaWZpZWQgcmVhZGVyIG9yIGJ1ZmZlciwgbGVuZ3RoIGRlbGltaXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwfSBHcm91cFxuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHBheWxvYWQgaXMgbm90IGEgcmVhZGVyIG9yIHZhbGlkIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEdyb3VwLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyAkUmVhZGVyKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIEdyb3VwIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB2ZXJpZnlcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBHcm91cC52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdGFydCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzSW50ZWdlcihtZXNzYWdlLnN0YXJ0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3RhcnQ6IGludGVnZXIgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHV0aWwuaXNTdHJpbmcobWVzc2FnZS52YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInZhbHVlOiBzdHJpbmcgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNoaWxkcmVuICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImNoaWxkcmVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UuY2hpbGRyZW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjaGlsZHJlbjogYXJyYXkgZXhwZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXAudmVyaWZ5KG1lc3NhZ2UuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjaGlsZHJlbi5cIiArIGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgR3JvdXAgbWVzc2FnZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5Hcm91cH0gR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIEdyb3VwLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5Hcm91cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5zdGFydCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhcnQgPSBvYmplY3Quc3RhcnQgPj4+IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnZhbHVlICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IFN0cmluZyhvYmplY3QudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QuY2hpbGRyZW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXAuY2hpbGRyZW46IGFycmF5IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5jaGlsZHJlbltpXSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5Hcm91cC5jaGlsZHJlbjogb2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNoaWxkcmVuW2ldID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXAuZnJvbU9iamVjdChvYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBHcm91cCBtZXNzYWdlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuU3RlcE1hdGNoQXJndW1lbnQuR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwfSBtZXNzYWdlIEdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgR3JvdXAudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNoaWxkcmVuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0YXJ0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zdGFydCA9IG1lc3NhZ2Uuc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudmFsdWUgPSBtZXNzYWdlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY2hpbGRyZW4gJiYgbWVzc2FnZS5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2UuY2hpbGRyZW4ubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jaGlsZHJlbltqXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlN0ZXBNYXRjaEFyZ3VtZW50Lkdyb3VwLnRvT2JqZWN0KG1lc3NhZ2UuY2hpbGRyZW5bal0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBHcm91cCB0byBKU09OLlxuICAgICAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9KU09OXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5TdGVwTWF0Y2hBcmd1bWVudC5Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgR3JvdXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBHcm91cDtcbiAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0ZXBNYXRjaEFyZ3VtZW50O1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuQ29tbWFuZEdlbmVyYXRlU25pcHBldCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBDb21tYW5kR2VuZXJhdGVTbmlwcGV0LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUNvbW1hbmRHZW5lcmF0ZVNuaXBwZXRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbYWN0aW9uSWRdIENvbW1hbmRHZW5lcmF0ZVNuaXBwZXQgYWN0aW9uSWRcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljxpby5jdWN1bWJlci5tZXNzYWdlcy5JR2VuZXJhdGVkRXhwcmVzc2lvbj58bnVsbH0gW2dlbmVyYXRlZEV4cHJlc3Npb25zXSBDb21tYW5kR2VuZXJhdGVTbmlwcGV0IGdlbmVyYXRlZEV4cHJlc3Npb25zXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtpby5jdWN1bWJlci5tZXNzYWdlcy5JUGlja2xlU3RlcEFyZ3VtZW50fG51bGx9IFtwaWNrbGVTdGVwQXJndW1lbnRdIENvbW1hbmRHZW5lcmF0ZVNuaXBwZXQgcGlja2xlU3RlcEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENvbW1hbmRHZW5lcmF0ZVNuaXBwZXQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgQ29tbWFuZEdlbmVyYXRlU25pcHBldC5cbiAgICAgICAgICAgICAgICAgKiBAaW1wbGVtZW50cyBJQ29tbWFuZEdlbmVyYXRlU25pcHBldFxuICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQ9fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBDb21tYW5kR2VuZXJhdGVTbmlwcGV0KHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZWRFeHByZXNzaW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleXNbaV1dICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbW1hbmRHZW5lcmF0ZVNuaXBwZXQgYWN0aW9uSWQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBhY3Rpb25JZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEdlbmVyYXRlU25pcHBldC5wcm90b3R5cGUuYWN0aW9uSWQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZEdlbmVyYXRlU25pcHBldCBnZW5lcmF0ZWRFeHByZXNzaW9ucy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48aW8uY3VjdW1iZXIubWVzc2FnZXMuSUdlbmVyYXRlZEV4cHJlc3Npb24+fSBnZW5lcmF0ZWRFeHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEdlbmVyYXRlU25pcHBldC5wcm90b3R5cGUuZ2VuZXJhdGVkRXhwcmVzc2lvbnMgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29tbWFuZEdlbmVyYXRlU25pcHBldCBwaWNrbGVTdGVwQXJndW1lbnQuXG4gICAgICAgICAgICAgICAgICogQG1lbWJlciB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSVBpY2tsZVN0ZXBBcmd1bWVudHxudWxsfHVuZGVmaW5lZH0gcGlja2xlU3RlcEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXRcbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kR2VuZXJhdGVTbmlwcGV0LnByb3RvdHlwZS5waWNrbGVTdGVwQXJndW1lbnQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBDb21tYW5kR2VuZXJhdGVTbmlwcGV0IGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JQ29tbWFuZEdlbmVyYXRlU25pcHBldD19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0fSBDb21tYW5kR2VuZXJhdGVTbmlwcGV0IGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEdlbmVyYXRlU25pcHBldC5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbW1hbmRHZW5lcmF0ZVNuaXBwZXQocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBDb21tYW5kR2VuZXJhdGVTbmlwcGV0IG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRHZW5lcmF0ZVNuaXBwZXR9IG1lc3NhZ2UgQ29tbWFuZEdlbmVyYXRlU25pcHBldCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEdlbmVyYXRlU25pcHBldC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uSWQgIT0gbnVsbCAmJiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwiYWN0aW9uSWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDEsIHdpcmVUeXBlIDIgPSovMTApLnN0cmluZyhtZXNzYWdlLmFjdGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZ2VuZXJhdGVkRXhwcmVzc2lvbnMgIT0gbnVsbCAmJiBtZXNzYWdlLmdlbmVyYXRlZEV4cHJlc3Npb25zLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZS5nZW5lcmF0ZWRFeHByZXNzaW9ucy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9uLmVuY29kZShtZXNzYWdlLmdlbmVyYXRlZEV4cHJlc3Npb25zW2ldLCB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZVN0ZXBBcmd1bWVudCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVTdGVwQXJndW1lbnRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5QaWNrbGVTdGVwQXJndW1lbnQuZW5jb2RlKG1lc3NhZ2UucGlja2xlU3RlcEFyZ3VtZW50LCB3cml0ZXIudWludDMyKC8qIGlkIDMsIHdpcmVUeXBlIDIgPSovMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBDb21tYW5kR2VuZXJhdGVTbmlwcGV0IG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQudmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUNvbW1hbmRHZW5lcmF0ZVNuaXBwZXR9IG1lc3NhZ2UgQ29tbWFuZEdlbmVyYXRlU25pcHBldCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgQ29tbWFuZEdlbmVyYXRlU25pcHBldC5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgQ29tbWFuZEdlbmVyYXRlU25pcHBldCBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEdlbmVyYXRlU25pcHBldFxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0fSBDb21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kR2VuZXJhdGVTbmlwcGV0LmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWN0aW9uSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZS5nZW5lcmF0ZWRFeHByZXNzaW9ucyAmJiBtZXNzYWdlLmdlbmVyYXRlZEV4cHJlc3Npb25zLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2VuZXJhdGVkRXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmdlbmVyYXRlZEV4cHJlc3Npb25zLnB1c2goJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2VuZXJhdGVkRXhwcmVzc2lvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBpY2tsZVN0ZXBBcmd1bWVudCA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLlBpY2tsZVN0ZXBBcmd1bWVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlY29kZXMgYSBDb21tYW5kR2VuZXJhdGVTbmlwcGV0IG1lc3NhZ2UgZnJvbSB0aGUgc3BlY2lmaWVkIHJlYWRlciBvciBidWZmZXIsIGxlbmd0aCBkZWxpbWl0ZWQuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLlJlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGUgZnJvbVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0fSBDb21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kR2VuZXJhdGVTbmlwcGV0LmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVhZGVyIGluc3RhbmNlb2YgJFJlYWRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgJFJlYWRlcihyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBWZXJpZmllcyBhIENvbW1hbmRHZW5lcmF0ZVNuaXBwZXQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkNvbW1hbmRHZW5lcmF0ZVNuaXBwZXRcbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBQbGFpbiBvYmplY3QgdG8gdmVyaWZ5XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kR2VuZXJhdGVTbmlwcGV0LnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbklkICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvbklkXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdXRpbC5pc1N0cmluZyhtZXNzYWdlLmFjdGlvbklkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhY3Rpb25JZDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmdlbmVyYXRlZEV4cHJlc3Npb25zICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImdlbmVyYXRlZEV4cHJlc3Npb25zXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZS5nZW5lcmF0ZWRFeHByZXNzaW9ucykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZ2VuZXJhdGVkRXhwcmVzc2lvbnM6IGFycmF5IGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2UuZ2VuZXJhdGVkRXhwcmVzc2lvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9uLnZlcmlmeShtZXNzYWdlLmdlbmVyYXRlZEV4cHJlc3Npb25zW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImdlbmVyYXRlZEV4cHJlc3Npb25zLlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGlja2xlU3RlcEFyZ3VtZW50ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInBpY2tsZVN0ZXBBcmd1bWVudFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LnZlcmlmeShtZXNzYWdlLnBpY2tsZVN0ZXBBcmd1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGlja2xlU3RlcEFyZ3VtZW50LlwiICsgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBDb21tYW5kR2VuZXJhdGVTbmlwcGV0IG1lc3NhZ2UgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gZnJvbU9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEdlbmVyYXRlU25pcHBldH0gQ29tbWFuZEdlbmVyYXRlU25pcHBldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRHZW5lcmF0ZVNuaXBwZXQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEdlbmVyYXRlU25pcHBldCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmFjdGlvbklkICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFjdGlvbklkID0gU3RyaW5nKG9iamVjdC5hY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuZ2VuZXJhdGVkRXhwcmVzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3QuZ2VuZXJhdGVkRXhwcmVzc2lvbnMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0LmdlbmVyYXRlZEV4cHJlc3Npb25zOiBhcnJheSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2VuZXJhdGVkRXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0LmdlbmVyYXRlZEV4cHJlc3Npb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuZ2VuZXJhdGVkRXhwcmVzc2lvbnNbaV0gIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0LmdlbmVyYXRlZEV4cHJlc3Npb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nZW5lcmF0ZWRFeHByZXNzaW9uc1tpXSA9ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdlbmVyYXRlZEV4cHJlc3Npb24uZnJvbU9iamVjdChvYmplY3QuZ2VuZXJhdGVkRXhwcmVzc2lvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QucGlja2xlU3RlcEFyZ3VtZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnBpY2tsZVN0ZXBBcmd1bWVudCAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCIuaW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEdlbmVyYXRlU25pcHBldC5waWNrbGVTdGVwQXJndW1lbnQ6IG9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGlja2xlU3RlcEFyZ3VtZW50ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LmZyb21PYmplY3Qob2JqZWN0LnBpY2tsZVN0ZXBBcmd1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIENvbW1hbmRHZW5lcmF0ZVNuaXBwZXQgbWVzc2FnZS4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gb3RoZXIgdHlwZXMgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b09iamVjdFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuQ29tbWFuZEdlbmVyYXRlU25pcHBldH0gbWVzc2FnZSBDb21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHskcHJvdG9idWYuSUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBQbGFpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBDb21tYW5kR2VuZXJhdGVTbmlwcGV0LnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzIHx8IG9wdGlvbnMuZGVmYXVsdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZ2VuZXJhdGVkRXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25JZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGlja2xlU3RlcEFyZ3VtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5hY3Rpb25JZCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25JZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hY3Rpb25JZCA9IG1lc3NhZ2UuYWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmdlbmVyYXRlZEV4cHJlc3Npb25zICYmIG1lc3NhZ2UuZ2VuZXJhdGVkRXhwcmVzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZ2VuZXJhdGVkRXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5nZW5lcmF0ZWRFeHByZXNzaW9ucy5sZW5ndGg7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZ2VuZXJhdGVkRXhwcmVzc2lvbnNbal0gPSAkcm9vdC5pby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9uLnRvT2JqZWN0KG1lc3NhZ2UuZ2VuZXJhdGVkRXhwcmVzc2lvbnNbal0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBpY2tsZVN0ZXBBcmd1bWVudCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwaWNrbGVTdGVwQXJndW1lbnRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QucGlja2xlU3RlcEFyZ3VtZW50ID0gJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuUGlja2xlU3RlcEFyZ3VtZW50LnRvT2JqZWN0KG1lc3NhZ2UucGlja2xlU3RlcEFyZ3VtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udmVydHMgdGhpcyBDb21tYW5kR2VuZXJhdGVTbmlwcGV0IHRvIEpTT04uXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHRvSlNPTlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5Db21tYW5kR2VuZXJhdGVTbmlwcGV0XG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIENvbW1hbmRHZW5lcmF0ZVNuaXBwZXQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcywgJHByb3RvYnVmLnV0aWwudG9KU09OT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBDb21tYW5kR2VuZXJhdGVTbmlwcGV0O1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgbWVzc2FnZXMuR2VuZXJhdGVkRXhwcmVzc2lvbiA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFByb3BlcnRpZXMgb2YgYSBHZW5lcmF0ZWRFeHByZXNzaW9uLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UgSUdlbmVyYXRlZEV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBbdGV4dF0gR2VuZXJhdGVkRXhwcmVzc2lvbiB0ZXh0XG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtBcnJheS48c3RyaW5nPnxudWxsfSBbcGFyYW1ldGVyVHlwZU5hbWVzXSBHZW5lcmF0ZWRFeHByZXNzaW9uIHBhcmFtZXRlclR5cGVOYW1lc1xuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBHZW5lcmF0ZWRFeHByZXNzaW9uLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqIEBjbGFzc2Rlc2MgUmVwcmVzZW50cyBhIEdlbmVyYXRlZEV4cHJlc3Npb24uXG4gICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMgSUdlbmVyYXRlZEV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLklHZW5lcmF0ZWRFeHByZXNzaW9uPX0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gR2VuZXJhdGVkRXhwcmVzc2lvbihwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1ldGVyVHlwZU5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNba2V5c1tpXV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlzW2ldXSA9IHByb3BlcnRpZXNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogR2VuZXJhdGVkRXhwcmVzc2lvbiB0ZXh0LlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gdGV4dFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2VuZXJhdGVkRXhwcmVzc2lvbi5wcm90b3R5cGUudGV4dCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBHZW5lcmF0ZWRFeHByZXNzaW9uIHBhcmFtZXRlclR5cGVOYW1lcy5cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyIHtBcnJheS48c3RyaW5nPn0gcGFyYW1ldGVyVHlwZU5hbWVzXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdlbmVyYXRlZEV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHZW5lcmF0ZWRFeHByZXNzaW9uLnByb3RvdHlwZS5wYXJhbWV0ZXJUeXBlTmFtZXMgPSAkdXRpbC5lbXB0eUFycmF5O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBHZW5lcmF0ZWRFeHByZXNzaW9uIGluc3RhbmNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gY3JlYXRlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdlbmVyYXRlZEV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtpby5jdWN1bWJlci5tZXNzYWdlcy5JR2VuZXJhdGVkRXhwcmVzc2lvbj19IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9ufSBHZW5lcmF0ZWRFeHByZXNzaW9uIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2VuZXJhdGVkRXhwcmVzc2lvbi5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdlbmVyYXRlZEV4cHJlc3Npb24ocHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBHZW5lcmF0ZWRFeHByZXNzaW9uIG1lc3NhZ2UuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdlbmVyYXRlZEV4cHJlc3Npb24udmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUdlbmVyYXRlZEV4cHJlc3Npb259IG1lc3NhZ2UgR2VuZXJhdGVkRXhwcmVzc2lvbiBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2VuZXJhdGVkRXhwcmVzc2lvbi5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd3JpdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gJFdyaXRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGV4dCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXh0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigvKiBpZCAxLCB3aXJlVHlwZSAyID0qLzEwKS5zdHJpbmcobWVzc2FnZS50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGFyYW1ldGVyVHlwZU5hbWVzICE9IG51bGwgJiYgbWVzc2FnZS5wYXJhbWV0ZXJUeXBlTmFtZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKC8qIGlkIDIsIHdpcmVUeXBlIDIgPSovMTgpLnN0cmluZyhtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuY29kZXMgdGhlIHNwZWNpZmllZCBHZW5lcmF0ZWRFeHByZXNzaW9uIG1lc3NhZ2UsIGxlbmd0aCBkZWxpbWl0ZWQuIERvZXMgbm90IGltcGxpY2l0bHkge0BsaW5rIGlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdlbmVyYXRlZEV4cHJlc3Npb24udmVyaWZ5fHZlcmlmeX0gbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGVuY29kZURlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7aW8uY3VjdW1iZXIubWVzc2FnZXMuSUdlbmVyYXRlZEV4cHJlc3Npb259IG1lc3NhZ2UgR2VuZXJhdGVkRXhwcmVzc2lvbiBtZXNzYWdlIG9yIHBsYWluIG9iamVjdCB0byBlbmNvZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5Xcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7JHByb3RvYnVmLldyaXRlcn0gV3JpdGVyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2VuZXJhdGVkRXhwcmVzc2lvbi5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZShtZXNzYWdlLCB3cml0ZXIpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgR2VuZXJhdGVkRXhwcmVzc2lvbiBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2VuZXJhdGVkRXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTWVzc2FnZSBsZW5ndGggaWYga25vd24gYmVmb3JlaGFuZFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtpby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9ufSBHZW5lcmF0ZWRFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAgICAgICAgICAgICAgICAgKiBAdGhyb3dzIHskcHJvdG9idWYudXRpbC5Qcm90b2NvbEVycm9yfSBJZiByZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHZW5lcmF0ZWRFeHByZXNzaW9uLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShyZWFkZXIsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiAkUmVhZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9ICRSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoLCBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdlbmVyYXRlZEV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcyAmJiBtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFyYW1ldGVyVHlwZU5hbWVzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEZWNvZGVzIGEgR2VuZXJhdGVkRXhwcmVzc2lvbiBtZXNzYWdlIGZyb20gdGhlIHNwZWNpZmllZCByZWFkZXIgb3IgYnVmZmVyLCBsZW5ndGggZGVsaW1pdGVkLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWRcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2VuZXJhdGVkRXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyRwcm90b2J1Zi5SZWFkZXJ8VWludDhBcnJheX0gcmVhZGVyIFJlYWRlciBvciBidWZmZXIgdG8gZGVjb2RlIGZyb21cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7aW8uY3VjdW1iZXIubWVzc2FnZXMuR2VuZXJhdGVkRXhwcmVzc2lvbn0gR2VuZXJhdGVkRXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGF5bG9hZCBpcyBub3QgYSByZWFkZXIgb3IgdmFsaWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICogQHRocm93cyB7JHByb3RvYnVmLnV0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2VuZXJhdGVkRXhwcmVzc2lvbi5kZWNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBkZWNvZGVEZWxpbWl0ZWQocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlYWRlciBpbnN0YW5jZW9mICRSZWFkZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3ICRSZWFkZXIocmVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVmVyaWZpZXMgYSBHZW5lcmF0ZWRFeHByZXNzaW9uIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBpby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gYG51bGxgIGlmIHZhbGlkLCBvdGhlcndpc2UgdGhlIHJlYXNvbiB3aHkgaXQgaXMgbm90XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2VuZXJhdGVkRXhwcmVzc2lvbi52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwib2JqZWN0XCIgfHwgbWVzc2FnZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdCBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50ZXh0ICE9IG51bGwgJiYgbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcInRleHRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UudGV4dCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGV4dDogc3RyaW5nIGV4cGVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcyAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJwYXJhbWV0ZXJUeXBlTmFtZXNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGFyYW1ldGVyVHlwZU5hbWVzOiBhcnJheSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR1dGlsLmlzU3RyaW5nKG1lc3NhZ2UucGFyYW1ldGVyVHlwZU5hbWVzW2ldKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGFyYW1ldGVyVHlwZU5hbWVzOiBzdHJpbmdbXSBleHBlY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgR2VuZXJhdGVkRXhwcmVzc2lvbiBtZXNzYWdlIGZyb20gYSBwbGFpbiBvYmplY3QuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgaW50ZXJuYWwgdHlwZXMuXG4gICAgICAgICAgICAgICAgICogQGZ1bmN0aW9uIGZyb21PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2VuZXJhdGVkRXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdlbmVyYXRlZEV4cHJlc3Npb259IEdlbmVyYXRlZEV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHZW5lcmF0ZWRFeHByZXNzaW9uLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgJHJvb3QuaW8uY3VjdW1iZXIubWVzc2FnZXMuR2VuZXJhdGVkRXhwcmVzc2lvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3ICRyb290LmlvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdlbmVyYXRlZEV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC50ZXh0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHQgPSBTdHJpbmcob2JqZWN0LnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnBhcmFtZXRlclR5cGVOYW1lcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdC5wYXJhbWV0ZXJUeXBlTmFtZXMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIi5pby5jdWN1bWJlci5tZXNzYWdlcy5HZW5lcmF0ZWRFeHByZXNzaW9uLnBhcmFtZXRlclR5cGVOYW1lczogYXJyYXkgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QucGFyYW1ldGVyVHlwZU5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFyYW1ldGVyVHlwZU5hbWVzW2ldID0gU3RyaW5nKG9iamVjdC5wYXJhbWV0ZXJUeXBlTmFtZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGVzIGEgcGxhaW4gb2JqZWN0IGZyb20gYSBHZW5lcmF0ZWRFeHByZXNzaW9uIG1lc3NhZ2UuIEFsc28gY29udmVydHMgdmFsdWVzIHRvIG90aGVyIHR5cGVzIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgKiBAZnVuY3Rpb24gdG9PYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2VuZXJhdGVkRXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2lvLmN1Y3VtYmVyLm1lc3NhZ2VzLkdlbmVyYXRlZEV4cHJlc3Npb259IG1lc3NhZ2UgR2VuZXJhdGVkRXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7JHByb3RvYnVmLklDb252ZXJzaW9uT3B0aW9uc30gW29wdGlvbnNdIENvbnZlcnNpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgR2VuZXJhdGVkRXhwcmVzc2lvbi50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFycmF5cyB8fCBvcHRpb25zLmRlZmF1bHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBhcmFtZXRlclR5cGVOYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0cylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGV4dCAhPSBudWxsICYmIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoXCJ0ZXh0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRleHQgPSBtZXNzYWdlLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcyAmJiBtZXNzYWdlLnBhcmFtZXRlclR5cGVOYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5wYXJhbWV0ZXJUeXBlTmFtZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVzc2FnZS5wYXJhbWV0ZXJUeXBlTmFtZXMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnBhcmFtZXRlclR5cGVOYW1lc1tqXSA9IG1lc3NhZ2UucGFyYW1ldGVyVHlwZU5hbWVzW2pdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnZlcnRzIHRoaXMgR2VuZXJhdGVkRXhwcmVzc2lvbiB0byBKU09OLlxuICAgICAgICAgICAgICAgICAqIEBmdW5jdGlvbiB0b0pTT05cbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgaW8uY3VjdW1iZXIubWVzc2FnZXMuR2VuZXJhdGVkRXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gSlNPTiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBHZW5lcmF0ZWRFeHByZXNzaW9uLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsICRwcm90b2J1Zi51dGlsLnRvSlNPTk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gR2VuZXJhdGVkRXhwcmVzc2lvbjtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICAgICAgfSkoKTtcblxuICAgICAgICByZXR1cm4gY3VjdW1iZXI7XG4gICAgfSkoKTtcblxuICAgIHJldHVybiBpbztcbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gJHJvb3Q7XG4iXSwibWFwcGluZ3MiOiJBQUNBLFlBQVk7O0FBRVosSUFBSUEsU0FBUyxHQUFHQyxPQUFPLENBQUMsb0JBQW9CLENBQUM7QUFHN0MsSUFBSUMsT0FBTyxHQUFHRixTQUFTLENBQUNHLE1BQU07RUFBRUMsT0FBTyxHQUFHSixTQUFTLENBQUNLLE1BQU07RUFBRUMsS0FBSyxHQUFHTixTQUFTLENBQUNPLElBQUk7QUFHbEYsSUFBSUMsS0FBSyxHQUFHUixTQUFTLENBQUNTLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBS1QsU0FBUyxDQUFDUyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFFM0VELEtBQUssQ0FBQ0UsRUFBRSxHQUFJLFlBQVc7RUFPbkIsSUFBSUEsRUFBRSxHQUFHLENBQUMsQ0FBQztFQUVYQSxFQUFFLENBQUNDLFFBQVEsR0FBSSxZQUFXO0lBT3RCLElBQUlBLFFBQVEsR0FBRyxDQUFDLENBQUM7SUFFakJBLFFBQVEsQ0FBQ0MsUUFBUSxHQUFJLFlBQVc7TUFPNUIsSUFBSUEsUUFBUSxHQUFHLENBQUMsQ0FBQztNQUVqQkEsUUFBUSxDQUFDQyxTQUFTLEdBQUksWUFBVztRQWtCN0Is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